<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>那时花开</title>
      <link href="/2023/1025/time-of-blooming-flowers.html"/>
      <url>/2023/1025/time-of-blooming-flowers.html</url>
      
        <content type="html"><![CDATA[<p><img src="/images/time-of-blooming-flowers/001.png" alt="原由"><br>在这个时候我又回忆了一下，我就是这么被王爷布置了一篇命题作文儿的，并且还屁颠儿屁颠儿的来交作业了。在这段对话之前其实是在讨论孩子的作业以及家里谁负责检查作业的问题。然后就说到孩子每次写完作文，我都要帮着润色一遍，再籍由改完的作文跟孩子讲应该怎样描写环境、人、事、物，应该怎样起承转合讲故事，而被要求这样做只是因为我打小还算是比较擅长写作，也有过断续在杂志上发表文章的经历。</p><p>写到这里的时候我突然就一闪念，似乎我最近写东西大多都与回忆有关，我是说明我老了还是说明我最近的生活也确实乏善可陈？或者我下意识的对现在的生活工作状态不满意？</p><p>说到写作，可能是得益于喜欢阅读，输入积累到一定程度就爆发了输出的欲望，而这个时期刚好是高中近大学的时候，于是，就不务正业的往各种青少年相关的杂志上投稿。那时的纸媒还是相当发达的，虽然多数投稿发出去就如泥牛入海，但也有几篇稿件虽然未被选中却收到了编辑的回信和建议，这样想起来，这样的反馈其实是给了我很大激励的。那个时候的我还很稚嫩，怎么说呐，天真的觉得世界很美好，所有的人都会善意的对待你，所以其实是写了很多放在现在我绝对不会读的东西，就是那种现在看了能用脚趾抠出一套别墅的那种。所以，当年能给我回信的编辑们是有多善良就可想而知了。</p><p>我记得当时263还有个论坛，里面的文学版块也是我常逛的，不光编故事，还写诗，而且还是现代诗，真的不知道哪来的脸……，就算作是少不更事吧，论坛里还有大哥帮点评帮修改，气氛很好，人很善良、世界很美好、人会善意的对待你，当然我还想到另一种可能性，也许是那些大哥怕看不懂那些云山雾罩的东西而被说肤浅，于是就保持善意的去解读，就像我们读“院子里有两颗数，一颗是枣树，另外一颗也是枣树”，也许当时只是因为修改文章的代价太大，好不容易写那么多，改几个字还要重新抄，于是就这么保留下来了呐，但是我们现代人还非要给人家一个正向的解读。</p><p>话题再扯回到投稿，那个时候青少年杂志上都会有一些介绍作者，提供一些交友信息之类的版块的，而那个时候网络还不像今天这么发达，虽然有QQ，但是好多人还是习惯交笔友的，于是我也在发文章时留下了收信地址，于是……</p><p><img src="/images/time-of-blooming-flowers/002.jpeg" alt="好多信件"><br>这么说吧，我不确定有多少人在短时间内收到过两三千封信的，我收到过。那段时间我租住在校外，因为对学校的课业没什么兴趣，一般两三个星期回一次学校，一天有一同学跟我说学校有大量我的信，传达室装不下了，让我回去处理，对，那个时候门卫室还叫传达室。后来那些信是塞在麻袋里和几个同学一起抬到我在校外的房子的。</p><p>我不知道别人写信给我是怎样的一种想法，如果是我肯定是期待对方回信的，所以我一般都会很认真的构思信的内容，认真的书写。我不知道别人如果收到大量别人的来信是怎样的一种想法，如果是我肯定是……懒得回信，当时我虽然没有回几封信，但是我确实是认真对待每一封信的，除非那封信字写的不够漂亮、信纸不够漂亮、信纸没有香味儿、写信的人是男的，一般最后一个原因都是相对比较最重要的吧。</p><p>当时我是有认真回过几封信的，就是经过筛选后，我觉得三观契合、对方说话方式也是我喜欢的那种吧，那个时候不像现在这么联系便捷，大致是因为我回信的时间慢了些、或是对方收到信后不想回信、或是我很快搬家的原因，最后建立起联系的其实就只有一个，而就这一个其实联系也没有持续太久，主要是因为我那个时候开始工作了，对于这样的联络没有了太大兴趣，同时那个时候的我可能还是年轻，判断事情就是非此即彼的，因为一些观点上的小差异就觉得不适合做朋友吧，如果是现在，多半我会求同存异，与她建立起相对深入的关系吧。</p><p>虽然已经是不让嚯嚯的年龄，但是男人至死是少年嘛，现在想起这件事还是很有暗爽的感觉。其实这一小篇本来是想说说关于阅读和写作的事的，结果最后就成了这样，哼，男人。</p>]]></content>
      
      
      <categories>
          
          <category> Life </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>听说你在找我？</title>
      <link href="/2023/1018/I-heard-you-have-heen-looking-for-me.html"/>
      <url>/2023/1018/I-heard-you-have-heen-looking-for-me.html</url>
      
        <content type="html"><![CDATA[<p><img src="../../images/I-heard-you-have-heen-looking-for-me/0001.jpg"><br>看了一下，上次更新是2022年一月，现在已经是2023年10月了，掐指一算，竟然有那么多天啥也没写过，这让我很是开心，这一年多来我的生活是多么的无趣。</p><p>王爷<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>也是提过很多次，我想着趁着去青岛的功夫写上几篇儿补补作文，结果是，我在那里天天训练交作业，哪有时间补作文儿呀，关于去青岛的事儿后边儿完整的说。</p><p>自打去年三月份离京到现在足足的三年半的时间，稍回想一下，令人开心的事儿真的是几乎没有，回到柳州后工作并未如之前预期的那样，这也怪我太轻信于人，另外就是运气不好，就正好遇到了经济下滑大趋势形成，在最不应当变动的时候变了动。</p><p>在这近两年的时候里最开心的两件事儿，一个是能再一次到沈阳浪了一圈儿，主要就是见见王爷，看看怹老人家的工作室，那给我稀罕的呀。另一个就是去青岛呆了一个月，对于这个年龄的我来说，能得一个月单纯学习的机会实在是难能可贵的。</p><span id="more"></span><p><img src="../../images/I-heard-you-have-heen-looking-for-me/0002.jpg"><br>坦白的说，这次去青岛的初衷其实就是借着去学习无人机执照的由头出去放松一下，结果整个学习期间的强度却是出乎我的意料之外，本想着这培训多半就是走个过场，就签发执照了的，谁成想，连续一个月，一天未休，在这期间周末就不说了，同时还包含了中秋和国庆两个法定节假日，每天早八点半到晚五点半，中间只有一个小时的午餐加午休时间，我就感觉比当年我上学的时候还要累。<br>除了最开始一个星期的理论学习，之后就是理论加实践，伴随学习过程的就是，一次又一次的的拿着电池去充电，然后拿着遥控或地面站去飞行，一遍遍的听教员讲理论一遍遍的实践怎样变副翼怎样抗风怎样返航，在这期间我真切的感受到我的鞋质量真不错，在碎石地面的飞场上走了那么多来回竟然完好无损。<br><img src="../../images/I-heard-you-have-heen-looking-for-me/0003.jpg"><br>累是真累，但是也确实很开心，专注的做一件事比脑子里装无数的念头会更加快乐。这样的辛苦之下，除了过程中的快乐之外，收获自然也是有的，首先就是开始享受飞行，我是指所有的飞行，之前虽然不说怕坐飞机，可多少是有些不乐意的，但是现在不一样了，在理论加持之下，飞机每次姿态的变化我坐在飞机内就能推测到驾驶员是怎样操作的，副翼是怎样动的，垂尾或是平尾在怎样动，前缘襟翼有没有配合动作，都是一清二楚的，这种感觉就很神奇，我这次坐飞机甚至都有心情拍窗外的云了，可惜的是，这次回来坐在紧急出口旁边的座位，对面就是空姐，我竟然没想着拍拍她，太可惜了。</p><p>所以，听说你在找我？我这近两年的时间，先是努力的适应新的环境，以后半生多半也会是在这里；努力的做好丈夫和父亲的角色；累了，就几千里去访友，然后又逃离一段时间，现在回来了，状态可能会有所改变。不立Flag，但是我确实也想说说这段时间遇到的人和事，希望下一篇不会是一年之后。</p><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">1.</span><span style="display: inline-block; vertical-align: top;">https://tigerwang.us</span><a href="#fnref:1" rev="footnote"> ↩</a></li></ol></div></div>]]></content>
      
      
      <categories>
          
          <category> Life </category>
          
      </categories>
      
      
        <tags>
            
            <tag> life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>回不去的老村庄</title>
      <link href="/2022/0112/old-village.html"/>
      <url>/2022/0112/old-village.html</url>
      
        <content type="html"><![CDATA[<p>村子要拆迁的传闻早就有了，一直没太当回事，直到听说村子各处都变成了工地，大家都想乘着这次拆迁赚一笔，我突然就感觉有些不踏实。</p><p>抽时间回到老家呆了两天，刚进村子就感觉不同，村内道路变得更狭窄，路边堆着砖头石灰沙料，到处能听到叮叮当当的敲砖砌墙的声音，四处也弥漫着石灰水泥的味道，光线都被加盖的二层三层给挡住，阴冷了起来。</p><p>回来之后就计划带孩子回去看看吧，要不然以后就再也看不到老家原本的样子了。但是拆迁似乎又停滞了，大家把房子盖起来后，就又没了拆迁的动静儿，于是这事就又被拖延了下去。</p><p>直到接到爸妈的电话，说要开始搬家了，村子拆迁时间已定，我这才慌了，又因正值疫情期间，计划的带孩子回村，计划的摄影拍照祭祖，这些全都无法执行了。</p><p>再回到村子已经是2021年的五一，父母搬到另一个村子暂住，好在那村子有大半是白姓人，皆与我同宗，父母在那村子的辈分很高，各方面都能得到后辈的关照，生活倒也便利。</p><p>听说村子已被推平，我不甘心，于是还是决定再去村上看看。</p><p>在村子的东边傍着一条河，这条河于我是无比熟悉的，但走上河堤我就发现与记忆中全然不同了。以前的河堤密密的长着碗口粗的杨树，靠近河边是满满的水草，以及荆条丛。而如今，河堤上已经修了一条柏油路，杨树已经褪变成了田亩的间隔，而原本密布的水草荆条丛则种成了庄稼。</p><p>风依然是清爽的，携着微微的河水味迎面吹来，犹如梦中闻到的味道，不真切，却又似乎熟悉。</p><span id="more"></span><p>到了村东头的时候，发现原来简易破败的桥已经变得正经起来，站在桥上想为幼时戏水的位置拍张照片，却发现此时的距离如此之远，让我觉得那里似乎和其它河也没有了什么区别。</p><p>村内的房屋已经全部给推平了，从桥头看过去，那里就是一片未开始建设的工地，所有熟悉的地方都再找不到了。</p><p>原本以为做为我的根，这里永远不会消失，甚至在来到村头之前，我都无法想象这里就真的没有了，那一瞬间的感觉就如浮在空中，梦中的童年竟再也无处安放。</p><p>那个时候，村子里的人还很多，每家都有人，大热的天，劳力们去干活，家里留下的是老人和孩子。奶奶坐在院中的树荫下做点针线活儿，还不会爬的小孙子只穿件肚兜儿在婴儿床上睡觉，刚三岁的大孙子找不到玩伴，就在旁边儿尿尿和泥玩，巷子里几个小男孩儿咋咋呼呼的从门口呼啸而过。</p><p>那个时候，各家的院墙都还不高，从院旁走过的半大小子也总会主动招呼一声，“二奶奶，忙着呐”。</p><p>院子里种了三棵枣树，一棵是长枣树，上结的大枣总是在还没完全都熟透时就被吃光了，另外两棵树上的枣我们叫做木灵枣，那是一种只能晒干了吃的枣，所以总是能得完整的在树上呆到全都红透。</p><p>院子东北角种了两棵椿树，又高又直，都有一搂粗，可惜的是这两棵是臭椿树，嫩芽是吃不了的。这两棵椿树旁边就是茅厕，跟这椿树的味道也算是相得益彰了。</p><p>院门口的巷子正对着的北面，就是村里的白姓的祠堂了，起先，祠堂时供着族谱祖先牌位，后来祠堂就成为了小学的教室，我在一年级时每天就在那里读书，最疼爱我的大奶奶是我们当时的老师，课间时，大奶奶经常会坐在门槛那里帮我掏耳朵。祠堂后面是一个大洼地，只要不是长久不下雨，那里通常会有水，夏天在这里倒是可以听取蛙声一片的，只不过因着其中的水只与西边的一个大水泡连着，水不太流动，只靠雨水补充，所以，味道并不好。</p><p>祠堂西南面，在别人家的房山头有一棵年代久远的大树，已经枯死，树皮有一个大口子，边缘已经长的卷曲，里面的树芯已经枯朽，有一个巨大的树洞，这也是孩子们很喜欢的一个地方，只是后来树顶被马蜂筑了一个巨大的巢，孩子们就不敢靠近了。在那里应该是我第一次看到捅马蜂窝，那是个勇敢的有点愣的女汉子，马蜂窝没捅下来却招惹了马蜂，记得有马蜂飞入她的头发中，被她叭叭几下全给捏死了，当时就把小伙伴们都惊呆了。</p><p>那棵树挨着的那家，他家的大木门曾经把我的手指夹在门缝中，当时我疼的连哭边给大人们出主意怎样把大门破坏掉让我的手指完整的拿出来，自那事后村里就传我与其他孩子不一样，将来定有出息。</p><p>忘不掉夏天的院子里，晚饭后全家人打地铺聊天纳凉，隐约的夜色中还有蜻蜓在捕虫，在大人蒲扇的拍打中，知了声也渐渐安静下来，在繁星中睡去，又在鸡鸣中醒来。</p><p>这些终将会在一遍遍的回忆中美化再模糊，因为拆迁，原本的左邻右舍已经散布开去，即便回迁后村中的又回到同一个小区，但是恐怕也再找不回原来的那份亲近了吧。</p><p>谨纪念我回不去的村庄和远去的童年记忆。</p>]]></content>
      
      
      <categories>
          
          <category> Life </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>你好2022</title>
      <link href="/2022/0104/hello-2022.html"/>
      <url>/2022/0104/hello-2022.html</url>
      
        <content type="html"><![CDATA[<p>对我来说，2021最大的事件就是做了个大手术，而对于这个问题，在说到关于健康的话题时已经做了些许的总结，因此，大体上我应该不会再对2021做重复总结了吧。</p><p>而对2022年，也还没来得及做具体的计划，但是会有几个大事件是铁定要发生的了。</p><p>第一件事应当就是彻底离开北京，这件事其实已经计划了很久，本来在2021年五六月份已经进入辞职流程了的，只是因为手术，才在北京多留了近一年，毕竟在北京有国内最好的医疗条件，而且在北京多年的拼命至少也让我保有了北京的医保，这一点在整个医疗过程中发挥了巨大的作用。</p><p>随着孩子越来越大，不管是在学业还是性格成长方面，父亲的角色至关重要，我不能一直缺席，我已经在后悔错过孩子10岁前的成长，如果再错过青春期，可能以后我就真的后悔莫及了，而且，弟弟马上也要上幼儿园了，这个时候回去陪他成长对于他的性格塑造应该是极好的。</p><p>再就是，年龄越来越大，而且身体状况并不好，如果不趁着这个时候回家，可能以后想立足都难了吧。</p><p>第二件事其实是两件事，两个考试吧。</p><p>一是N1考试，日语也学了挺久了，去年就想考N2，结果没给成功报名，北京的考位太紧张了，今年就准备在南宁考，我想大概会好报名一些吧。不管考试结果如何，总是要给自己这么久的学习做一个交待。</p><p>二是CPA考试，这个断断续续的也学了很久了，一直没下定决心去考试，今年就上场试试吧，要不然在这个问题上可能会被夫人唠叨个没完没了了，好好准备一下，今年如果能拿下会计和审核两科我就相当的Thank Godness了。</p><p>N1考试是在七月份，CPA是在八月份，在半年的时间内同步准备三门课，难度肯定不小，就现在的工作安排来看，晚上是可以分出些时间来的，但是最稳定的时间应该是在回家后，初步计划在二月底离开北京，这么算的话，总的时间也就是五到六个月的时间做准备，这样也许可以保持高效率，并且还未达到疲累的状态前就参加考试，也许效果不会太差吧。</p><p>除以上两件事外，就是适应回家的生活方式和节奏了吧。</p><p>在外漂泊二十年，可能已经习惯了自己一个人的自由自在，猛一回归到家庭生活，我不知道能不能很快适应，但是此许惶恐是有的，时间、习惯、说话都要顾及到家人，要给夫人以理解尊重，要给孩子以理解榜样，上要尽孝忍耐。虽然已经结构十多年，但是真正长期和岳父母相处的机会并不多，与他们在心理上的距离肯定是存在的，但是大概还不至于生出不可忍受的矛盾吧。</p><p>今年开始，我的人生可能就真的大变样儿了，不希望变成大便样儿。</p>]]></content>
      
      
      <categories>
          
          <category> 生活 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>记忆中的味道</title>
      <link href="/2021/1209/taste-in-the-memories.html"/>
      <url>/2021/1209/taste-in-the-memories.html</url>
      
        <content type="html"><![CDATA[<h1 id="乡村杂食记"><a href="#乡村杂食记" class="headerlink" title="乡村杂食记"></a>乡村杂食记</h1><h2 id="槐花"><a href="#槐花" class="headerlink" title="槐花"></a>槐花</h2><p>我是在农村出生的，一直呆到八岁时去枣庄。</p><p>我想出生在八十年代初的同龄人应当是大致了解的，在那个时候的农村，应该是刚脱离了在温饱线上挣扎的状态，能全年吃得上白面而已。不过等到我到了能记住大部分事情的年龄时，情况已经好转了很多了。</p><p>尽管物资匮乏，但是农村的孩子总是有办法满足一下口腹之欲。</p><p>开春后，大概在四五月份，村里的槐花就开了，一串串洁白的或淡黄的挂在树上。槐花的香味极淡，只有离得近了才能闻到些香甜的味道。</p><p>一到这个时候，不管是半大小子还是半大姑娘可就都按捺不住了，一个个的找出家里最长的木棍或竹竿儿，把老爸已经磨好的镰刀牢牢的绑在长竿头上，拿着竿子篮子就出了门儿。家中有兄弟姐妹的还好，大的拿着长竿，在前面寻找目标，小的拖着篮子跟在屁股后面碰嘟嘟囔囔着等下就有好吃的。这个时候独生子女们要么就央求着爸妈或是堂兄堂姐带着去，毕竟这是寻找吃食，和外人搭伙不太合适。</p><p>村里村外有很多槐树，但是在这个时候长得比较低的槐花大多早就被别人割去了。</p><p>此时，往往是大的爬上树，找一根大的树杈往上一靠，先就近找一串槐花折下来，一手捏着根部，另一只手从根部往下一捋，满满一把的槐花就直接塞进嘴里，那真的是一口的香甜，这是城里的孩子很难得体会到的乐趣吧。</p><p>等先过了嘴瘾，树下的弟弟妹妹已经急的要哭出了。于是挥舞镰刀，槐花就一串串的落在地上。等篮子装满的时候，大的小的也就都已经被槐花喂了个半饱了。</p><p>把槐花拿回来，爸妈会把槐花洗干净，用来蒸花卷或是炒鸡蛋，现在想起来，口中的唾液依然会加速分泌。</p><h2 id="烤麦穗儿"><a href="#烤麦穗儿" class="headerlink" title="烤麦穗儿"></a>烤麦穗儿</h2><p>每年大概五月份的时候，小麦的个头已经长起来了，深绿色的叶秆虽然粗壮挺拔，但是也被开始长大的麦穗儿压低了头。此时的小麦已经接近完成了灌浆，麦穗变得越来越饱满，这就成了另一种美食。</p><p>农村的孩子是要帮家里干活的，像拔草之类的活计，我们从很小的时候就开始做的，当然有的孩子是真的能帮上忙，而有的孩子只是把拔草当做玩，拔一缕草攥在手里，然后跟着大人从地这头走到那头，再走回来，草都能给攥熟喽。</p><p>如果在麦田里干活儿，这时手里可能就没有草了，而是换成了麦穗儿，看到饱满沉重的麦穗儿拔下一根，放在手上使劲搓几下，麦粒就脱离下来了。其实最难的是把麦粒的壳给去掉，这需要耐心，边搓边吹，有的时候还需要一颗一颗的把壳给剥下来。</p><p>这个时候一定要有耐心，一定要把手中所有的麦粒的壳都弄掉，然后满满一把的麦粒一起送入口中，这时的麦粒还没有完成灌浆，汁水丰富，里面是乳白色的奶状液体，使劲一嚼，似乎能听到啪啪的声音，麦粒在口中爆开，有点后来吃鱼子的感觉，但是明显比鱼子更有韧性，也更厚重，汁水甘甜清爽，这也是我们在这个季节难得的零食了吧。</p><p>再晚上几天，麦粒中的水分会逐渐减少，小麦灌浆的过程即将结束，这时再直接吃麦粒难度就大了，而且口感没有之前那么好，味道也不如之前那么甜了。但是，这点儿难度对于农村的孩子毫无挑战性。</p><p>拔下一些麦穗儿，拿到河边，挖个浅浅的坑，找一些干的树叶树枝，把火生起来，然后把麦穗儿就丢在火上就可以了。在这个时候的北方还不热，呆在火边很舒服，拿根树枝时不时翻几下火中的麦穗，等到火熄灭之后，把麦穗快速的拿起来丢在簸箕或筛子里，等温度再低一点，就趁热把麦粒从穗儿上搓下来。</p><p>也顾不得麦粒儿上沾的灰泥尘土，直接把麦粒塞进嘴里，烤好的麦粒不仅有淡淡的甜味儿，更有一股浓浓的麦香味儿和焦香味儿，与生的麦粒儿的区别大概就接近于浅烘和中烘的咖啡的区别吧。</p><h2 id="摸来的鱼"><a href="#摸来的鱼" class="headerlink" title="摸来的鱼"></a>摸来的鱼</h2><p>村子东头有条河流过，天然的把村子分成了农田做业区和村庄生活区。</p><p>这条河伴随与深度参与了我的童年，每到夏天，这里就成了全村人的浴场、乐园及渔场。</p><p>对于大人们来说，天黑透了之后一直到晚上 10 点之前，村里的男人们就来到这里，脱光了衣服放在岸边，然后进入水深及腰的地方清洗一天的汗水，经过一天的太阳暴晒，水温刚刚好，在水中舒服的聊聊天清洗一下身体，没有比这更惬意的了，男孩儿们也会在这个时候跟着大人来玩耍。而 10 点后，这里就变成男人们的禁地了，约定俗成的，这个时间是属于女人们的。因为青春期我已经去了枣庄，在有兴趣时探究时并没有机会，而听同龄或是稍长些的男人们聊天时，却是经常能听到一些香艳的事，就是不知道是真是假，有几分是在吹牛。</p><p>除此之外，这里最大的乐趣就是摸鱼了，小一些的孩子会拿着手网或筛子在河边小打小闹的捞几网，运气好或许会捞到几条鱼。而大一些的男孩们有的会四五个人拉着一张可以横跨整条河的大网，在河里拖行，大多数时候都会有不错的收获，大的小的鱼总能捞起十几条，几网下去，参与的小伙伴基本上就能给家里加上一道菜了。</p><p>如果没有小网也参与不进有拖网的小群体，那就只有一种选择了，摸泥鳅，这个可真的是摸了，在靠近岸边有稀烂的淤泥的地方，一坨一坨的淤泥用双手挖出来，到岸边推平，在里面找泥鳅，整个过程说起来似乎很有难度，然而其实并没有，多数时候都是有收获的，特别是枯水期，水少了，只有泥鳅活下来的机率更大，为了活下去，不妨钻进泥里。挖来的泥鳅拿回家是需要放在清水里养几天才能吃的，记忆中，过了油的泥鳅的味道真的是很棒，不过现在的我却不敢吃了，真的是奇怪。</p><h2 id="姥爷带来的美味"><a href="#姥爷带来的美味" class="headerlink" title="姥爷带来的美味"></a>姥爷带来的美味</h2><p>除了这些个自己动手得来的美食，最上凳次的就是从集市上买来卤味了。</p><p>小时候我吃到的大多是姥爷送来的，在这一点上最爱我们姐弟的就是姥爷了吧。</p><p>我印象中，隔不多长时间，姥爷就会骑着他的那辆大二八自行车风尘仆仆的来到我家，姥爷家距我家足足有三十里路，那个时候只有国道才是柏油路，而且还是坑坑洼洼的，除此之外就都是土路了，下雨的话就到处是泥坑水洼，大晴天那就到处是浮土沙尘，三十里路下来，可想而知是怎样的一种情况了。</p><p>姥爷的车把上通常是挂着一个黑色皮包，通常皮包里会塞着一包酱驴肉或是卤牛肉之类的，车把的另一边或许会挂着一只用荷叶包着的烧鸡，烧鸡的外面或是用草纸包着或是用荷叶包裹，再用一根草绳捆起来，草纸会被油渍渗出一块一块的印子，而荷叶似乎是被卤汁一起煮过的，完全被卤汁浸透，此时的鸡肉通常会有一些荷叶的清香，可是现在这种味道已经不易寻找了。</p><p>在我眼里，姥爷是位大师，每天早晨天不亮就起床，在院子里放上一张小茶几，一把紫砂壶一个茶杯，一盒烟，一壶茶喝到天蒙蒙亮，然后背着手出门溜达一圈。每次去姥姥家或是姥爷来我家时，我们姐弟总是能吃到平时吃不着的稀罕物儿，平常的吃食姥爷是不屑于拿出手的。</p><h1 id="枣庄味道"><a href="#枣庄味道" class="headerlink" title="枣庄味道"></a>枣庄味道</h1><p>自八岁去了枣庄，我的所有生活场景就几乎完全切换成了城市，每年也就只有寒暑假才会回到农村。</p><p>突然的城市生活总是新奇的，熟悉的泥土味变成了煤炭烟尘味，让我感觉很陌生，嗯，或者稍微还有些许的熟悉，那是去乡镇赶集时闻到的用焦炭做燃料的味道。</p><h2 id="牛肉面"><a href="#牛肉面" class="headerlink" title="牛肉面"></a>牛肉面</h2><p>上学的路上总是会路过一个规模颇大的早餐摊点区，最显眼的就是那家卖牛肉面的，当然这与我从未吃过牛肉面有关，可能与我老家是农业县有关吧，牛是生产物资是劳力，而羊是家畜，所以我们那里多吃羊肉而罕见牛肉。</p><p>再说回这牛肉面，那家牛肉面只在早晨才能吃得到，面条是预先煮好的，稍显蓬松，面呈黄色，有点儿像是秋天银杏叶的那种黄色，很好看，堆起在一个大筐子里，旁边有一口高约一米的铁皮大锅，坐在一个烧焦炭的炉子上，锅盖敞开，香气蒸腾而上。</p><p>买一张蓝色的餐票交给师傅，师傅把票顺手丢进旁边一个搪瓷开缸子里，拿起一个大瓷碗，从筐子里抓两把面条放在碗里，再从大铁盘子里抓起五六片牛肉，从铁皮锅里舀起一勺冒着蒸气的汤，哗，高高的往下一冲，汤利落的进到碗里，再拿起油壶往碗里滴上几滴香油，摄上一摄的小葱花往碗里一撒，一碗牛肉面就完成了，整个过程大概不到二十秒。</p><p>这种牛肉面，汤清澈见底，咸鲜清甜，牛肉片咸淡适口，偏酱牛肉的口感，但是味道稍淡，再加上切的比较薄，不材不老，咬下去稍筋道，但是不栋塞牙，极其讲究。面虽然是事先加工好的，但是可能因为有什么特别的工续处理过，吃起来丝毫不坨不粘不烂，与这样的牛肉和汤的搭配，正适合早晨吃，清爽暖胃，吃过齿颊留香，为一整天的好心情打下基调。</p><h2 id="肉饼"><a href="#肉饼" class="headerlink" title="肉饼"></a>肉饼</h2><p>牛肉面旁边是一家肉饼摊，这样的肉饼我没在其它任何城市见过，应该不是因为我孤陋寡闻。当然，也许本能的对记忆的修饰美化，让记忆中的肉饼与它本来的样子已经不同了。</p><p>每当早晨起晚了，时间来不及让我坐下安静的吃碗牛肉面的时候，我一般会选择买两个肉饼拿到学校去吃。而恰巧，我的同学们可能也是这么想的，所以在教室里总能闻到些肉饼包子的味道。</p><p>那个肉饼摊很小，主要的工作台就是一个用汽油桶改成的炉子，中间燃着炭火，贴着炉子上沿用角铁焊出一个长方形的框架，三面紧贴着炉子边缘，一面多出一倍的长度。这就形成了一个滑轨，上面放一个正方形铁板制就的鏊子，鏊子可以在轨道上滑动。</p><p>先是在鏊子上抹上油，把饼胚放在上面烙至两面金黄定型，饼身蓬起，然后就把鏊子滑开，把饼竖着放到炉子下面的平台上接着烘烤，几分钟后取出，饼身上的油已经变得稍微干爽。用两层草纸包着拿在手上，就可以边吃边跑去学校了。</p><p>后来我家开的饭店也卖过一段时间的这种肉饼，但是一直也不如人家做的好吃。现在那家店已经找不到了，我很怀念。</p><h2 id="糁汤"><a href="#糁汤" class="headerlink" title="糁汤"></a>糁汤</h2><p>对糁汤和粥印象深刻是因为我的老师、班主任、语文老师以及张老师，嗯，这是同一个人。</p><p>不知道为啥，也许是因为我姐学习好，也许是因为我学习好，也许是因为张老师同时教过我姐和我，总之，她总是找我帮忙去打早餐。</p><p>早晨到学校，张老师就会把我叫到办公室，给我一颗鸡蛋加五毛钱，然后拿上她的饭盒就跑去学校外面的早点摊。老板帮忙把鸡蛋打在饭盒里，然后从大锅里盛出一勺糁汤浇进去，滚开的糁汤刚好把鸡蛋浇熟，再滴上些香油，撒点葱花香菜，香气扑面而来。</p><p>糁汤是用整鸡、鸡架、筒骨再加上几味佐料经过几个小时熬出来的，里面还放有麦仁<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>，糁汤熬好之后，再把里面的整鸡捞出来，把鸡肉撕成肉丝再放进汤锅搅拌均匀。</p><p>因此，糁汤吃起来还是很丰富的，而且不断有惊喜。只不过因为糁汤经常都会煮得很咸，我不是很喜欢，但是这并不妨碍糁汤成为枣庄临沂一带人民群众最为喜闻乐见的早餐形式之一。</p><h2 id="辣子鸡"><a href="#辣子鸡" class="headerlink" title="辣子鸡"></a>辣子鸡</h2><p>在来北京之前，我以为全世界只有一种辣子鸡。来北京之后，我才知道原来还有辣子鸡还分干湿两种，而枣庄辣子鸡显然是归属为湿的作法。在其它地方吃过各种各样的辣子鸡，可是都取代不了枣庄辣子鸡在我心中的地位，我原以为也许就我山东人热爱这样的味道吧，但是与王爷在枣庄转了圈儿之后，王爷也对其念念不忘，所以，吃货不止我一人。</p><p>枣庄辣子鸡，一定要选用本地的小走地鸡，我没专门研究过，应该是一年内的那种吧，对辣椒的要求非常讲究，我的印象中至少三种，干红辣椒、枣庄的皱皮尖椒或薄皮的青红椒再加上一定一定不能少的枣庄朝天椒，好像又名朝天猴，少了这种辣椒是做不出枣庄辣子鸡的味道的。</p><p>锅中多放油，新鸡砍块清洗干净后，热油下锅，煸炒干水分后放花椒少量麻椒八角以及干辣椒等佐料炒香，沿锅边放料酒，然后放生抽，放醋，醋是辣子鸡的灵魂，不放就少了滋味，香味炒出后放适量热水，盖锅盖炖二十分钟左右，放准备备好的各种辣椒，放蒜片等，翻炒，收汁，出锅装盘<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup>。</p><p>我一向认为枣庄辣子鸡里最好吃的就是里面的辣椒，浸透了所有的香料的味道，又被炖鸡时余下的汤汁充分的煮过，肉的味道香料的味道融合其中，被辣刺激的味蕾在这一刻更加的敏感，可以更加充分的感受到层次丰富的味道。</p><p>当然，鸡肉也是相当的出彩，本地的走地鸡，用我们的土话说就是小笨鸡儿，因为不圈养，都是在山地或是果园散养的，食虫草花果，又经常运动，因此，无腥味，脂肪含量极低，炒熟之后，肉质紧致弹牙有嚼劲，又不散不材，口感极佳滋味丰富。</p><p>来上这么一盘儿辣子鸡，来上一瓶酒，再配上两个烧饼，“嗞～”一口酒，“叭～”一口菜，再“吭呲吭呲“两口烧饼，美～</p><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">1.</span><span style="display: inline-block; vertical-align: top;">麦仁这东西应该也是北方特有的吧，把小麦粒的表皮就像舂米一样脱掉。</span><a href="#fnref:1" rev="footnote"> ↩</a></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">2.</span><span style="display: inline-block; vertical-align: top;">因为我自己并不擅长做辣子鸡，所以仅简单的描述过程。</span><a href="#fnref:2" rev="footnote"> ↩</a></li></ol></div></div>]]></content>
      
      
      <categories>
          
          <category> Life </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
            <tag> Taste </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>最近有点颓废了</title>
      <link href="/2021/1126/A-bit-decadent.html"/>
      <url>/2021/1126/A-bit-decadent.html</url>
      
        <content type="html"><![CDATA[<p>前段时间做了个大手术，当然，我不是医生，所以，是被做了个大手术<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>。因为手术，导致了我很长一段时间的休假，以及休假后对工作状态的调整，虽然这些调整对健康可能是好的，但是在践行了一段时间之后，却发觉，这好像并没有想象的那样美好。</p><p>术后医生给出全休六个月的建议，但这于我而言是个很大的挑战。这主要是因为接受不了长时间不工作无收入的状态，这种状态会造成心理上安全感的缺s失，可能是有部分的大男子主义作祟吧，谁知道哪，我不认为我是大男子主义，但是我也同样认为男人打猎养家是天经地义的事，一旦久卧病榻则会严重伤害到男人的尊严。因此，我在全休三个月后，经医生检查可以去除胸带之后，我还是决定回到公司上班。</p><p>熬夜心理压力大会对心血管造成严重的伤害，因此我回到公司后第一件事就是向相关人员说明，这段时间我绝对不会加班，紧急的事情不要交给我做。于是，我的工作状态就变成了，所有大的需求都不交给我，小的需求也会先跟我商量能在多久的时间内完成，然后再让我慢慢的做。而工作时间方面也是每天规律的九点多一点到公司，下午六点多一点就下班，嗯，再加上北京早晚高峰时间极度准点的地铁，我每天到公司和回到住处的时间波动不会超过 5 分钟。</p><p>刚开始的时候自然我是很享受这种悠闲类似于养老的节奏的，但是时间久了，我偶尔会觉得似乎有点浪费时间，还有就是，感觉不再是焦点，不再受到重视。</p><p>我能想通的，以前做任何项目咱都是绝对的核心主力负责架构设计核心编程以及项目兜底，那自然受到重视，因为每天的进度都至关重要，影响上下游，所以来来往往的人自然会多一些。而现在情况刚好相反，做的全是不需要着急的需求，而且正因为不着急，所以总是要为其它需求让道，本来就宽裕的时间就变得更加宽裕，那么自然需要沟通的人就更加的少了。</p><p>也许只是因为还没有习惯这个状态吧，心理上的调整在所难免，工作本身的节奏可以调整的慢下来，但是这些空出来的时间也不好浪费，还是要想办法充分利用这些时间来做一些提高的吧，毕竟我现在时刻都需要考虑回归家庭应当怎样安排工作生活，不管是思想上的还是技术上或是知识上的准备还是需要做的，对我而言，回家这件事才是真正的充满未知的，无法如工作般如臂使指。</p><p>如此，感觉颓废也并不是真的是无事可做吧，只是没有把所有时间放在工作上，以及，在时间的使用上不再保持快节奏而已。</p><p>这篇 Blog 开始写的时候是几天前了，其实是因为太久没写东西了，不知道写啥，所以一直拖延至今。在这期间跟王爷交流不多，主要是因为母亲生病王爷需要陪侍在侧，同时还要工作，实在也没有精力以及兴致跟我瞎扯。现在老娘已经在家休养，身体状态恢复很好，做为晚辈自然也要可以不用太担心了，只希望以后的每一天家人亲人朋友们都能无病无痛无祸无灾。</p><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">1.</span><span style="display: inline-block; vertical-align: top;">其实我一直想就健康写一篇文章，里面会提示手术的前因后果</span><a href="#fnref:1" rev="footnote"> ↩</a></li></ol></div></div>]]></content>
      
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>曾甜</title>
      <link href="/2021/0315/zaozhuang-story-4.html"/>
      <url>/2021/0315/zaozhuang-story-4.html</url>
      
        <content type="html"><![CDATA[<p>如果说浅浅是发着光的，那么曾甜就是影子了吧。</p><p>初次见到浅浅的那天，同时也看到了她，只是当时并未留意。真正开始有所交流，那是在分到三班的第二次调整座位的时候，我从第一排换到第二排，她那次考了第 12 名，坐在浅浅的后面，于是就像命中注定的一样，我和她坐了同桌，就像是映照了我和她以及浅浅之间未来的关系一样。</p><p>其实要说起来，刚开始并没有什么特别的，我对她没有企图，她对我也没有企图，而我与她在校外的交往也只是在上下学的路上偶遇过几次，每次都是于浅浅分开不久的岔路口不远处。</p><p>我与她同桌了很久，一直是维持着不远不近的同学关系的，但在我因浅浅与几个同学产生矛盾后不久，我与浅浅稍显疏远之后，她的表现确曾有所变化，当时我猜测我与浅浅的关系变化是否与她有关系，这个猜测在之后一直也没有被证实或是证伪，我不想将她想象的不堪，毕竟我们曾经在一起，而且不管是否在一起，她对我从来不曾亏欠。</p><p>印象最深刻的那次，在中考前去参加体育加试，当时是去另一所学校参加试，她一直陪着我走在队伍的最后，而考试之后在我们少数几个人决定去老师家的时候，她又一直和我走在队伍的最前面，在老师家吃饭时她一直帮我夹菜之类，这一切都表现的太过亲昵。而在体育考试时，她在出发点看我出发，在终点迎我回来给我送毛巾和水，我当时感觉很奇怪，特别是看着浅浅在旁边看着却并没有过来的时候，只是长跑后剧烈的欲呕的感觉让我无暇他顾。</p><p>事后回想当时的情形，我有种被当了道具的感觉。</p><p>在我的认知中，她们两个一直关系不错，但是到临近毕业时确是近乎全无往来。我不知道是因为我而造成的她两人的矛盾还是因她两人的矛盾才使她跟我愈行愈近? 或者是我想多了吧。</p><p>中考后的那段时间，曾甜其实是有跟我联系过几次的，有时是她找我，有时我也找过她。我并不知道我是出于什么目的去找她的，或许没有目的吧。</p><p>到了高中后，在浅浅离开后，我有些颓废，那段时间我几乎不参与任何同学的活动，大多时候都是跑去健身房挥洒汗水，要么主是去铁路边弹吉他，那个时候我认识的那个开游戏厅的朋友的游戏厅已经搬家至铁西小区的门面房了，于是我就又换了个弹琴的地方。</p><span id="more"></span><p>而她还是会在上下学的路上突然从我背后如飞般骑车赶到，然后和我巧遇后同行一段路，中间只发生过一次意外吧，那次是晚上同行至一个路口遇到我弟，于是被我弟拦下请吃了冰淇淋，当然我弟说这就是嫂子吧，她竟然并没有出言解释，我看了她一眼，她也看过来，路灯下看她有些朦胧，不知出于什么心理，我也未做解释。</p><p>那天的异样并没带来其它变化，日子依然如此，偶尔的路上巧遇，偶尔在校内见到，也只是打个招呼，每到节日，她总是会来我班上送礼物给我，我是个不太会主动的人，于是她从来没收到过我回送的任何礼物，这多少会伤人自尊的吧。另外的原因是高一未期有了新的女朋友，虽然对她产生过一些香艳的臆想，但是却并不敢打破自己的尺寸。</p><p>整个高中阶段虽然麻烦不断，但是麻烦都来自于其它人，而她确从来没让我觉得麻烦过，反正让我不断的有成就感啊有点儿小骄傲之类的。这也是在高三时我们调整了教室位置，而我们教室窗外那片区域就是她们班上的卫生责任区，因此，每周总有一天能看到她在窗外忙碌的。有一天她出现时，我就听到班中几个男生在说快看绝伦，然后我才知道她在我们班上得了个绝伦的绰号，也许是见多了吧，所以就没觉得有什么不一般的。</p><p>可以想见，当那年的圣诞节她又来送礼物时，自然引来了轰动，而我也就被起哄了，不过虽然有些尴尬，但是心里还是有些得意的，也因为这次送礼，我与厉沐也最终决定了分手，关于厉沐的事情也是引起了一些麻烦的，这个以后再细说。</p><p>我一直觉得曾甜是藏着一些心思的，她没有主动明确表达过她对我有任何想法，但是种种表现却让我不得不多想，不管我有没有女朋友，她总是会在节日中送些礼物给我，而我是唯一有此礼遇的人，特别是像情人节圣诞节这类洋节的时候，在这种时候她的出现常常让我在猜想这是否是在宣示主权或是跟我有仇。我想，我与浅浅的关系迅速变浅、我与厉沐的关系快速落没，可能跟她的这种表现都有些关系的吧。</p><p>高考后我才知道，我小时候的玩伴，一直说将来要嫁给我的小雨因病去世了，我原本是准备在老家多呆一段时间的，但是此时，这个熟悉的小村子带给我的却是撕心裂肺的疼痛。我无法直面小雨的父母，那天去她家，我几乎认不出那是曾经笑起来声音很大的叔婶，他们一夜之间变成了老人，我的唯一选择只能是逃回枣庄。</p><p>不知为何，回来后我第一个念头是想找曾甜，许是因为她总是会出现在我身边吧，我相信她。</p><p>那个下午，我回到枣庄，饭也没吃就打电话给她，她应该听出我声音的不对了吧，只是问我现在在哪里，然后就马上赶来了。从她家到小区门口，至少要走五六分钟吧，可是她不到两分钟就气喘吁吁的跑过来了。站在她对面，我又不知道该说什么了，在那个年龄，大多数人都不会经历朋友离世的事吧，而且，我也不知应当如何说起，只是她过来了，我心里就感觉踏实多了。</p><p>她说我们在附近走走吧，有什么事都可以慢慢说。并肩走了很远，她说你等一下，就跑去商店买了水过来，然后拉着我去了边上的一所学校，那所学校我到现在也不知道叫什么，只是当时是暑假，学生们早就离校了。虽然是夏天，那学校也不免显得破败了些，校园不大，大树下是残破的地面，以及杂乱的树枝和枯叶。</p><p>坐在廊下的台阶上，我跟她说了小雨的事，那天似乎是我第一次在女孩子面前落泪吧，她也哭了。她伸手过来，揽住我靠在她的腿上，头枕在她胳膊上，眼泪流在她胳膊上腿上，我很尴尬，但是伤心倒是一下减轻了许多，我们有一句没一句的聊着天儿，心中倒也宁静。</p><p>后来我竟然就这样睡着了，当我醒来时太阳的颜色已经变得与蛋黄相仿。</p><p>这一刻我是感动的，维持这个姿势一个多小时，她的腿上多了几个疙瘩，红肿扁平，显然是花蚊子叮的吧，她的胳膊一只被我枕着，一只放在我胳膊上，也就是说她一直在强忍着被蚊子叮的那种痛痒却让我安稳的睡了一个多小时，是的，我腿上是有被蚊子叮咬的红肿的，但是上半身她的手能及的地方却一个红肿处都没有。</p><p>我们互相帮忙洗了脸才走出学校，其实这个时候天色已经快速的黑下来了，太阳就像火红的炭火一下掉进水里，快速的湮灭了最后一点光亮。</p><p>或许她的安慰起了作用，也或许我是天生凉薄的人，因为小雨严重的伤痛很快就被抚平了，在这个没有作业的假期，我和她约了几次，大多是在那个学校里，只是不同的是，我们有了准备，总是会带着花露水，那个时候花露水是最有效的防蚊利器了吧。</p><p>了解的越多，我对她其实是越心疼的，大多时候她是敏感小心的，她一直是语焉不详的提到过被信任的人伤害过的事，所以导致她其实打心底是不敢与人太亲近的，总是觉得自己不会被别人喜欢，所以就总是小心翼翼的。</p><p>录取结果出来，我放弃了青岛化工选择了去北京，而她去了临沂读了师范大学。</p><p>刚到陌生的地方，我们对彼此似乎更加依赖了，即便是军训期间，我们也会尽一切可能的找机会给对方打电话，男女朋友关系是通过电话确立的。</p><p>我们的军训是在部队中进行，军训后期军人服务部限制收紧，不允许学生随便打电话，于是我跟她的电话联络几乎断掉了。直到军训结束回到学校，我打电话给她，她哭了，说以为我不想理她了，我说不可能我怎么舍得不理你，她问你真的会不舍得吗?我说当然会不舍得，一辈子都不舍得，她说，我能做你女朋友吗?于是，我们关系就这么定下来了。</p><p>我们并不总是打电话，她会给我写信，每次都满满的写上五六页信纸，又在信封的背面抄上一首诗，我每周能收到的信也就便成了同学们羡慕的物件儿。于是我也认真回信给她，也在信封后面抄上一首小诗，那个时候并没觉得如何，只是感觉这样做很开心，现在想起来，这事儿其实还是很浪漫的，鸿雁传情的事多少是有些浪漫的吧。</p><p>只是这事儿在两个多月后也是戛然而止了，我是没想明白错在哪里的，那天我和同学在老师家里喝了酒，喝酒后我又去了小卖铺打电话给她，聊了不久，我已经记不清我说了什么，然后她就生气了，随后就挂了电话，几天后在打电话，她说分手吧，我当时是惊诧的，就决定亲自去她学校找她解释清楚。</p><p>那天正好是平安夜，我买了花买了礼物，这也是我应该送的。在她的学校见到她时，其实她已经平静下来了，她说也让她感受一下男朋友在身边的感觉吧，于是我陪她上课，帮她打开水，送她回宿舍，陪她逛操场。</p><p>晚上她说她的室友都出去玩了，她不想去，说我可以去她的宿舍参观。那是我第一次进女生宿舍，期待有之紧张更有之，不过倒是很顺利的遛进去了，在我遛进去时看到宿管阿姨正在捧着饭盒吃泡面。</p><p>不知道在哪个环节发生了什么，两个人就抱在了一起，然后事情就这样自然而然的发生了，在进入正题之前她在床上铺上了一方手帕，这件事我只在书上电视上看到过，我想她做了这个仪式，应该是她太过在意这件事吧。虽然我没有那么在意这件事，而且在之前跟她聊天，她说起过被欺负的事，对此我是做好了心理建设的。许是我误会了罢，她在向我声明她把自己完整的交给了我，我有些慌，可是我内心是想对她好的。</p><p>第二天我和了她的新朋友们一起吃饭，后来我和她去了哪里玩我已记不清，但是我们一起坐公交车我记得很清楚，我坐在她后面的座位上，下巴趴在她的椅背上，她的脸贴着我的脸，从车窗进来的风一下一下的把她的头发往撩起在我脸上，阳光和风都是柔柔的，她的味道和头发也柔柔的。</p><p>第二天晚上我们是住在学校招待所的，第三天，早晨和她一起起床，一起牵手出去吃早点，就像所有的男女朋友一样。中午她和她的朋友们送我去车站，在我要进车站的那一刻她突然抱着我哭起来，肩膀上的泪湿了很久。</p><p>回到北京后，生活似乎又变回平常一样，只是有一天跟她通过电话后就再也联系不上了，打电话都是她的室友接，也从来没再回过信。</p><p>直到一年后，我们又联系上，那个时候我已经离开学校在外面租房子了。</p><p>那天我们一直在打电话，说着这一年各自的情况，到了晚上我抱着吉他唱歌给她听，我没给我以为最喜欢的那个女孩写过歌，可是却给她写了好几首歌，我已分不清我对她或她的感情孰轻孰重，只是觉得很舍不得她，在没有联系的那段日子，我曾气过等过猜过却从没有怨过恨过。</p><p>那个月发了工资我就又去了临沂，这次是有恍如隔世的感觉的，她先是让她的朋友招待我，然后她才来请我吃饭。这次见到她，感觉与她的距离远了，这并不是因为不联系而产生的陌生感，而是感觉她可能是真的离我而去了吧。</p><p>她跟我说，她之前跟我说分手，说是因为听到我同学跟我说“你老婆在找你”这样的话是骗我的，她说，“你喜欢的一直都是袁浅浅，在你心里我一直是她的影子，我叫曾甜，我不叫袁浅浅，她在青岛等你，我在临沂”，我不知道她是不是在说”她在青岛等你，我在临沂等你”，我只是觉得，我不曾放下袁浅浅，可我也真的不舍得她。</p><p>毕业后她回枣庄做了大学的化学老师，我在北京上海做了似典型又不似典型的程序员。</p><p>在我准备结婚的前夕，她打电话给我，说希望我能送她一枚戒指，她说她不是想破坏我现在的感情，只是想也许这样心里会有个寄托，我说只要你说要和我在一起，我现在就去买戒指给你，她又哭了，说不是的，她不想伤害我也不想伤害别人。我跟她说，那我回枣庄，咱们当面说。</p><p>于是，我从上海回了枣庄，在枣庄呆了三个月，去她的学校没找到，打电话没人接，她的邮箱我再也登录不进去了，后来电话也换了，就像是她只曾在我梦里出现过，梦醒了也就再没有了痕迹。</p>]]></content>
      
      
      <categories>
          
          <category> 兰陵故事 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
            <tag> Story </tag>
            
            <tag> Love </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>袁浅浅</title>
      <link href="/2021/0309/zaozhuang-story-3.html"/>
      <url>/2021/0309/zaozhuang-story-3.html</url>
      
        <content type="html"><![CDATA[<p>初二时重新分班，原一班二班的同学被打散到其它的各班，我其实是不太清楚为什么只拆分一班二班的，后来听说又从其它途径招来两个班的学生，具体是什么情况我也并不关心，只是这次分班让我造成的影响却是绝对无法设想的，从某种意义上来讲，至少影响了我近十年，即便是说影响了我的一生其实也是可以解释的通的。</p><p>初次见面，就是那个早晨，新的班主任把我们带进了班级，老师拍了拍讲桌，“安静一下”，喧闹的教室静了一下，第一排中间靠近过道的座位上，坐着的那个短头发女生回过了头，看她的样子应该正在侧着身体跟后面的同学说着什么，猛得往回转的身体似乎带得凳子斜了一下，她身体猛的一晃，手瞬间紧紧按在了桌子上。</p><p>从窗户倾洒而入的阳光打在她的侧脸上，不知道怎么的，她微张的嘴巴，带着浅浅错愕的半明半暗的俏脸，在我眼中似带着无比的光彩，耀眼的让我瞬间沉浸在恍惚之间，完全不知道老师之后说了什么。</p><p>时至今日，我依然无法确定那是怎样的心情，但是那一瞬间我确定我想认识她。</p><p>我一直在强调我是一个内敛的人，在那个对感情懵懂的年龄，我更加不可能主动与女生搭讪交好了，只不过从那开始我的目光却是一直在追随着她的，知道了她叫袁浅浅，也知道了她很喜欢笑。</p><p>客观的说，我的成绩一直是不错的，而我们这三个外来者第一次考试就直接霸占了前三名，这个班级是根据成绩排座次的，因为成绩我得以坐在第一排，与她做了同桌。我时常在想，如果不是因为这次考试我考了第一名而她考了第十一名，我和她可能就不会做同桌，而我可能还是没有胆量跟她聊天吧，也就不会有以后的纠葛吧。</p><p>有相似经历的人总是更容易有共鸣吧，认识她后才知道，她同我一样也是离开父母跟爷爷奶奶在异地读书，而她家在兖州，与我老家距离很近。</p><p>她很聪明很爱学习，所以总是会问我问题。她睫毛弯弯的，眼睛很大，总是像闪着光一样，导致我很长时间都没看到过她的鼻子，每次对视总是被她的眼睛吸引了所有的注意力。讲题时我不敢看她的眼睛，那会乱了我的思路。</p><span id="more"></span><p>我很享受讲题给她的，做题目给她看。尽量讲题目时我不敢看她，但是我知道她是专注的看着我的，在这种时候我的视线可以时不时掠过她的正脸，每次不经意的视线碰撞她都会给一个微笑，我经常将这理解为会心一笑，也许这个时候是有着心意相通的意味吧。每次做题目给她看时，她的脸总是会凑到我胳膊这边，这样是为了能看清我写什么吧，对她来说也许只是不经意的近距离接触吧，但对我而言这却是似乎恋人般的依偎，有时她的头发会从我脸上轻滑而过，这样的柔软让我沉醉。</p><p>她是带着香气的，并不是任何外来的香气，我能够确定这是皮肤散发的味道，不是那种浓烈的香味，这种香气透澈干净清爽却让人沉醉。</p><p>就在我习惯了她的眼神她的头发她的香味的时候，又一次考试，又一次排座次，我坐在了第二排，而她还是老位置，我以为也许她以后就要和她的新同桌讨论问题了吧，在重排座位后，一段时间内我充满了挫败感，直到她回过头来又一次找我问问题，虽然不能像以前那样的近距离，但是那一瞬间我的心像是泛着沫的啤酒，我想也许她是更愿意与我交流的吧。</p><p>大概人总是在修改自己的记忆的吧，所以，回忆中丑恶会更加丑恶，而美好的也会愈发美好，我不能确定我的回忆有没有欺骗我，我记得那段时间我像是急于进入恋爱却始终不得其法，那是我第一次如此憧憬爱情。</p><p>所有男孩会做的事我应该都有做过吧，故意用夸张的声音动作吸引女生的注意，跟踪制造巧遇之类。一次巧合，我认识了她回家的必经的路上一个游戏厅的小老板，那个老板会弹吉他，而我，也会。于是从那之后，一下晚自习我就飞快的骑车到游戏厅，然后拿了吉他坐在门口开始弹同桌的你灰姑娘之类，等着她路过那门前跟她打招呼，有时她也会停下来听我唱歌，那段时间我的吉他技术进步飞快。</p><p>我们的关系有所突破应该是到了初三吧，我现在还清楚的记得，那天她穿着一件白色的 T 恤，胸前印着米奇老鼠，这个时候我们的座位离得更远了，我依然第二排，她依然是第一排，不过中间隔着一列。她站起来趴在中间那个桌子上跟此时坐着的我说，新开的市图书馆开业了，让我周末和她一起去办借书证。</p><p>那个时候我是有些不知所措的，我甚至已经在批判鄙视我自己了，但是我眼睛却不舍得移开片刻。那一刻我不知道应当怎样形容，但是我确实看到如婴儿侧脸般，白皙粉嫩饱满以及一点如涂竹般的突起。就在我口中应付着”嗯嗯好”的时候脑门儿上突然就被拍了一下，之后她一下坐了回去，我连忙想解释却什么也说不出来。</p><p>我的忐忑持续到中午放学，在车棚里遇到她，我看她戴着耳机就直接给她拿下来说骑车别戴耳机，她只是”哦”了一声，并没有说别的，但是我看到她耳朵似乎红了。回家路上我一直跟着她，想跟她说点什么，却也不知道能说什么，我们沉默了一路，一直快到她小区门口，她慢了一下跟我说”我回家了，拜拜”，听她说了一句完整的话，我没来由的一下轻松了下来。</p><p>第二天是周六，这一天我记得极其清楚，我们如约去了新图书馆，这让我一下彻底踏实了，至少她没有因为上午的事就拒绝跟我来往。各自拿了本书就找地方坐了下来，就像当初同桌时那样排排坐，其实这是我们两个第一次单独约出来见面，此时我的心思完全无法放在看书，时不时转头去看旁边的她，她微低着头，不长的头发垂下来，刚好挡住她的脸。</p><p>她穿的是一件红色的 T 恤，比那件白色的要更贴身一些，红色的 T 恤映得她面前的桌子都有些泛了微微红色，就在我再一次转头过去看她的时候，脑门儿上被她拍了一巴掌，”不许看”，我看到她双颊飞红，不知道是不是被红色的 T 恤映的，她的眼睛却亮亮的看着我。</p><p>自那天起，我与她的关系似乎就不同了，大多数时候我们默契的一起上学回家，从她小区出门右转不远有个路口，路口再往前走几十米就是那家游戏厅。每天我们都会在这个路口遇见也会在那个路口告别，有时也会去朋友的那家游戏厅，我们会去楼上休息室弹琴唱歌。</p><p>与以往相同的是，在学校里还是像以前那样，一起学习，她找我问问题。我们默契的选择在学校里不表现出任何的异样，也许我们也确实并没有什么异样吧，她没说过是我的女朋友，我也没说过是她的男朋友，更多的也只是默契吧。</p><p>但也许我们那就是在恋爱吧，总会有些不一样的气息透露出来，有一天那个写字总是翘小拇指说话总是捏着嗓子的娘娘腔班主任找我谈话说，要跟异性同学保持距离，不能早恋。我不知道他是怎样判断我在谈恋爱的，是确定还是猜的，但随之他把我与她的座位调整到自认识以来最远的距离。</p><p>我反思被谈话之前发生的所有事，最可能许是前一晚，因已至深秋，她穿的是一件明黄色的宽大外套。晚自习时一只不知是哪来的形似蚊子但长度超过一厘米的虫子爬到她领子上，看目标似乎想从她颈部钻进温暖的衣服里吧。如果你曾喜欢过一个人，那你一定能明白我当然会发现这只虫子。我伸手从她领口处捏住了虫子的翅膀，她半转过身子看着我，歪了歪脑袋，我赶紧把虫子拿给她看，告诉她这只虫子打算做一些丧心病狂的事，我准备处决它。她顺手把自动铅笔拿过来，咔咔按了两下，说，来吧，然后就对着我手中的虫子插了过去。要知道就算自己的两只手拿着细小的东西想对在一起都不容易，更不要说两个人配合，几次没插到虫子，反而是扎在了我手上，于是，虫子变成了配角儿。</p><p>在我们玩的正开心的时候，班主任进来了，就像是按下了开关。许是老师恼怒了我们在自习时的玩闹，也许是老师从她的笑颜如花中读出了什么，于是我就被谈了话吧。</p><p>虽是隔了河汉，我们也只是少了些许交谈的便利而已，上下学依然同进同出，在校外的时间我们花了更多的时间在一起，我说我喜欢计算机，我将来如果考得好就去北京科技大学，如果考得差就去山东科技大学，她说好，她也努力跟我考一样的大学。</p><p>那年元旦，学校里在操场上办了一场迎新晚会，那是我们学校头一次凑齐了三个年级的新年，所以晚会搞的格外盛大。我的吉他表演结束时，她在侧幕条楼梯的暗影处等我。</p><p>在别人热闹时，我们借着主席背后的巨大阴影跑到操场另一端，然后再绕过自行车棚跑回了教学楼的画室。轻轻关上门后，我才发现我身上只穿着薄薄的演出服却出一脑门子的汗，我也才意识到从在侧幕她拉了我一下开始，我们的手就一直牵在一起没有松开。</p><p>紧张加上跑过了大半个操场，两个人剧烈的喘息让画室充满了暧昧，在与她的关系中我第一次主动，把她紧紧的抱在怀里，只是抱着。第一次知道女孩的身体那么柔软，想把她抱进身体里，却又不敢再多用一点力。她脸上有些潮湿，我脸上也有些潮湿，把她的头发也濡湿了一些。</p><p>那个年龄的我只会跟她说喜欢她。</p><p>画室内我们不敢开灯，从窗户透进来的光使我能隐约看清她的脸，眼睛亮亮的，刘海有些乱。我说我喜欢你，她说她知道，我伸手去抱她，然后脑门儿上又被拍了一巴掌。看她是笑着的，我壮着胆子在她脸上亲了一下，然后在她还没做出反应的时候把她拉进怀了。</p><p>那天我们第一次接吻，是她的初吻，也是我的初吻。</p><p>我以为一切如我们期待的那样，一直这么好下去，一起读高中，然后会一辈子在一起。</p><p>因为我们的关系一直很好，一直有同学在不断的找我麻烦，直到二爷帮忙后，倒是没有外面的人来找麻烦，但是在教室里还是有班上的同学时不时的制造一些麻烦。</p><p>初三的这年春节之后，那些同学变得更加过分，因为我们的娘娘腔班主任换成了一个说话大嗓门儿做事大大咧咧的糙老爷们儿，新的班主任基本上不怎么管班上的事。于是那几个班上的同学开始在我面前说一些难听的话，他们说我其实我并不太在意的，但是他们开始说浅浅如何如何，于是在班上我就动了几次手。</p><p>后来愈演愈烈，确实因此事影响了我和浅浅的学习。不知道从哪天开始，在班上我和她交流越来越少，再后来她一放学就马上回家，我知道是因为那几个人开始在路上拦她，我也只能尽可能快的跟在她后面送她到小区，我担心她在路上出事。</p><p>再后来，我的同桌开始跟我接触的越来越多，在我们去其它学校体育加试期间，要么是我同桌陪我在队伍的最前面，要么是同桌陪我在队伍的最后面，而她，似乎开始躲我了。原本她和我同桌是好朋友，两个身高差不多身材差不多，只是长相不同性格不同。</p><p>再后来，常常在我远远的护送她回来时，同桌飞一样骑车追上我，要陪我一起回家，而我与同桌的家离得很近，就差一个路口。</p><p>随后到了中考前的一个月，因为在路上我遇到一个找我麻烦的同学，提着带有刀的双截棍穿着军警靴去学校，我知道那是要找我麻烦的，在课间我跟班主任打了招呼就收拾东西回家了，那段时间学校是允许学生在家里复习备考的。</p><p>到了周末，我打电话给她，想约她一起出去，结果她奶奶接的电话，说浅浅回兖州了，这时我才知道，在我走后，她第二天也不再去学校，直接回老家复习备考了，但是她并没有告诉我。</p><p>再一次见面，是在差不多三个月后，高中开学，我们考到了同一所高中，但是并不在一个班，而她和我后来的同桌同班，因为军训，她被晒的有些黑，头发短短的。</p><p>高中与初中在不同的方向，巧的是，我们依然是同路，路过她家才能到我家，我们基本上每天上下学都会一起走，只是我总感觉不太一样，似乎距离远了。</p><p>第一学期快结束的时候，我曾经的同桌来找我，说她转学回老家了。</p><p>我打电话给她的时候，她正在家里准备次日回老家的事，她说对不起，她说希望等大学时我们能真的在一起。</p><p>那是我最后一次和她通话，以后再也没见过。</p><p>而最后一次因她影响我，那是成为我女朋友的前同桌要跟我分手，她说，“你喜欢的一直都是她，在你心里我一直是她的影子，她叫袁浅浅，我叫曾甜，她在青岛等你，我在临沂“。</p><p>我后来才知道，她终究是读了山东科技大学的计算机专业，而我自她走后学习一落千丈，只考上青岛化工学院的专科，而且还放弃了，来了北京。</p><p>再后来，我很多次尝试在网上搜寻她的消息，可是什么也没找到，似乎她只是在我梦中出现过，醒来后就再无痕迹。</p>]]></content>
      
      
      <categories>
          
          <category> 兰陵故事 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
            <tag> Story </tag>
            
            <tag> Love </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关二爷与凤雏</title>
      <link href="/2021/0308/zaozhuang-story-2.html"/>
      <url>/2021/0308/zaozhuang-story-2.html</url>
      
        <content type="html"><![CDATA[<p>基本上，我不是一个会讲故事的人，多么有趣曲折离奇的故事经过我转述都会变得平淡无趣。因此，你需要耐着性子慢慢读，看完了你就会觉得这故事真的很无趣，或者你发现我讲的大概就是你吧。</p><p>认识关二爷算是典型的不打不相识，大约是三年级的时候，长达八年的农村生活本能短暂战胜了城市教育，指挥我顺手丢了一张废纸在楼梯上，当时做为值日生的关二爷看到了，大概口气严厉的命令我捡起来，大庭广众之下的指责当然会使人丢了面子，于是就打了一架。男孩大多是这样的吧，只要是不怂的性格，基本上打架是很容易发生的事。打架之后照惯例一通放学不要走小树林见云云，其实放学后倒没真的打起来，不过也互通了名姓。</p><p>那次打架后不久就遇到了四年级分班，没想到竟分在了一个班，于是理所当然的交往就多了起来，这次分班之后我们同时认识了从另一个班分来的凤雏。</p><p>原本我是不太愿意说到凤雏的，但因为我们三个当时的关系，尽管不愿意，还是要交待一下，凤雏真名是凤鸣，据说是因为出生时哭声像凤凰叫，我不太知道凤凰到底是怎么叫的，但是多半是要往孔雀的方向想象一下的，类似这样的哭声，我总感觉大概出生时气管或是嗓子有点什么问题吧。</p><p>与关二爷相识日久，就愈发的感觉投脾气，于是也开始相互频繁的去对方的家里了。</p><p>二爷的父亲是个大高个儿，瘦高挑儿型的吧，喜欢钓鱼。我很喜欢这位关叔，他给我们的感觉就像是一个大哥，应该就如同现在这种状态的我与王爷这样的父亲一样吧，能够理解和尊重孩子，也可以如同孩子一样和孩子玩。每次去他家，关叔总是会为我们做些好吃的，我印象最深的就是炒田鸡，虽然我还在农村时也玩青蛙，但是从来没同时看到过如此多像脱光了的白嫩大腿一样的青蛙下半身儿摆在面前过啊，那次吃了关叔的香滑白嫩的田鸡腿，也喝了一些啤酒，感觉很爽。</p><p>关二爷之所以叫关二爷，是因为我们曾似模似样的拜了把子，我排行老大，所以一直到六七年后我们在失联很久后的一次在街上偶遇，他还是叫我一声大哥。说回拜把子，论年龄，本来是凤雏排老二，关二爷排老三，但其实他二人生日没差几天，再加上关二爷崇拜义气千秋亘古一人的关二爷，所以他强烈要求排在第二位，于是后来也就这么定了。</p><p>二爷是个耿直真爽豪气干云的人，拜把子的时候他是唯一一个毫不犹豫就在手指上划了一道口子的，大概你也无法想象一个八九岁的孩子毫不犹豫在在自己手上划一刀的场景吧，而凤雏当时却是几次都没在手上划出能流出血的口子，尝试几次也只要手指上划出来个印子，不过总算也算是见了红色了，自喝了血酒后，我们这个有些儿戏的结拜仪式也就成了，从那以后，也算是开始了我们三兄弟的恩怨吧。</p><span id="more"></span><p>凤雏是单亲家庭，由他母亲一人带大，家里的条件相对差一些，大概因此，为人也就稍微小气一些，当然这些都是小问题，我和老二每天都有三五块钱的零花钱，那个年代这得算是很富有了，没人在意凤雏从来不请客的问题。凤雏曾跟我们说过他喜欢一个女孩儿，这个女孩是关二爷的邻居，两人青梅竹马一起长大，关二爷宠她的紧。我不知道在那个年代的孩子能有多成熟，但是在同学中确实都将这个女孩当成是与关二爷一对儿。而凤老三却能说出喜欢的话，并且在这女孩跟前搬弄是非说些有的没的坏话，这让那个时候的我们无法接受，对这个时候的我来说也是能理解但无法接受的了。</p><p>五年级时的一次秋游我们去连云港，关二爷在大巴车门边接准备下车的女孩儿的背包的时候，凤雏在门边故意推了一把，二爷头下脚上从车上跌了下去，从此眉毛边就留下了一首疤。</p><p>自此以后，凤雏就与我们分道扬镳，结义兄弟也就只剩下了两个，这也是我不太愿意回忆凤雏的原因吧。</p><p>其实我和二爷也闹翻过，这大概多半是因为性格的问题吧，我偏内敛，而他是静不下来的。</p><p>男孩子总是喜欢舞枪弄棒的，所以我们也不例外，时常在放学后要演练一番的，那个时候二爷的功夫是最棒的，什么回旋踢之类的动作都能做得出来的，身手上突出的表现也让他不甘寂寞，他不愿意只是与兄弟切磋埋没了身手，于是又认识了经常能陪他在外面打架的朋友，我其实是多次劝了的，他也不愿意多解释，执意继续这样下去，想法不同，自然也就慢慢疏远了。</p><p>区内又开了一所新的小学，他被划到那个学区，于是五年级下半学期，他和他的青梅竹马双双去了新学校，其实我也是那个学区的，但是因为校长与祖父是朋友，她交待我不用去管学区的事，于是得她关照我得以继续留在原学校读书，于是本来就在疏远的兄弟也就分开了。</p><p>人总是兜兜转转，不知道什么时候又会转到一起。</p><p>初二的时候，因为一个女生，我和同学打过几次架，我的自行车胎也总是被放气，有一次在自行车棚里又动了手，对方找了一个在校外混的同学来帮忙，对方人多，这种情况下我只能准备跑去找老师先避个风头，这时二爷华丽的出场了，对方找的混混他是认识的，二爷指着我说这是他哥，再动手就是不给他面子，那个混混直接倒戈。也就是这个时候我才知道，二爷竟然跟我又读了同一所初中，也就是说我们在同一所学校一年多的时间竟然一次也没遇到过，世间确有如此巧合之事。</p><p>这之后我们深谈过一次，二爷跟我说的话总结起来就是，读书他是不行了，以后再有动手的事让我不要自己动手，需要动手就告诉他，他负责动手我负责学习，咱兄弟总得有个学习好的。当时听了他的话我是很感动的，在初中剩下的一年多的时间里确实如他所说，他帮我挡了几乎所有外面想找我麻烦的人，而我与二爷的关系也又一次亲密了起来。</p><p>也是在那个时候，听他说了凤雏后来去找过那个女孩儿几次，后来被二爷打架的朋友给打了，好像是打的还挺严重，我问二爷这事儿是谁的主意，二爷说他是后来才知道的，他也不愿去打他。</p><p>后来再听二爷聊起那女孩儿的事儿，他说他跟那小女孩现在也不太联系了，原因是因为他爸妈吵架，他妈心情不好，不知道怎么的就跟那女孩儿的妈妈吵了起来，之后两家的关系就没那么密切了。</p><p>初中阶段的最后一个月，因为与女孩关系过密，我又跟另一拨儿人矛盾激化，在一个早晨我看到那人穿着军警靴提着带刀的双截棍来学校，这之前我也听说了他们背后商量准备收拾我的事，于是我趁着课间操时间就跟老师聊了一下收拾东西回家了，当时也只是匆忙跟二爷打了个招呼，一旦涉及到刀，我更不想让他帮我出头，一旦出了大事，可能就无人负担的起，我一向是更理智些的，我不想让自己受伤害，也不希望他因为我受伤害，所以一走了之最好。</p><p>经此一别，许久不再见面，我是没有心理准备的。因为学习成绩，我能进省重点高中，但是他不能，但是我们在同一个城市，毕竟离得不算太远。</p><p>中考结束后，我打电话到他家总是没人接，又去他家里找，家中也无人，于是就这样断了联系，我不知道他考到了哪所高中，除了他家的电话，我没有其它的联系方式。</p><p>这一别就是两年半，再次巧遇是我去买安全套，那个时候我并不知道在药店能买到，一般都是去成人用品店买。而我遇到他就是在那家成人用品店，那家店是在一个小区的一楼临街面开的，从店旁边进去另一个门就是偷偷经营的一家游戏厅，里面大概有七八台 PS游戏机，就是在这个店，我低头进去他仰首出来，迎面遇上，他叫了一声大哥。</p><p>这时我才知道，中考后，他父母离了婚，而他一直住在奶奶家，那个暑假，我回了老家，他来找过我，家里没人，暑假后，他去了他奶奶家所在镇上的中学，离得远了，于是从此就断了消息。聊了几分钟，他的 BP机又响了，他又匆匆去赴朋友的约，只是给我留下他奶奶家的电话号码和一个传呼号。</p><p>毕竟是奶奶家的电话，家里就两个老人，我并不敢轻易打电话打扰了老人，后来也断断续续的通过传呼找他，大致能通过电话聊上几分钟，因为他的学校是职高性质，很自由，但是他很忙，总是有朋友要找他。</p><p>后来，我来了北京，后来再打传呼他就没回过，我并不知道他是充满用了那个传呼号还是有别的原因，自我来了北京，我们又一次断了联络。</p><p>我常常在想，也许我们再也联系不上了，我也常常在想，即便我们能再联系上，兴许我也不知道应该跟他再聊些什么了吧，也许这一生的缘份到彼时也就已经结束。我不奢望更多，唯盼，兄弟各自珍重，关二爷，一切安好。</p>]]></content>
      
      
      <categories>
          
          <category> 兰陵故事 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>兰陵故事 - 印象</title>
      <link href="/2021/0308/zaozhuang-story-1.html"/>
      <url>/2021/0308/zaozhuang-story-1.html</url>
      
        <content type="html"><![CDATA[<p>我对枣庄的印象大抵是这样的，空气中迷漫着焦炭燃烧的气味，地面上是混合着煤粉的灰尘，一脚踏过去，能看到灰尘们会猛的从脚边散开，然后再迅速的落回地面或鞋上，因此在我在记忆中似乎鞋总是没有干净过，一个星期洗一次鞋是必须做的，运动后的被汗湿够的鞋边上总是迅速的沾满了黑色的粉尘。</p><p>我出生于鲁西南的一个贫穷落后的小县城，没见过什么世面，而能知道枣庄这个地方，并能与之产生深厚的关系，这得益于我的祖父，怹老人家是家族的骄傲，一个人年轻时出去闯荡，从在火车站抗大包一直到成为一个不大不小的处级干部，这在家乡是个奇迹，而且对于家乡人倾力照拂也让他留下了极好的名声。</p><p>在我懂事之前应当是去过很多次枣庄的，但是留下深刻记忆的具体事件并不多，最初几次去枣庄能有着清晰记忆的事可能就剩下一件，当然这也许是由于大人们的不断的重复讲述，给我制造了一个记忆吧，他们说我有一次坐长途汽车去枣庄的路上拉在了裤子里，我并不愿意相信这是真的。但是，从那时候开始我开始晕车，这也许跟这件事是有关系的吧。</p><p>我记得祖父的家是在一个公厕的上面，下面一层是公厕，上面是祖父的家，院门在一楼，进去后有个小院，正对着院门是厨房，院子里有个水龙头，每到冬天就被包上厚厚的几层麻袋片用于保暖。院子旁边是一条很窄的楼梯，通过这里才能上到楼上的客厅和卧室。在这里能隐约闻到来自公共厕所里尿液和粪便的味道，再混合着这个城市的焦炭的味道，这让幼小的我一度认为这就是城市的高级气味。我在来枣庄之前也就只去过老家的县城赶会，而那里就只有一种落后的焦炭的味道，那来自于卖煎包的炉火，而在枣庄处处都能闻到这种混合的味道，也许这就是枣庄更加先进的地方吧。</p><p>最初的记忆总是模糊的虚构的或是美化的吧，自打八岁时去枣庄读书，我才算是真正的与枣庄发生了关系。</p><span id="more"></span><p>第一次离开父母独自跟着祖父去枣庄，一切都感觉那么新鲜，从位于鲁西南的老家到鲁南的枣庄，在那个时候需要在长途汽车上晃荡半天，等到达枣庄的时候已经是半下午了，下午的阳光没那么刺眼，阳光打在眼前高高低低的楼上显得那么的金壁辉煌，是的，金壁辉煌，这也许是当时的我唯一能想到的四字词了吧。</p><p>初到枣庄凭着记忆我是向着公厕上面的那个小院过去的，但是祖父说走错了，然后带着我去了另一个方向的一个带小院儿的二层小楼。后来与家人聊起这个事，他们说确曾住过那间公厕上面的小楼，但是也只住过很短的一段时间，而且在那边居住期间我也只去过一次。那我模糊记忆中那么多的事味道场景是从哪里来的哪？</p><p>要说起来，其实我是个内向拘谨的人，我不太喜欢到处乱跑，特别是刚到了一个人生地不熟的地方，最开始的时间我是被教导了一些在城市生活的基本技能的，比如在哪里能买到吃食，在哪里丢垃圾之类，毕竟那个时候我还是个纯粹的农村孩子，买东西只会去供销点，垃圾嘛，哪里顺手丢哪里，城市里是不同的，有痰盂有垃圾桶。</p><p>彼时正是夏天最热的时候，吊扇一天到晚不停的转，好像是三角牌的，这比乡下先进太多了，但是我很担心，因此一直在思考吊扇是怎么安装的问题，这么一直转会不会把螺丝给转松了扇叶会不会飞下来。除了这吊扇，我最喜欢还是摇头扇，那时候我最喜欢做的事就是吃饱了饭就跑楼上去对着摇头扇吹风，结果一个星期后我消化不良开始吐黄水儿，除了被带到医院打了几天针，还被祖父一顿批评。</p><p>祖父是个严格的人，虽然他嘴角总是带着笑。他经常跟我们说他是吃了没文化的亏，要不然他有很多机会可以更进很多步。在生活上他照顾我们很周到，在学习方面也要求很严格，他在家里的时候基本上是不会允许我们看电视的。好在我们几个还算争气，我去枣庄时姑姑已经工作，叔叔已经上大学，那时在他身边上学的只有我姐和我，而我姐和我都是比较让人放心的，每次开家长会都是他最开心的时候。</p><p>自从被摇头扇吹病事件之后，最开始的新鲜劲儿也就算是过去了。正式开始在枣庄读书之后其实是挺枯燥的一件事儿，这里的老师也确实更严厉一些，从最开始怯懦小心翼翼到骑在同学身上大打出手再到对于在城市里学习的驾轻就熟，从紧紧跟在姐姐身边一起去学校到能够和一群同学啸聚周边的游戏厅，其实并没有经过太长时间，看惯了的灰墙会变得陈旧，走多了的柏油马路也会蒸腾起难耐燥热。</p><p>我记得，到枣庄那一年我在电视上看了中国主办的亚运会，听到了满大街的亚洲雄风，之后又看到了香港回归的转播，又听到了满大街的“一个芝麻糕“，然后匆匆的我的整个少年时代就过去了。</p><p>我也记得，在这里我喜欢过好几个姑娘，也被好几个姑娘喜欢过;我经历过茫然不知所措，也经历过信手捻来捻去;经历过割袍断义劳燕分飞，也经历过重归于好破镜重圆。</p><p>整整十年的时间，最可以无所顾忌的拥有梦想的年纪，都在这里，从离开这里到现在又过去了二十年，在这二十年中我几乎没再想起过那十年的时光，不是忘却，而是它就在血液中，无时无刻不在。</p>]]></content>
      
      
      <categories>
          
          <category> 兰陵故事 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>关于健康（一）</title>
      <link href="/2020/1210/about-healthy-1.html"/>
      <url>/2020/1210/about-healthy-1.html</url>
      
        <content type="html"><![CDATA[<p>最近身体出了一些状况，哦，确切的说，应该是最近身体检查出了一些状况，这件事让我很是焦虑担心，我没有想到我身体的状况已经差到了这个程度，这是一直以来的工作状态和作息习惯造成的，其实真要说起来，对于身体有问题我多少心里还是有些准备的，只是事到临头还是顿觉有些措手不及。</p><p>我的身体其实是一直有些小问题的，背后有个粉瘤，存在了也有好几年了，也在最近开始出现化脓的问题，国庆前突然开始肿痛起来，然后开始流脓，量还挺大，给我造成很大的不便。也正是这个不便促使我赶紧去医院看了一下，医生给做了切开手术把脓给导出来，经过一个月多的换药处理，总算是于今天结束了换药，切开的伤口已经长合结的痂也脱落了。总算是可以开心的想咋洗澡就咋洗澡了，在伤口长好之前，我最大的烦恼其实就是洗澡问题啊，为了防止把伤口打湿，我总是要小心的洗正面，用毛巾擦背面，然后穿上 T 恤再洗头，把头发擦干后再脱掉 T 恤穿睡衣，呼～，这个小麻烦总算是解决了。</p><p>另外血糖也出了问题，空腹血糖达到 7.2，好在，糖化指标是 6.4，也就是说，这意味着我站在了糖尿病的门口。虽然还没诊断为糖尿病，但是这也要求我在日常生活中要严格注意糖的摄入量了。另外，还有血脂也高，尿酸也高，因为早就知道尿酸高的事，我在饮食方面还算是比较注意的，我最爱吃的东西就包含了炒肝、爆肚、卤煮，还有羊杂汤之类的，简单来说，我喜欢吃内脏，不过因为尿酸高的原因，我已经很少吃了。</p><p>这些还都是小问题，最严重的是，心脏出了些问题，冠状动脉钙化。</p><p>在几年前我就开始偶尔感觉到胸口不舒服，不过这种不舒服每年大概就发作个一两次，也只是隐约感觉不舒服，到医院看了中医，给的结论是胸痹，在中医上胸痹的范围比较宽泛，可能造成的原因也很多，不过中医的辩证与西医的那种细分的病因没有多大的必要关联，总之吃了几次中药也就好了。</p><p>从今年年初开始胸部不适发作的比较频繁，每次走路去地铁站都会大概率感觉不适，但是因为疫情的原因，我并不想去医院，直到国庆前。</p><p>在国庆前这种胸部不适发作的更加频繁，触发的条件也越来越低，国庆回家期间感觉很多事都做不了了，以前每次回家都感觉身体状态很好，到处跑来跑去都状态很好，每次一口气步行五六公里都很轻松，但是这次回家完全不同，没有车根本就出不了门，走出去找碗螺蛳粉都是很难的事。在这个时候我已经不得不重视起来了，在内心深处其实我是有些隐约的恐怖的，于是就决定回到北京就马上做检查。</p><p>回来后在协和医院做了检查，第一个看的医生其实还是给了我很大的希望的，这个医生给我开了两种我之前没吃过的降压药，效果奇好，血压一下给我控制的很稳定，这让我对于协和医院的信心一下大涨，而且吃药后，我感觉身体状态似乎也好了很多，这让我误以为只是不大的小问题、慢性病，但是那天医生还是给我开了确诊冠心病的检查。</p><p>检查后要排队，于是延后了两个星期才做了检查，然后因为一直没有挂到那个医生的号，在又等了两个星期之后，我不得不挂了另一个医生的号，医生很好，但是给了我一个不好的诊断结果，然后给开了一些药。之前我只吃降压药，每天吃两种共颗，后来在协和，那个医生帮我改成了每天三种共三颗，然后这次后，我每天早晨要吃 6 种药，共 7 颗，这让我感觉很不好。</p><p>拿到诊断后，我的心情是低落的，不过现在已经没有问题了，能恢复这么快，我得感谢夫人。虽然平时也会有矛盾，也有意见相左的时候，但是这知道我心脏出问题之后，恐怕夫人是最担心的一个人了，之后，她收集一切能找到的相关的信心来帮我宽心，告诉我要注意的方面，同时也要求我每天必须要锻炼，经过最近两周的锻炼，我感觉身体状态好了很多，现在每天下午会抽出半小时到 一个小时的时间在公司周边步行，现在一口气下来三公里多是完全没有问题的。</p><p>另外，我还要感谢王爷，王爷能陪在我身边的时间比夫人还多，一样，我陪怹的时候也比他老婆多，不过这种状态很快就要有所变化了，我们虽然不是一样的人，但是境遇却是如此的相同，对，就是相同，因为相似度太高了。王爷比我小一岁，但是对我关照有加，我感冒了手上没药，因为众所周知的原因，我不想在网上和药店买药，于是王爷把他备的存药闪送给我，陪我去看戏，带我去看展。这次听说我身体出了比较大的问题后对我表达了极大的关心，帮我出主意，在当周的双爷会，经过与王爷一通聊，我心态就彻底的恢复了。</p><p>我相信我的身体状态会越来越好的，我相信我可以陪孩子长大，陪老婆变老，陪父母走完他们的人生。所以，我开始做很多的改变。</p><p>现在我每天尽可能的控制饮食，吃含脂肪糖胆固醇低的食物，尽可能的多锻炼，锻炼能增强心脏动力，也会赶回血管的弹性，这对于我的这种情况是有所助益的。</p><p>另外就是每天尽可能的早点睡觉，这一点是尤为重要的，对于心脑血管健康来说，规律正确的作息的作用比想象的要大得多。从西医的角度来讲，每天规律睡眠，每天睡够足够的时长就是可以的；而从中医角度来说，是要讲究天人合一的，日出而作日落而息才是符合自然规律的好的作息习惯。对于这两点，在这也不评论各自优劣，但对于我来说，在改变睡眠时间后，入睡时间提前至11点前之后，每夜睡眠总时间没有变化，除去开始几日入睡困难外，之后白天的精神确实是变得好很多。</p><blockquote><p>这篇早就写完了，但是一直也没发出来，此时我已经手术完毕，下一篇再写关于健康就要说说跟这次手术相关的事情了。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Life </category>
          
      </categories>
      
      
        <tags>
            
            <tag> healthy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>读书不可贪多</title>
      <link href="/2019/0218/controll-the-mindset-of-reading.html"/>
      <url>/2019/0218/controll-the-mindset-of-reading.html</url>
      
        <content type="html"><![CDATA[<p>最近家里堆放的未拆封的新书越来越多，枕边的书也越来越多。未拆封的有几本我就不估计了，但是枕边的书至少也有十本左右了，当然了，没细数，大致是有这么多。类似的情况经历过好几次了，每次遇到这种情况就集中时间粗略的读一遍，然后就把需要细读的留下一两本，其它的就直接归至读完那一类了，这样导致的后果就是，阅读后的收获并不如之前预想的那样多，甚至对于如此读过的书并没有多少的印象。</p><p>这种情况一再的出现，不由的我不去重视这个问题了，今天我想大概整理一下思路，看以后如何避免这种低效和浪费。</p><p>出现这种情况最直接的原因应该是短时间内买了太多书，结果就导致读书的压力一下就堆积到一起了。而之所以一下买那么多书，其实是跟我的学习读书习惯有很大关系的。</p><p>说起我的学习习惯，一般都是就一个主题集中在一个比较短的时间内尽可能多的学习周边知识。因此一般情况下，我会就这个主题购买大量相关知识的书。比如有一段时间学习咖啡相关的知识，于是，我从咖啡基础知识、咖啡风味、烘焙乃至到咖啡豆的产地、风味、交易，甚至咖啡馆相关的书我都买来了，这一轮学习大致让我持续了半年多的时间，倒是真的学到了很多相关知识，只是对于我一个非咖啡从业者来说，学习这么多是否有这个必要哪？现在来考虑这个问题我是觉得确实是无意义的学习，如果只是从咖啡消费者的角度来讲，其实学习咖啡的产地、风味，最多学习一些烘焙和手冲的手法也就足够了，或者在享用咖啡产品时能分辨出是好是坏就可以了吧。</p><p>没有很好的制定学习深度是一个严重问题，而更严重的在于，我经常会进行主题类的学习，比如经济学、金融投资，还有艺术类的比如绘画、京剧，因为时间有限，经常会遇到多个主题同时进行的情况，这就造成了时间不够分配的情况。</p><p>我不知道别人是否有类似的情况，但是我之所以会有这样的问题我觉得大致有两个方面的原因，一是心理需求，心理需求还分为了兴趣所在和装逼需要；二是知识焦虑或是信息焦虑，就是如果停止学习会让我有一种强烈的不安感，我需要学习更多的知识了解更多的信息。</p><p>在心理需求中，兴趣是一个重要的原因，比如说京剧，因为我喜欢京剧，所以我希望能进行更深入的了解，了解越多会让我感觉更开心。我有看戏的习惯，每个月总会安排一两次去戏院子看现场，听不同流派的唱腔念白，看不同演员的作功。演员一张口就能清晰的分辨出其流派、有没有唱好，准确的给予叫好，这都让我有极大的成就感。而这样的成就感正是促使我学习更丰富的戏剧知识的原动力。</p><p>而对于装逼需求嘛，其实这一点就不是完全的兴趣促使了，就如我希望了解更多的绘画知识，其实原因可以分为两部分，一方面，我知道我的最大的短板其实是在绘画方面，我没有这方面的天赋，但是同时我确实也想通过学习来补足这一块儿，另一方面，我也希望增加谈资，在看到一幅画时可以轻松的说出这幅画的年代、作者等背景知识。这种需求并不强烈，但是也促使我购买了不少相关的书，导致我分配了很多精力在这方面。</p><span id="more"></span><p>而对于信息焦虑，此类购买需求的基本上都源自于普遍意义上的正事需求，比如对投资的学习，这方面的学习可以提高我的理财能力，而这会直接影响到我的家庭及我自己以后的人生，这是一个很大的课题也是一个持续的学习过程。大概的回忆一下，对于这类学习我大概有接近二十年了。再比如对技术的学习，持续了更长时间，至少有二十五年的学习了，因为我从学习计算机技术就是自学，而这一过程从一开始就没停过，好在最近几年我开始读更多人文类的书，对于技术我现在更多的关注技术趋势了。</p><p>除了短时间内买书太多之外，还有一个严重问题，就是对读书时间安排不合理。</p><p>同时开多本书，我不确定这是不是一个问题，适度的话我觉得是好事，比如同时阅读两三本书，好处是一些读起来枯燥的书，几本书调济着读可以让大脑稍微得到一些放松。这也有两种情况，同时读多本同类的书和同时读多本不同类的书，情况不同影响不同处理的方法也是不同的。</p><p>当同时阅读的书属于同类时，我觉得应当是可以互相参照着读，参照着读的好处是可以增强理解，相同的概念也许换个方式说出来会更容易理解，而这样阅读的方式不应该把互相参照的每本书的每部分内容都精读，而应该是每本书有不同的重点，基本上等于把几本同类型的书组合成一本书读下来，每本书的阅读速度可以加快。而对于同时阅读的书属于不同类型时，我觉得每本书都应该按照那本书的类型决定是否需要精读。</p><p>我之前并没有注意到这些区别，每本书都精读，这就导致在读同一类型的书时浪费大量的时间，问题应该引起重视。</p><p>很多时候也把读书当成了任务，该休息时不休息，导致精神困顿，很难集中精力在读书之上，但是有时还强撑着读下去，其实这种阅读完全没有效率也没有意义，关于这一点还在于时间管理上，不要把时间花在于意义的事情上，时间管理又是个大话题，以后有空再聊吧。</p><p>最后该点题了，所有上面的情况，在我看来都跟心态有关，太贪心了，结果导致效率极大的下降。在我看来阅读效率最高的情况应该是专注于单一主题的阅读，如果有必要，不妨准备个笔记本和一支笔，在纸上写写画画，操作难度不大也可以借助多维的方式进行理解和记忆。</p>]]></content>
      
      
      <categories>
          
          <category> Reading </category>
          
      </categories>
      
      
        <tags>
            
            <tag> reading </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>我的二零一八</title>
      <link href="/2019/0201/the-2018.html"/>
      <url>/2019/0201/the-2018.html</url>
      
        <content type="html"><![CDATA[<h2 id="最重要的收获二子出生"><a href="#最重要的收获二子出生" class="headerlink" title="最重要的收获二子出生"></a>最重要的收获二子出生</h2><p>2018已经过去了一个月，现在总结它似乎稍显晚了些，不过对于我来说，没过春节并不算是这一年完整的过去，所以我想，这个时间对过去的一年进行总结似乎更加合乎情理一些。</p><p>总的来说，2018年我过得还不错，也算是有些收获。</p><p>对于我来说最重大的事情当然就是二宝的出生，又多了一个儿子，感觉压力又增加了不少，原本与夫人满心希望的是生一个可爱的小公主的，也许是早有预感，二儿子出生时我们并没有感觉意外，也并没有失望，倒是大儿子为不是妹妹而感到些许的失落，不过还好，过了没多久他也对弟弟亲近起来了，希望这两个孩子在以后的人生中都能把对方当成生命中最重要的人最亲近的人，这种血缘亲情应当是不可替代的。</p><p>因为弟弟的出生，对于哥哥的学习，我们关注的就减少了，结果导致了成绩有些下滑，不过现在已经在开始努力赶回来了，两个小家伙都很棒呀，弟弟出生不到十天就可以趴着把头提起来，哥哥在一月份参加了央视两个春节特别节目的录制，很棒，但是还需要继续努力。估计哥哥的成绩下降也跟花大量时间排练节目有很大的关系吧，花了太多精力在节目上了。</p><p>当然了，2018年最辛苦的是我们家大美女了，从年初怀孕开始就没有真正休息过。我想二宝38周出生仍然能有非常好的身体，跟妈妈在怀孕期间的生活习惯有很大关系。在这期间，基本上和平常的生活习惯一致，正常做事，除了最初的几周，锻炼也在保持，所以，一直到孩子出生，除了肚子变大，夫人的身材没有其它问题，第一胎出现过的水肿，在怀老二期间也没有出现过。</p><p>孩子出生后夫人尤其劳累，也就是孩子出生两周我在她身边陪着，其它时间都是她自己在忙活，还要管着老大的学习，我却只能在离他们娘儿仨几千里外忙工作，看来这心中的愧疚是无法消减的了，只能好好工作好好赚钱，给他们创造更好的经济条件了。</p><p>说到这里也该说说其它方面了，这一年在工作方面应该算多少都是有些进步的吧。</p><span id="more"></span><h2 id="工作收获"><a href="#工作收获" class="headerlink" title="工作收获"></a>工作收获</h2><p>2017年是最背的一年，前东家欠的工资不少，具体数目对于大多数人来说绝不算少，这给我造成了不小的压力，很多安排也被打乱了，不过好在2018年发展还不错，从年初回到北京开始都还挺顺利的，很多有有Offer到手，不过在一点点波折之后，我最终来了现东家这里，嗯，怎么说哪，现东家还是挺不错的。</p><p>在这里除了学习一些我之前没有经历过的盈利模式外，也了解到新的项目管理模式和团队协作方式，对于项目的快速开发原型试错到产品上线对我来说都有值得学习的地方。工作细节不便说太多，不过对我来说这里应该是新的起点，也可能是转型的开始，我很期待新的一年的到来。</p><p>除了生活及工作中的变化，我觉得最大的变化还体现在心理层面，在理念上的变化很大，可能会影响到我以后的人生。</p><h2 id="思想方面的改变"><a href="#思想方面的改变" class="headerlink" title="思想方面的改变"></a>思想方面的改变</h2><p>心理层面的变化主要体现在两个方面：学习、投资，而变化的正是对于这两个方面的理解。</p><h3 id="关于学习"><a href="#关于学习" class="headerlink" title="关于学习"></a>关于学习</h3><p>先说说关于“学习”，对于我所从事的技术工作，或者更确切的说，对于我们程序员工作，学习是终身都要做的事，时刻有新技术新架构新框架新思想出现，为了保持领先那就必须要持续保持学习的状态。</p><p>不过在我看来，学习也是不同的，学习的不同就在于采用什么样的方式，选择学习哪些知识，这很重要，选择对的学习方法和内容决定了学习的效率。举个简单的例子，几乎所有数据库的优化都涉及到索引优化，那么当需要研究数据库索引优化原理时是否需要针对每种不同的数据库进行学习哪？我的看法其实大可不必如此，只要学会不同引擎怎样使用B树或B+树构建索引文件，以及数据库引擎独有的使用索引数据的方式就行了，比如MySQL的MyISAM引擎使用单独的索引文件，而InnoDB引擎主键索引与数据使用同一文件，再比较到MongoDB这种文档型数据库就会发现其实大家使用索引的方式都是一样的呀。</p><p>学会了B树B+树的使用原理，顺带手就把红黑树、二三树搞定了，无非就是分裂合并旋转变色，经过这些学习，再去理解二叉树的几种类型就完全没有难度了。</p><p>所以我并于学习的观点其实是<code>The Hard Way</code>，当然，这个难度应当适度，不能达到完全无法理解的难度。在这种高难度的要求下，选择一本经典好书，或是一份具体的专注于单一技术的文档，以交互的方式把书或文档理解透，那么，这个技术点及其周边的相关知识也基本上学的差不多了，我这里提到的互动不拘于某一形式，可以以代码的形式，也可以在纸上画以描述整个技术的过程细节。</p><p>当然，这也只是适用于我自己的一个方式，对于别人是否适应我并没有实验样本。而且，这只是个年度总结，等有时间我会专门写写关于学习的话题。</p><p>这个适用于我的学习方式并不只是在学习编程技术中使用，其实同时还用在了学习财经知识的过程中，这也就涉及到我下面将要聊到的投资相关的体会。</p><h3 id="关于投资"><a href="#关于投资" class="headerlink" title="关于投资"></a>关于投资</h3><p>关于“投资”，于我与言，对于2018年是我对“投资”的观念转变最大的一年，几乎可以说是地覆天翻的变化，我试试能不能尽可能的清楚说明白这一年的观念变化，或许对于下一步的思考会有所帮助。</p><p>在2017年之前，我对于投资的学习主要集中在股票方面，而且还是对技术分析有所迷信，觉得基于大量样本分析之后，就肯定能对股票的后市价格进行有效的推测，这个推测完全信赖于股票价格要按照数学计算的轨迹行进，但是我却忽略了，市场因素和人性对于价格的影响，在国内，由于有涨跌幅的限制，股价不可能出现一下跌到底或涨上天的情况，但是10%的跌幅也足够把大多数散户的钱给吞进去。</p><p>技术分析的本质是什么？在我看来，所有基于技术分析做出来股价预测都是寄希望于历史可以重演之上的，想想在学习技术分析时都经历了什么？那些技术形态，什么头肩顶、什么红三兵之类的，这些形态名字的定义就是要告诉学习者们，K线出现这样的形态之后，后面股价就会以怎样的方式行进，给出这样结论的原因是什么哪？因为在历史上出现过多次这样的形态，而历史上出现这样的形态后股价就有这样那样的变化，那么依据此那些专家告诉我们，下次出现这样的形态股票就会上涨或下跌，就像因为你有好几次看到一个美女出现，然后撞到了柱子，于是得出结论，下次看到美女你就会撞到柱子，要是你周围就没有柱子哪？这没有必然的因果关系就不能做为推断的依据呀，即使是基于概率的推测实际也是跟算命一样，可能准也可以不准。</p><p>当然我并不是反对技术分析这种方式，其实技术分析做为历史数据分析以及趋势分析还是有其重大意义的，不过也许是我修为不到不适合技术流吧。</p><p>至于我现在的思路，应该是更适合以价值投资的理念进行股票或是指数投资吧，按照巴老爷子的说法就是用便宜的价格买好公司，在买入一支股票时一定要研究清楚这公司在市场中的地位、主营业务、盈利模式、行业情况等硬件情况，还要研究其公司治理相关，比如管理层，比如公司制度等。</p><p>还有最重要的一项必须要研究的，公司财报必须要进行细致研究的，很多在财会操作方面合法的手段可以轻易改变公司的盈利亏损情况，比如今年A股大面积暴雷，有个很大的原因就是商誉减值测试，因为之前一轮的高价收购导致商誉占比大于公司可量化的资产，新的减值测试导致商誉减值很大，当然这也不排除这些公司以此方式将利空出尽以便于进入牛市时做高盈利。除了这个商誉问题，还有折旧、坏帐、亏损计提等方式来调整帐面盈利情况，所以财报的三个表一定要研究清楚，这才是理性投资的正确方式。</p><p>另外还有消息面、基本面方面，基本面改变市场改变，那么就需要重新研究公司价格是否合理，所以，投资也是需要终身学习的一个行业。</p><p>从来不写投资类的文章，所以以上也只是大概写写，目前我主要是做一些基金定投，并且在适当的时候对以前被套的股票补补仓降低成本价，期待新的机会吧，基本上以前买入的股票目前都还不错。</p><h2 id="新的一年"><a href="#新的一年" class="headerlink" title="新的一年"></a>新的一年</h2><p>关于新的一年，我还是有很多打算的，就是不知道年终能达的有哪些，新的计划主要就是工作、学习、投资这三个方面，主要就是简单的说一下吧。</p><p>于工作方面，主要还是工作定位的变化，新的一年会有更多的任务，在工作方面需要跟其它技术部门及产品、测试部门保持良好的合作，不能拖其它部门的后腿，衡量部门的技术情况及工作量情况，考虑一些架构改良措施，尝试提高效率、降低成本。</p><p>对于学习，分为技术和金融经济方面的学习，技术方面至少应该提高Java的水平和更多使用TypeScript在小程序开发方面，这个主要是为了个人提高；金融经济方面，至少应该更深入的学会《微观经济学》和《宏观经济学》，同时尝试考下证券从业及基金从业证，这两个证纯粹是为了定一下可量化的目标去学习关于证券基金的知识。</p><p>对于投资方面，今年还是保持基金定投的操作，主要还是指数类基金定投，可以考虑分级基金的套利，不过这种机会好像也并不多。另外就是可以考虑更多投入一些在股票方面，以及能让账户的市值能尽可能稳定的恢复盈利吧。</p><p>其实话说到最后，最好的投资还是投资在自己身上，这就是为未来投资，多花一些时间精力在自身能力的提高上，这是根本。把专注力把时间更多的在提升自己身上，不要花太多时间在零碎的知识学习方式，不需要花太多精力在购买付费内容方面，可以用碎片时间听一些经验分享和指导类的的收费内容上，真正有效的学习还是需要主动学习，籍由别人分享的经验来摸索适合自己的学习方式，以别人分享的要点来指导自己的学习，这样或许能提高一些学习效率，不要买太多付费内容网络课程，大多都是浪费，不要问我怎么知道的，我就是知道。</p>]]></content>
      
      
      <categories>
          
          <category> 日常生活 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日常 </tag>
            
            <tag> 总结 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>I&#39;m back</title>
      <link href="/2018/0606/I-m-back.html"/>
      <url>/2018/0606/I-m-back.html</url>
      
        <content type="html"><![CDATA[<p>打开博客看了看，上一篇日志已经是一年半前发的了，不是我不想写点什么，而是越来越不知道该写点儿什么了。</p><p>昨天看了王爷重发的新日志，又让我再一起决定还是写点什么吧，当是日记吐糟，或是对日渐生疏的文字表达能力进行一些锻炼，不求长进，但求不要退化也就满足了。</p><p>要说起来，最近一年半以来，也不是没有写点什么的念头，只是开始写了一半却没有时间继续下去，然后就淡了兴致。其中有一次是跟一个主播的辩论，让我想把我的我周边人的感悟写出来，这样的话题自然从自身写起更容易，结果写着写着，突然又让我忆起了与夫人初识的美好，之后脑子似乎就没了条理，千头万緒不知道从哪里开始写起了。</p><p>与夫人相爱七年后结婚，而婚后至今又有九年，时光易逝，与夫人在一起已有十六年，这十六年中自然会有争吵，甚至严重到冷战到有离婚的念头，不过对对方的情感与依赖终会战胜分歧，而且这些争吵也没有严重到伤害感情的程度，反正每次争吵后我都能感觉到我们之间的理解更深一层，我想这大概是亲情增进的一个过程吧。自夫人第一次为了我放弃工行的工作陪我一起北漂，到为了备孕生子放弃工作，再到为了生二宝基本放弃了几年锻炼的成果，这么多年来夫人的付出远大过于我，在外人看来，我独立支撑家里的经济付出的似乎更多，其实不然，男人天生更适合在外打拼（这么好像有点直男癌，但是在人类进入以耕种为主的农业社会以后，这种天然的分工就已经形成，我相当认同这种观点），独立支撑家庭的经济来源当然压力很大，身体不敢出问题，工作不敢断档，但是男人的任务也主要就是工作，而夫人留在家里却负责了收入之外的所有事，孩子的吃穿住行、上学写作业哪样都离不开妈妈，家里的打扫家务做饭夫人也要负担起来，更因为我在异地工作，夫人更是承担起了好多男人的活，简单的换灯管，新家的装修也落在了夫人肩上，选材料门窗找装修师傅，心疼，即便是在这样的压力之下，夫人还是决定给我生第二个孩子，到这里我已经无能再说什么，只想好好陪着她和孩子们，和她一起慢慢变老。</p><p>感悟抒发告一段落，每次想到家老婆孩子时，想写点儿什么都是缺乏条理的，后面还是写点儿其它的吧。</p><span id="more"></span><p>这一年半来发生的事情确实是超级多，首先，就是前东家的项目失败，股东的投资自然是无能收回的，而我的工资也被欠了15万，这让我很受伤啊，导致这一状况引发了一系列压力转移叠加，结果就导致过年前后我的压力倍增，甚至想着要不就不回北京了，直接在南宁找一份差不多的工作也不是什么难事，将就做着唄，反正生活肯定是没问题的。当然了，这个想法并没有成为现实，我还是回了北京，进了一家不错的公司。</p><p>最有意思的事情是，两位朋友兼合作伙伴在年后来了柳州，一起做了些事情，而且陪他们好好体验了一把柳州人的生活，螺蛳粉烤串啥的吃了一溜够，估计短期间他们是看不上北京卖的螺蛳粉了。本来我们已经是在勉强支撑了，不过好在最后总算是出现了转机，总之我又可以常常见到王爷，这是大喜事呀，希望这样的境况能够长久，只是这对于王爷的家人似乎又是一个需要艰难适应的时期。</p><p>这次回来北京，我决定弥补我从小就有的那个不会画画的遗憾，我希望能分配出一定的时间来练习绘画，我知道绘画除了天赋其实更重要的是练习，只要努力练，那肯定能画出像样的东西，不能成为艺术那就成为技术吧，技术都是可训练出来的，希望一年后我能在这里贴出像样的作品。</p><p>下次不在上班时间写日志了，这篇日志是做为回归宣言放出来的，希望这次能多写一些不一样的东西吧。</p>]]></content>
      
      
      <categories>
          
          <category> 日常生活 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日常 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>掉进咖啡的大坑</title>
      <link href="/2016/1118/Fall-into-coffee-trap.html"/>
      <url>/2016/1118/Fall-into-coffee-trap.html</url>
      
        <content type="html"><![CDATA[<h1 id="开篇明义"><a href="#开篇明义" class="headerlink" title="开篇明义"></a>开篇明义</h1><p>按照习惯，在这部分是明不了义的，纯粹是无法进入正文，于是瞎说几句。今天跟<a href="http://tigerwang.us/">王爷</a>聊天，喜闻他老人家今儿又开始更新博客了，于是我想，是否也应该写点儿东西了，打开很久没关心过的部落格才发现，上次的那一篇已经是一年前的事了，顿感时间飞逝时不我待。<br>今天同事L问起，说什么样的话题能让你体会到时间过得飞快？『你不妨想想，十年前已经不是1996年了？』，心中顿时起了恐慌的感觉。</p><h1 id="关于咖啡"><a href="#关于咖啡" class="headerlink" title="关于咖啡"></a>关于咖啡</h1><p>对于咖啡我本不是很喜欢的，或是当时不知如何欣赏如何品鉴，总之对其提不起兴趣，总觉不如茶让我感觉悠闲舒适。直到有一天，王爷带我去尝试了一次单品咖啡，然后我就慢慢有种将要掉入大坑的趋势，不过此时并没有意识到单品和美式的区别，直到买了一本叫做《咖啡品鉴大全》的书，应该是这本书，是一个日本人写的，铜板纸、彩色印刷，非常精美，是我喜欢的那种书，由这本书我对咖啡加深了很多的了解，包括种属、产地、海拔，亦是烘焙研磨萃取的基础知识。</p><p>好吧，关于这本书就说这些吧，再说回入坑咖啡，这又得讲到<a href="http://tigerwang.us/">坑王爷</a>，两周前的一个周末，我去了一趟沈阳王爷家，王爷是个热情的人，其中各种热情招待就不细说了，就说王爷给我按摩了两下子，其实这也跟咖啡没关系，只是我从来没被男人按摩过啊，而且还是当着他夫人的面帮我按的，嗯，幸亏是当着夫人面按的。</p><p>还是说回咖啡，各种热情招待暂且不表，且说到沈阳的第二天早晨，和王爷去了一家叫BOK的咖啡馆，其实里面的环境并不是我喜欢的那种，但是这不是重点，就是那天早晨的一杯美式咖啡，让我突然对咖啡有了一种强烈的感觉，不知道这种感觉从何而来，总之，是一种强烈的感觉，那种感觉让甚至一度的觉得可能以后再也离不开咖啡了，而早晨时来一杯咖啡也许就是我最想要的，只不过一直没有发现而已。</p><p>王爷说我是个容易入坑的人，或者说是容易被他推进坑的人，细想来确实如此，但如果换一个角度来说，这不正是我能和王爷成为至交好友的原因吗，他或我分享一些东西常常刚好击中对方的兴趣点，心有灵犀就是形容这种感觉的吧，不过我更愿意称之为默契。</p><span id="more"></span><h1 id="坑"><a href="#坑" class="headerlink" title="坑"></a>坑</h1><p>曾在某本书上看到『爱上咖啡是你的幸运，但爱上咖啡器具是你的不幸』，别问我这是谁说的，谁让咱看书杂呐，更也许是我自己脑子里想的觉得有道理就冠之以『某本书上说』，之所以这么说，我想大概就是因为咖啡器具种类繁多吧，不过咱毕竟不是专业的，没必要购入太多的设备，但是做为业余好之者，总要有几件可以拿出手的玩意儿悦人悦己吧。</p><p>插上一句，前面自诩看书杂，其实又是得益于王爷的教导，之前我是非技术类书籍不买不看的，现在不管是人文或是艺术或是其它不好分类的书我都有可能买，而且并不会认为这是浪费，所以要说近几年对我人生影响最大的人，除了我媳妇儿那肯定就是王爷了。</p><p>这次极大的动心刚好遇到了臭名昭著的双十一，于是也在双十一时入了几件小装备，就这点又是被王爷心里鄙视的，别问我是咋知道的，默契就是这么心有灵犀的，不过能在这几天便宜一些入手几件装备，那就意味着可以多买几包豆子，划得来的。</p><p>列举一下这次入的小设备：</p><ul><li>法压壶 x 1  (台湾Hero)  ￥71</li><li>滤杯分享杯套装 x 1  (台湾Hero) ￥124</li><li>Porlex mini 手摇磨豆机 x 1 (日本) ￥262.54</li><li>Mr.Clever 聪明杯 x 1 (台湾) ￥98.7</li></ul><p>共消费555.54，其中除得到这些装备外，还获得赠送的250克x3包咖啡豆，分别是曼特宁G1、巴西海湖庄园、危地马拉Azotea庄园安提瓜，另外，还有聪明杯配套滤纸及滤杯配套滤纸，因此，基本上在这些装备的帮助下，我应该可以完全入门手冲及法压壶。<br>至于聪明杯，那是个像法压壶和手冲那样制作咖啡的东西，感觉更像法压壶，浸泡滤出。</p><p>如上所述，其实坑不算大，可是问题就在于，我还看上了一套镀金的手冲设备，当然对于我来说，我并无追求极致装备之心，连门还没入的人要啥自行车啊，不过话说回来那些东西看着还是相当的痒的。另外，我还想要不要买台半自动意式咖啡机，但是想来想去，既然决心走单品精品咖啡的路，还再倒回头去捣鼓拼配豆子的咖啡，没有必要吧，而且现在家里这些设备我还玩不过来呐。</p><h1 id="另一个坑"><a href="#另一个坑" class="headerlink" title="另一个坑"></a>另一个坑</h1><p>关于咖啡的坑，其实不仅仅是说设备器具，也许如果只是弄个意式咖啡机或是胶囊咖啡机，只要去买咖啡粉或是胶囊就可以了，快捷方便。但是要说到自己制作单品，我想这坑可并不器具小啊。</p><p>先从咖啡豆说起，常见的咖啡豆应该说是有三种吧，什么阿拉比卡、罗比斯塔、利比里亚，但是咱是要自己做单品咖啡的，所以其实也就只了解阿拉比卡就可以了，问题是，光是阿拉比卡豆也很复杂啊，不同产地、不同杂交品种、不同海拔、口感啥的，咱只是准备入门者，不要考虑太多，也考虑不了太多，就只了解那么几种常见精品豆，我准备做较深入了解的暂时选定了三种，肯尼亚、曼特宁、耶加雪菲，光这三种豆就归属于三个产区吧？没准备求甚解，等了解多了自然会知道的吧。</p><p>选定了咖啡豆就该考虑烘焙的问题了吧，不过咱是初学者，烘焙太高深就交给专业人士了，但是至少烘焙深度要做一些了解的吧，什么豆适合深烘哪些豆适合浅烘哪些豆在哪种烘焙程度才能更突出豆子本身的特点等等，烘焙的事对于咱来说那是日后再说的事儿。</p><p>等豆子烘焙完了，这就轮到亲自动手的时候了，研磨，对于研磨来说最重要的是粗细均匀以免萃取时不够均衡，其实研磨说起来并不难，找一个合适的工具而已，我用的是Porlex mini，说起来这是个好东西，小巧便携、操作简单，这么好的东西当然是王爷推荐的。我用过几次，调整好研磨粗细，然后一只手紧紧握住又粗又硬的那一根，另一手轻轻握住小巧圆润的那端，然后软磨慢摇，速度一定要平稳柔和，摇的速度太快就会变热、最美好的那些就很容易被弄出来。</p><p>磨好的咖啡粉应该尽快冲泡饮用，否则，据说在两分钟内，咖啡粉中70%易于挥发的美好味道就会挥发掉，所以，我会选择在磨豆之前就准备好滤杯准备好热水，豆子磨好后，直接用热水浸湿滤纸，然后放置咖啡粉，把分享杯中的水倒掉，平稳的往咖啡粉上浇水，进行半分钟焖蒸，之后缓速往咖啡粉上浇水，顺时针或逆时针选定一个方向，从中心一圈圈绕至边缘继而再绕至中心，如此反复，直到萃取到想要的杯量或是萃取取的咖啡液快速变淡，需要注意的是过程中不要把水直接浇到滤纸上。</p><p>之后当然就是喝了，至于怎么喝，每个人的爱好不同，但是最好是好好品味一下自己的劳动成果，那感觉美妙极了，当我第一次喝到自己手冲的咖啡时我惊呆了，那是我自喝咖啡以来喝到的最美味的咖啡。</p><h1 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h1><p>对于咖啡我了解的还很少，不过由现在的兴趣带领，我相信一定会从中获得更多的乐趣。</p><p>再说回开头说到的时间问题，最近越来越感觉到，我的心态在变化，也许是因为年龄越来越大，对人生对生活自然会有所感悟，每临大事有静气，这也是一种境界吧，越是年龄大了就越要从容，之前对我来说，喝茶是一件从容的事，而喝咖啡是一件太急切太功利的事，而自从知道了单品体会了手冲的乐趣，我才知道，其实这才是喝咖啡，而那些速溶或是咖啡馆里买一杯基于Espresso的花样咖啡，那基本上只是咖啡饮品而已。就像饮茶，煮水、投茶、观形、嗅气、品味，入腹只是最后一步完成饮品解渴的使命而已，同样，喝咖啡的过程也应当如此才能喝出真正的味道吧。</p>]]></content>
      
      
      <categories>
          
          <category> Coffee </category>
          
      </categories>
      
      
        <tags>
            
            <tag> coffee </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Booting Archlinux from USB Stick in Gen8 Server</title>
      <link href="/2015/1125/Booting-Archlinux-from-USB-Stick-in-Gen8-Server.html"/>
      <url>/2015/1125/Booting-Archlinux-from-USB-Stick-in-Gen8-Server.html</url>
      
        <content type="html"><![CDATA[<h1 id="冲动的入手Gen8"><a href="#冲动的入手Gen8" class="headerlink" title="冲动的入手Gen8"></a>冲动的入手Gen8</h1><p>看上Gen8已经很久了，一直因为价格问题和纠结于买来后是否有用的问题而迟迟没有下手，这次总算是借着双11的机会，再加上京东白条免息免手续费分期，算了一下，很划算呀，每月还不了多少钱，感觉很合适。因为太过激动，就忘了硬盘的事，于是又弄了两块2T的红盘，因为考虑最终要做Raid10，所以就不准备直接把系统安排在四个主要的硬盘位上，光驱位是个好地方，这也是Gen8的玩家们常用来放第五块硬盘的位置，于是又搞了一块120<del>T</del>G<a href="%5B%E7%8E%8B%E7%88%B7%5D(http://tigerwang.us)%E7%81%AB%E7%9C%BC%E9%87%91%E7%9D%9B">^tgerror</a>的SSD硬盘，好在这块硬盘并不贵，因为后来启动服务器时，发现启动系统最浪费时间的地方根本就不在硬盘上。</p><p>本来以为硬盘到位后就可以开始玩起哪，谁知道，手上存的几根数据线根本就没办法用，要么不够长，要么接口不对，然后又满网上找合适的线，前两条买回来还不对，靠，那两条线还都写了Gen8专用啥啥的，坑啊，也怪我没认真去看那几根线的接口，只是看到Gen8专用就以为没问题哪。</p><p>在数据线到手后又折腾了一对电力猫，以便为服务器提供稳定的网络，不过话说回来，电力猫确实是好东西，通过电力线路传输网络信号，在现在这个信道几乎全部会被占用的大环境里，能方便的使用有线网络，那绝对是改变生活质量的举措啊。</p><p>后来一想，反正这些东西都备齐了也不差几根好点的网线了，于是又搞了几条超六类网线，不知是心理作用还是实际效果，反正感觉上来说好像确实上网感受好了不少哪。</p><h1 id="折腾Gen8"><a href="#折腾Gen8" class="headerlink" title="折腾Gen8"></a>折腾Gen8</h1><p>因为不想以后再麻烦的拆装硬盘什么的，又买了两个2.5转3.5的硬盘盒，用来安装我之前的两个移动硬盘到服务器，再加上新买的两块红盘，硬盘仓的四个位置全部占满，然后再加上SSD硬盘安装系统，一共五块硬盘都安装在服务器上。</p><p>然后服务器上的两根网线都连到路由器上，一根是iLo另一根就是系统要用的了，到此为止，所有准备工作都准备好了，可以正式开始折腾了，哦对了，我还去HP官网申请了一个iLo专业版的试用证书，要不然是不能使用iLo的Remote Console功能的，因为家里用的是iMac，没有多余的显示器给服务器用，所以，这个Remote Console绝对是好东西，还可以把ISO虚拟成光盘给服务器使用，绝对是利器。</p><span id="more"></span><p>Arch Linux应该算是我最爱的一个Linux发行版了，最早的时候超爱Gentoo，因为我偏爱可定制度更高的系统，但是随着年龄的增长发现兴趣或是偏好也在改变，当然还是喜欢定制度高的系统，但是却不喜欢太折腾了，所以首先就是放弃了Gentoo而转向Arch Linux，首先，Arch Linux是有着Gentoo的相似的特点的，就是系统本身是最简的，没有多余的东西，所有的东西都需要亲自动手一点点搭建，但是好处是不需要所有的软件都从头编译，而Arch Linux的包管理工具提供的各种软件又都是针对不同平台进行过优化编译的，在性能方向是不会有问题的，还有就是，Arch Linux的启动速度是相当之快的，当然了，这一点在系统用于服务器时并不重要。</p><p>为了方便，直接下载了Arch Linux最新的镜像文件，然后安排在服务器的第五块硬盘上，并且正确的安装了Grub，然后我就天真的以为可以启动系统了，结果，<code>reboot</code>命令执行后就傻逼了，电脑根本找不到启动盘，Google之后才知道，硬盘启动时系统只认第一第二个硬盘位的启动盘和U盘以及TF卡的位置，我第一第二硬盘位还要用来做RAID，肯定不能拿来装系统，只能想办法从U盘或TF卡位启动了，翻箱倒柜半天找出了很久不用的两个U盘，因为U盘只用来做启动盘，正常情况下系统不会使用启动盘，所以，我估摸着这两个U盘应该够我用几年了吧。</p><p>于是重新加载ISO镜像启动进Live系统，格式化U盘，分出<code>/boot</code>区，重新安装<code>grub</code>到U盘，再次<code>reboot</code>。</p><h1 id="不能从U盘启动"><a href="#不能从U盘启动" class="headerlink" title="不能从U盘启动"></a>不能从U盘启动</h1><p>意外的事发生了，系统并没有如预料中的那样正常启动起来。事后想来，这个问题其实就是因为粗心造成的，众所周知，系统的启动分区是必须要设置成<code>bootable</code>的，但是因为我在第一次安装系统时启动盘不是Grub，结果后来重新安装启动信息到U盘时就忘了最重要的一步，把分区设置成<code>bootable</code>，而这个小疏忽让我浪费了差不多三天的业余时间去试图寻找问题所在，期间尝试了修改启动盘顺序、重新安装启动信息等方式，但是一直没有奏效，我甚至都差点以为是电脑出了硬盘问题或是U盘本身有问题，然后又想起这个U盘之前装过PE，一直也是正常使用的呀，然后一个念头就出现了，我猜自己犯了愚蠢的错误，于是再一次加载ISO，启动进系统，<code>fdisk /dev/sdf</code>，<code>p</code>，果然，启动分区上并没有<code>A</code>标志，马上加上标志，<code>reboot</code>，这一次系统成功启动。</p><p>先入为主害死人，这也是很多人都会犯的经验主义，当你觉得不会犯某个错误时，那可能就很危险了，那个错误可能会造成严重后果，比如在管理数据时，常常觉得直接执行一个<code>DELETE</code>指令不会出问题，然后后果可能是清空了整个表，这样的错误我也犯过，值得警惕。</p><h1 id="等待继续折腾"><a href="#等待继续折腾" class="headerlink" title="等待继续折腾"></a>等待继续折腾</h1><p>系统算是安装完了，不过这个时候游戏才刚刚开始，在我的计划中要完成的事情中，这台服务器要给配置成家里的媒体服务器、文件服务器，这只是初步的计划，下一步，这台服务器将为我提供远程的备份功能，比如在手机上顺手记一些idea，或是记帐，或是文件等等，另外，还要提供远程管理下载任务的功能，这都需要时间去一步步的完成，也许这需要花费整个2016年的业余时间，毕竟还有工作要完成，关于这些设计，有时间的话专门再写一篇儿吧。</p><h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>这篇博开题是在11月25号，今天已经是1月11号了，这差不多快两个月过去才又抽出时间来完成它，忙再加上懒，于是事情就无限被拖延了。</p>]]></content>
      
      
      <categories>
          
          <category> Server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> gen8 </tag>
            
            <tag> boot </tag>
            
            <tag> linux </tag>
            
            <tag> archlinux </tag>
            
            <tag> server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Elisp Basics (more)</title>
      <link href="/2015/1106/Elisp-Basics-more.html"/>
      <url>/2015/1106/Elisp-Basics-more.html</url>
      
        <content type="html"><![CDATA[<h1 id="还是几句闲话"><a href="#还是几句闲话" class="headerlink" title="还是几句闲话"></a>还是几句闲话</h1><p>刚加了一个大夜班，基本上等于通宵了，从前一天早晨10点一直上班到第二天早晨5点多才下班，在那个时间好像已经感觉不到明显的困意了，不过回到家基本上倒在床上就直接睡着了。睡到中午11点多自然醒了，算一下，这才睡了5个多小时，确实是老了吗？这觉也太少了些吧。</p><p>前天晚上写了一段关于Elisp的内容，昨天在家里呆着却迟迟不想接着写下来，不知道这是拖延症发作还是又是懒性大发抑或是这两者合并并生的效果，总之，我对于这种状态极其的不满意，是时候对自己多些管理，要不然都老了。</p><h1 id="Emacs-Lisp"><a href="#Emacs-Lisp" class="headerlink" title="Emacs Lisp"></a>Emacs Lisp</h1><p><a href="/2015/11/04/Elisp-Basics/">Elisp Basics</a>里简单写了一些关于Elisp的内容，今天再加一些关于循环、判断的部分，就可以算是Emacs Lisp最基础教程结束了，以后再写类似主题也只会是针对单个需求。</p><h2 id="IF-THEN-ELSE"><a href="#IF-THEN-ELSE" class="headerlink" title="IF THEN ELSE"></a>IF THEN ELSE</h2><p>确切的说本语法分为<code>IF THEN</code>和<code>IF THEN ELSE</code>两种情况，不细说，看示例。</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">if</span> (<span class="name">&lt;</span> <span class="number">3</span> <span class="number">4</span>) <span class="comment">; IF</span></span><br><span class="line"> (<span class="name">message</span> <span class="string">&quot;3 is smaller than 4&quot;</span>) <span class="comment">; THEN</span></span><br><span class="line"> )</span><br></pre></td></tr></table></figure><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">if</span> (<span class="name">&gt;</span> <span class="number">3</span> <span class="number">4</span>) <span class="comment">; IF</span></span><br><span class="line"> (<span class="name">message</span> <span class="string">&quot;3 is bigger than 4&quot;</span>) <span class="comment">; THEN</span></span><br><span class="line"> (<span class="name">message</span> <span class="string">&quot;4 is bigger than 3&quot;</span>) <span class="comment">; ELSE</span></span><br><span class="line"> )</span><br></pre></td></tr></table></figure><p>在ELISP中，除了IF函数还有另外两种常用的类似函数，<code>when</code>和<code>unless</code>，其中<code>when</code>与IF的<code>IF THEN</code>用法一样，而<code>unless</code>则相反，看例子</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">when</span> (<span class="name">&gt;</span> <span class="number">3</span> <span class="number">2</span>) <span class="comment">; 当3大于2时</span></span><br><span class="line"> (<span class="name">message</span> <span class="string">&quot;3 is bigger than 2&quot;</span>)</span><br><span class="line"> )</span><br><span class="line">(<span class="name">unless</span> (<span class="name">&lt;</span> <span class="number">3</span> <span class="number">2</span>) <span class="comment">; 当3不小于2时</span></span><br><span class="line"> (<span class="name">message</span> <span class="string">&quot;3 is bigger than 2&quot;</span>)</span><br><span class="line"> )</span><br></pre></td></tr></table></figure><span id="more"></span><h2 id="Iteration"><a href="#Iteration" class="headerlink" title="Iteration"></a>Iteration</h2><p>到目前为止，我知道的ELISP的循环函数只有<code>while</code>。</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">setq</span> x <span class="number">0</span>)</span><br><span class="line">(<span class="name">while</span> (<span class="name">&lt;</span> x <span class="number">10</span>)</span><br><span class="line"> (<span class="name">message</span> <span class="string">&quot;hello %d&quot;</span> x)</span><br><span class="line"> (<span class="name">setq</span> x (<span class="number">1</span>+ x))</span><br><span class="line"> )</span><br></pre></td></tr></table></figure><p>在这里还有一个需要考虑的问题，在很多时候，我们需要在循环运行的过程中主动退出循环，在其它语言中，我们有类似于<code>break</code>之类的语法，而ELISP是没有的，那应该怎么办哪？有限循环的过程是由条件控制的，当条件满足，则循环继续，否则，循环退出，那么，我们可以这样。</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">setq</span> x <span class="number">0</span>)</span><br><span class="line">(<span class="name">while</span> (<span class="name">&lt;</span> x <span class="number">10</span>)</span><br><span class="line"> (<span class="name">message</span> <span class="string">&quot;hello %d&quot;</span> x)</span><br><span class="line"> (<span class="name">when</span> (<span class="name">=</span> x <span class="number">3</span>) (<span class="name">setq</span> x <span class="number">10</span>)) <span class="comment">; 在此处直接把x改为不满足循环条件，那么当前循环执行完整个循环也就结束了</span></span><br><span class="line"> (<span class="name">setq</span> x (<span class="number">1</span>+ x))</span><br><span class="line"> )</span><br></pre></td></tr></table></figure><p>或者，为了让程序更干净一些，我们加一个专门用于控制循环的变量，如下</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">setq</span> x <span class="number">0</span>)</span><br><span class="line">(<span class="name">setq</span> found <span class="literal">nil</span>)</span><br><span class="line">(<span class="name">while</span> (<span class="name">and</span> (<span class="name">&lt;</span> x <span class="number">10</span>) (<span class="name">not</span> found))</span><br><span class="line"> (<span class="name">message</span> <span class="string">&quot;hello %d&quot;</span> x)</span><br><span class="line"> (<span class="name">when</span> (<span class="name">=</span> x <span class="number">3</span>) <span class="comment">; 达到特定情况，则把found设置为t，当前循环完成，则结束整个循环</span></span><br><span class="line">  (<span class="name">setq</span> found <span class="literal">t</span>)</span><br><span class="line">  )</span><br><span class="line"> (<span class="name">setq</span> x (<span class="number">1</span>+ x))</span><br><span class="line"> )</span><br></pre></td></tr></table></figure><h2 id="函数定义"><a href="#函数定义" class="headerlink" title="函数定义"></a>函数定义</h2><p>关于函数定义就说一点最简单的，毕竟这篇文章只准备说点基础</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">defun</span> my-function () <span class="comment">; defun 函数名 参数列表</span></span><br><span class="line"> <span class="string">&quot;string document&quot;</span>    <span class="comment">; 函数说明</span></span><br><span class="line"> (<span class="name">interactive</span>) <span class="comment">; 可交互使用的函数</span></span><br><span class="line"> (<span class="name">message</span> <span class="string">&quot;hello defun&quot;</span>)</span><br><span class="line"> )</span><br></pre></td></tr></table></figure><p>就说这点吧，关于函数的定义，在使用的过程中可以再多写一些。</p><h1 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h1><p>感觉身体状态很差，头很容易不舒服，身体也更容易感觉累，睡眠质量也不行，等忙过这几天要去做一次体检了，看看哪里出了问题。</p><p>最近几个月的业余时间我感觉都给浪费了，没有认真做点事学些东西的心境，需要调整一下了。</p>]]></content>
      
      
      <categories>
          
          <category> Emacs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> lisp </tag>
            
            <tag> elisp </tag>
            
            <tag> emacs </tag>
            
            <tag> functionally </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Elisp Basics</title>
      <link href="/2015/1104/Elisp-Basics.html"/>
      <url>/2015/1104/Elisp-Basics.html</url>
      
        <content type="html"><![CDATA[<h1 id="闲话"><a href="#闲话" class="headerlink" title="闲话"></a>闲话</h1><p>有很长时间没写Blog了，主要原因是，不够自律，没有坚持写下去，次要原因是，最近确实是忙了些，几乎每周都有一多半的时间是在下班的，由于这样的疲累，也导致了一旦不上班的时候就忙着休息了。</p><p>有时想想，其实忙并不是放松的理由，最主要的原因还是因为懒，这个是一定要改的，再不改我们就老了。</p><p>最近做了几件事，首先当然还是工作，游戏有前端进步非常大，与半年前相比几乎完全变成了另外一个游戏的感觉，加入了新角色，玩法系统也更丰富了，对于我负责的后端，除了加新功能，其它的变化并不大，但是有计划对架构底层的Cache系统进行改进，这将很大的提高系统的性能和稳定性；另外的事就是，关掉了<a href="https://www.linode.com/?r=96d9b6df5e3efbb5f409503c07db0a1d9dc39b61">Linode</a>和<a href="http://www.vultr.com/?ref=6857104">Vultr</a>主机，当然了，这跟这两家的服务质量无关，主要是我为合理调配资源。首先，开了一台AWS用来做<strong>佛跳墙</strong>的主力服务器，另外开了一台香港的主机用来放BLOG和小项目，而且同时在<a href="https://bandwagonhost.com/aff.php?aff=5395">搬瓦工</a>和<a href="https://www.digitalocean.com/?refcode=b5ea84a7594f">DigitalOcean</a>还各有一台VPS做备用的<strong>科学上网</strong>服，所以，这个时候还留着<a href="https://www.linode.com/?r=96d9b6df5e3efbb5f409503c07db0a1d9dc39b61">Linode</a>和<a href="http://www.vultr.com/?ref=6857104">Vultr</a>就是极大的浪费了吧。不过话说回来，这两家的东京服务器对于国内来说还是相当不错的，也就只比香港机房差一点吧。</p><h1 id="Emacs-amp-Elisp"><a href="#Emacs-amp-Elisp" class="headerlink" title="Emacs &amp; Elisp"></a>Emacs &amp; Elisp</h1><p>从使用Emacs开始到现在也有个几年了吧，不过大多数时间都是在别人配置的基础上进行修改，而且在Emacs上时多半都是一些中小型的开发和写作，这样的应用场景下，自然对于Emacs的配置要求就没有那么高了。趁着这段时间没什么学习新知识的想法，刚好可以再次拿起Emacs以及必须要掌握的Elisp好好学习一番了。</p><p>因为之前对Common Lisp有过一定程度上的了解，所以对于Elisp其实接受起来还是挺快的，在简单看了<a href="http://ergoemacs.org/emacs/elisp.html">几篇关于Elisp的文章</a>后，对于Elisp的大概印象也就有一些，在这里仅对Elisp做一个简单的介绍，备忘吧。</p><span id="more"></span><h2 id="Printing"><a href="#Printing" class="headerlink" title="Printing"></a>Printing</h2><ul><li><p>message<br>此函数用于输出信息到缓冲区<code>*Messages*</code>，并支持格式替换，如下：</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">message</span> <span class="string">&quot;hello&quot;</span>) <span class="comment">; 最简单的输出</span></span><br><span class="line">(<span class="name">message</span> <span class="string">&quot;hello, my age is %d&quot;</span> <span class="number">35</span>) <span class="comment">; %d接受一个数字</span></span><br><span class="line">(<span class="name">message</span> <span class="string">&quot;my name is %s&quot;</span> <span class="string">&quot;Toby&quot;</span>) <span class="comment">; %s接受一个字符串</span></span><br><span class="line">(<span class="name">message</span> <span class="string">&quot;a new list: %S&quot;</span> &#x27;(<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>)) <span class="comment">; %S 接受一个Lisp表达式</span></span><br><span class="line"><span class="comment">;; 在格式字符串中还支持%X,%x等。</span></span><br></pre></td></tr></table></figure></li><li><p>print/prin1<br>本函数用于输出一个Lisp对象，两者的区别是，<code>prin1</code>不输出新行</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">print</span> <span class="string">&quot;HELLO&quot;</span>)</span><br><span class="line">(<span class="name">prin1</span> <span class="string">&quot;HELLO&quot;</span>)</span><br></pre></td></tr></table></figure></li><li><p>princ<br>输出对人类友好的内容</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">princ</span> <span class="string">&quot;hello&quot;</span>) <span class="comment">; =&gt; hello</span></span><br><span class="line">(<span class="name">print</span> <span class="string">&quot;hello&quot;</span>) <span class="comment">; =&gt; &quot;hello&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>format<br>接受一个格式字符串和多个参数，返回字符串。</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">print</span> (<span class="name">format</span> <span class="string">&quot;hello %s&quot;</span> <span class="string">&quot;world))</span></span><br></pre></td></tr></table></figure></li></ul><p>关于输出，还可以指定输出到的缓冲器或者输出到当前Buffer等，在这里就不细说了。</p><h2 id="数学运算"><a href="#数学运算" class="headerlink" title="数学运算"></a>数学运算</h2><p>Elisp支持所有的常见数学运算，如加减乘除等，以下只做举例</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">+</span> <span class="number">1</span> <span class="number">2</span>) <span class="comment">; =&gt; 3 加</span></span><br><span class="line">(<span class="name">-</span> <span class="number">2</span> <span class="number">1</span>) <span class="comment">; =&gt; 1 减</span></span><br><span class="line">(<span class="name">*</span> <span class="number">2</span> <span class="number">6</span>) <span class="comment">; =&gt; 12 乘</span></span><br><span class="line">(<span class="name">/</span> <span class="number">6</span> <span class="number">2</span>) <span class="comment">; =&gt; 3 除</span></span><br><span class="line">(<span class="name">/</span> <span class="number">5</span> <span class="number">2</span>) <span class="comment">; =&gt; 2 int相除取整数部分</span></span><br><span class="line">(<span class="name">/</span> <span class="number">5</span> <span class="number">2.0</span>) <span class="comment">; =&gt; 2.5 浮点型除法</span></span><br><span class="line">(% <span class="number">9</span> <span class="number">6</span>) <span class="comment">; =&gt; 3 取余</span></span><br><span class="line">(<span class="name">expt</span> <span class="number">3</span> <span class="number">3</span>) <span class="comment">; =&gt; 27 乘方</span></span><br></pre></td></tr></table></figure><p>另外，还有一些判断数据类型的函数，如</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">integerp</span> <span class="number">3</span>.) <span class="comment">; =&gt; t 判断是否为整型</span></span><br><span class="line">(<span class="name">floatp</span> <span class="number">3</span>.) <span class="comment">; =&gt; nil 是否为浮点型</span></span><br><span class="line">(<span class="name">floatp</span> <span class="number">3.0</span>) <span class="comment">; =&gt; t</span></span><br></pre></td></tr></table></figure><p>注：在Elisp中，在数字的点后面如果没有其它数字（包括0），则认为这个数字为整型。</p><h2 id="Boolean-and-Functions"><a href="#Boolean-and-Functions" class="headerlink" title="Boolean and Functions"></a>Boolean and Functions</h2><p>在Elisp中，只有<code>nil</code>和<code>()</code>为False，其它的都为True。同时，Elisp是支持逻辑或和逻辑与操作的，如下：</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">and</span> <span class="literal">t</span> <span class="literal">nil</span>) <span class="comment">; =&gt; nil</span></span><br><span class="line">(<span class="name">or</span> <span class="literal">nil</span> <span class="literal">t</span>) <span class="comment">; =&gt; t</span></span><br></pre></td></tr></table></figure><h3 id="数字关系比较函数"><a href="#数字关系比较函数" class="headerlink" title="数字关系比较函数"></a>数字关系比较函数</h3><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">&gt;</span> <span class="number">3</span> <span class="number">4</span>)</span><br><span class="line">(<span class="name">&lt;</span> <span class="number">3</span> <span class="number">4</span>)</span><br><span class="line">(<span class="name">&gt;=</span> <span class="number">3</span> <span class="number">4</span>)</span><br><span class="line">(<span class="name">&lt;=</span> <span class="number">3</span> <span class="number">4</span>)</span><br><span class="line">(<span class="name">=</span> <span class="number">5</span> <span class="number">5</span>)</span><br><span class="line">(<span class="name">=</span> <span class="number">5</span> <span class="number">5.0</span>)</span><br><span class="line">(<span class="name">/=</span> <span class="number">5</span> <span class="number">6</span>) <span class="comment">; 不等于，其它的关系不做解释，但是不等于函数与其它语言完全不同，一定要牢记</span></span><br></pre></td></tr></table></figure><h3 id="字符串专用比较函数"><a href="#字符串专用比较函数" class="headerlink" title="字符串专用比较函数"></a>字符串专用比较函数</h3><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">string-equal</span> <span class="string">&quot;hello&quot;</span> <span class="string">&quot;hello) ; =&gt; t，比较字符串内容</span></span><br></pre></td></tr></table></figure><h3 id="通用比较函数"><a href="#通用比较函数" class="headerlink" title="通用比较函数"></a>通用比较函数</h3><p>对参数的数据类型及其值进行比较，只有全部相同时才为True</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">equal</span> <span class="string">&quot;abc&quot;</span> <span class="string">&quot;abc&quot;</span>) <span class="comment">; =&gt; t</span></span><br><span class="line">(<span class="name">equal</span> <span class="number">3</span> <span class="number">3</span>) <span class="comment">; =&gt; t</span></span><br><span class="line">(<span class="name">equal</span> &#x27;(<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>) &#x27;(<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>)) <span class="comment">; =&gt; t</span></span><br></pre></td></tr></table></figure><h3 id="独特的比较函数eq"><a href="#独特的比较函数eq" class="headerlink" title="独特的比较函数eq"></a>独特的比较函数<code>eq</code></h3><p>此函数比较参数是否为相同对象</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">eq</span> <span class="string">&quot;abc&quot;</span> <span class="string">&quot;abc&quot;</span>) <span class="comment">; =&gt; nil 此函数要与equal和string-equal区分开，两个字符串显然不是同一个对象</span></span><br><span class="line">(<span class="name">eq</span> &#x27;abc &#x27;abc) <span class="comment">; =&gt; t</span></span><br></pre></td></tr></table></figure><h3 id="逻辑取反"><a href="#逻辑取反" class="headerlink" title="逻辑取反"></a>逻辑取反</h3><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">not</span> <span class="literal">t</span>) <span class="comment">; =&gt; nil</span></span><br></pre></td></tr></table></figure><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><h3 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h3><p>两种设置方式，变量的值可以是Elisp支持的任何类型</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">setq</span> x <span class="number">1</span>) <span class="comment">; =&gt; 将x设置为1</span></span><br><span class="line">(<span class="name">setq</span> x <span class="number">1</span> y <span class="number">2</span> z <span class="number">3</span>) <span class="comment">; =&gt; 将x设为1,y设为2, z设为3</span></span><br></pre></td></tr></table></figure><h3 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h3><p>局部变量的初始化有两种方式，如下</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">let</span> (<span class="name">x</span> y)</span><br><span class="line">  (<span class="name">setq</span> x <span class="number">1</span>)</span><br><span class="line">  (<span class="name">setq</span> y <span class="number">2</span>)</span><br><span class="line">  (<span class="name">+</span> x y)</span><br><span class="line">  ) <span class="comment">; =&gt; 3 初始化方式1</span></span><br><span class="line"></span><br><span class="line">(<span class="name">let</span> ((<span class="name">x</span> <span class="number">1</span>) (<span class="name">y</span> <span class="number">2</span>))</span><br><span class="line">  (<span class="name">+</span> x y)</span><br><span class="line"> ) <span class="comment">; =&gt; 3 初始化方式2</span></span><br></pre></td></tr></table></figure><p>很显然，当变量为固定的值时，第2种初始化方式更便捷一些。</p><p>(TO BE CONTINUE)</p>]]></content>
      
      
      <categories>
          
          <category> Emacs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> lisp </tag>
            
            <tag> elisp </tag>
            
            <tag> emacs </tag>
            
            <tag> functionally </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Start to learn Haskell 03</title>
      <link href="/2015/0328/Start-to-learn-Haskell-03.html"/>
      <url>/2015/0328/Start-to-learn-Haskell-03.html</url>
      
        <content type="html"><![CDATA[<h1 id="郁闷"><a href="#郁闷" class="headerlink" title="郁闷"></a>郁闷</h1><p>今天周六，公司附近基本上没有卖早餐的，不过今天看起来似乎比较幸运，竟然神奇的多了一家卖早鸡蛋灌饼的在地铁附近。为了早晨不挨饿就买了一个，但是不知道为什么，在去公司的路上我就一直感觉不太对，也一直在考虑只要再看到有一家卖早点的，我就把这个灌饼给丢掉。但是今天是周六嘛，我没有幸运的看到第二家卖早点的，只好将就一下了。<br>事情的发展是这样的，10点半吃完，到11点前就感觉不太对，我以为那是因为我还喝了格瓦斯，11点多出去抽烟，感觉更难受了，然后就去了厕所，先是拉肚子，然后出来又开始吐。中午吃饭时也感觉没有胃口，平时一碗面对我来说还略嫌不够，不过今天吃了连三分之一都不到就吃不下了，吃饭回来又接着吐。在拉肚子的时候任何一个屁都不值得相信，为了安全起见，又进了厕所，果然又是拉肚子，然后下午就由两个同事陪同去了医院急诊，拿了药回到家接着吐，然后睡觉，现在总算是好一些了。<br>这期间还有，从下午回来我就发现王爷是在家的，但是一直到我晚上起床都没听到他的动静，就打了电话给他，原来他老人家上吐下泄到今天凌晨4点，我勒个去的。<br>哦，还有，中日友好医院急诊内科的那个年轻女大夫很漂亮。</p><h1 id="Haskell变量类型"><a href="#Haskell变量类型" class="headerlink" title="Haskell变量类型"></a>Haskell变量类型</h1><h2 id="基本类型"><a href="#基本类型" class="headerlink" title="基本类型"></a>基本类型</h2><p>在Haskell中一切都是有类型的，如字符<code>Char</code>字符列表<code>[Char]</code>元组<code>(Int, Bool)</code>，数值类型有<code>Int</code>和<code>Integer</code>，其中<code>Int</code>受系统位数影响，比如64位系统，这种类型的范围就是-2-2…^63到2^63-1<code>Integer</code>类型则非常大，可以尝试一下<code>product [1..50]</code>。</p><span id="more"></span><h2 id="函数类型"><a href="#函数类型" class="headerlink" title="函数类型"></a>函数类型</h2><p>前面说到，Haskell的函数也是有类型的，在在hci<em>中输入<code>:t getChar</code>，返回是<code>getChar :: IO Char</code>，其含义是</em>getChar*这个函数返回一个<code>Char</code>类型数据（这个地方不太会解释）。<br>由于Haskell可以推断类型，很多情况下似乎可以不用特意声明类型，但是为了使程序更易读并易于编译器检查，我们还是应该在定义函数时，在函数前加上函数类型，如下：</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">byThree</span> :: <span class="type">Int</span> -&gt; <span class="type">Bool</span></span><br><span class="line"><span class="title">byThree</span> x = <span class="keyword">if</span> x `mod` <span class="number">3</span> == <span class="number">0</span></span><br><span class="line">            <span class="keyword">then</span> <span class="type">True</span></span><br><span class="line">            <span class="keyword">else</span> <span class="type">False</span></span><br></pre></td></tr></table></figure><p>例子中，第一行声明<code>byThree</code>这个函数接受一个<code>Int</code>型参数，返回一个<code>Bool</code>型值。</p><h2 id="类型变量"><a href="#类型变量" class="headerlink" title="类型变量"></a>类型变量</h2><p>记得在前两天刚开始学Haskell时，学到一个函数<code>maximum [1,2,3,4,2,5]</code>，这个函数接受一个列表做为参数，返回列表中最大的元素，来看一下这个函数的类型，<code>:t maximum</code>，返回为<code>maximum :: [a] -&gt; a</code>，哦，这是什么意思哪？是说这个函数接受一个<code>a</code>类型列表返回一个<code>a</code>类型数值吗？是的，不过在这里<code>a</code>不特指某一类型，而是可以为<code>Char</code>也可以是<code>Int</code>更可以是别的什么，这是一个变量，在这里就叫<em>类型变量</em>了，而使用<em>类型变量</em>指代参数类型的函数就可以叫做<em>多态函数</em>，这跟C++或Java的泛型有些相似。</p><p>当然，<code>a</code>既然只是一个变量，那我们也可以用其它名字代替，比如<code>b</code>。</p><p>还记得前面学元组时学到的两个函数吧<code>fst</code>和<code>snd</code>，看一下<code>:t fst</code>，返回<code>fst :: (a,b) -&gt; a</code>，其含义就是<code>fst</code>函数接受一个元组为参数，这个元组的第一个元素为<code>a</code>类型，第二个元素为<code>b</code>类型，该函数返回的数据类型与第一个元素相同，因为本函数返回的就是元组的第一个元素。再查看一下<code>:t snd</code>，返回<code>snd :: (a,b) -&gt; b</code>，其含义就显而易见了。</p><h1 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h1><p>今天身体不舒服，就写到这里吧，现在已经11点28了，马上休息，希望明天身体装备能完全恢复，今天就暂停一天的学习，明天可以多学一些进行补偿。<br>另外，希望<a href="http://www.hector2.us/">王爷</a>的身体也尽快恢复健康。</p>]]></content>
      
      
      <categories>
          
          <category> Haskell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> functionally </tag>
            
            <tag> haskell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Start to learn Haskell 02</title>
      <link href="/2015/0327/Start-to-learn-Haskell-02.html"/>
      <url>/2015/0327/Start-to-learn-Haskell-02.html</url>
      
        <content type="html"><![CDATA[<h1 id="闲话"><a href="#闲话" class="headerlink" title="闲话"></a>闲话</h1><p>昨天去了一趟医院，然后就回家休息了，顺便帮着解决一些工作的事，以为小伙伴们应该也会像往前一样十点多十一点那样就撤了，直到今天早晨才知道，他们昨天竟然一直工作到凌晨一点多，太辛苦了，可怜的孩子们，今天我也要一起加班，不知道几点能撤，不过我手上的事倒是做完了，可以写写博客什么的，估计今天晚上会回得比较晚，不知道有没有时间看书。</p><h1 id="元组-tuple"><a href="#元组-tuple" class="headerlink" title="元组(tuple)"></a>元组(tuple)</h1><p>昨天就学了关于元组的一节，元组跟列表有些相似，使用圆括号声明，如<code>(1, &quot;Toby&quot;, &quot;M&quot;)</code>，通过这个语句已经可以看出其与列表的一些区别，列表中只能保存一种数据类型，而元组可以保存多种不同类型，所以，元组应该更适用于保存一组有意义的档案，每一个元组都可以当做数据表中的一条记录来使用。</p><p>那么，如果我们保存的一组数据都是相同的数据类型，比如一组二维坐标点<code>[[1,2], [2,3], 3,4]]</code>，这样看起来似乎不会有问题，列表中的每一个列表都是一个坐标，一切都是那么完美，可是一个意外出现了，某位连续加班一个星期的程序猿手一抖，这个就把这个列表写成了<code>[[1,2],[2,3,3],[3,4]]</code>，程序正常的完成了编译，于是就把程序放上了线，结果，程序无法按照这些坐标画出期望的线。如果使用元组进行定义会是怎样哪？同个个程序猿又犯了同样的错误，写出来这样一个元组的列表<code>[(1,2),(2,3,3),(3,4)]</code>，编译，出了错误提示，编译不通过，然后就直接按照错误提示找到出错的地方。</p><span id="more"></span><p>之所以出现这样的情况是跟Haskell对元组的定义及处理方式分不开的，在Haskell的元组的定义中，元素数量不同的元组，以及相同位置元素的数据类型不同，系统都会认为这些元组是不同的数据类型，于是放在要求所有元素数据类型必须一样的列表中就出了错。</p><p>元组内可以由不同数量不同数据类型的元素组成，其中有两个元素组成的元组叫做二元组，由三个元素组成的元组叫做三元组，以此类推，而二元组有一个特别的名字叫序对。</p><p>序对有两个专用的函数</p><ul><li><code>fst (1, &quot;ONE&quot;)</code> 返回序对的第一个元素</li><li><code>snd (1, &quot;ONE&quot;)</code> 返回序对的第二个元素</li></ul><p>另外，还有一个函数可以将两个列表交叉生成一个元组的列表</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">zip</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>] [<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>, <span class="string">&quot;five&quot;</span>]</span><br></pre></td></tr></table></figure><p>本例会返回一个元组的列表<code>[(1,&quot;one&quot;),(2,&quot;two&quot;),(3,&quot;three&quot;),(4,&quot;four&quot;),(5,&quot;five&quot;)]</code>，由于Haskell的惰性，本例还可以写成如下方式</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">zip</span> [<span class="number">1</span>,<span class="number">2.</span>.] [<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>, <span class="string">&quot;five&quot;</span>]</span><br></pre></td></tr></table></figure><p>输出与上例相同。<br>之所以出现这样的情况是因为，<code>zip</code>执行过程以较短的列表为准，而无限列表与定长的列表相比，当然是定长的列表较短。</p><h1 id="找一组三角形吧"><a href="#找一组三角形吧" class="headerlink" title="找一组三角形吧"></a>找一组三角形吧</h1><p>要求边长从1到10的直角三角形，首先要明确勾股定理，直角三角形的三条边的边长应该满足a^2 + b^2 = c^2，其中a为底边，c为斜边，b为另一条直角边，a和b都应该小于斜边c，再确定a不短于b，当然有b长于a时的情况，只不过这种情况只是a长于b换了一下摆放方向而已，所以我们可以得出下面的语句。</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[(a,b,c) | c &lt;- [<span class="number">1.</span><span class="number">.10</span>], a &lt;- [<span class="number">1.</span>.c], b &lt;- [<span class="number">1.</span>.a], a^<span class="number">2</span>+b^<span class="number">2</span>==c^<span class="number">2</span>]</span><br></pre></td></tr></table></figure><p>输出为<code>[(4,3,5),(8,6,10)]</code>，当然还可以加一些谓语过滤出更接近需求的组合。</p><h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>刚才有同事推荐了一个游戏，<a href="http://timelineapp.pointstone.org/coreball/game.html?openid=o3OtAuK--ELj5XEt3w22NGpb6Jv8&from=timeline&isappinstalled=0">Core Ball</a>，我费半天劲玩到了第10关，然后就再也玩不下去了，看的眼都花了，然后我就推荐给了<a href="http://www.hector2.us/">王爷</a>，然后王爷成功的玩到了第20关，然后说想吐了，要去躺一会儿，哈哈哈哈。</p>]]></content>
      
      
      <categories>
          
          <category> Haskell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> functionally </tag>
            
            <tag> haskell </tag>
            
            <tag> tuple </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Start to learn Haskell 01</title>
      <link href="/2015/0326/Start-to-learn-Haskell-01.html"/>
      <url>/2015/0326/Start-to-learn-Haskell-01.html</url>
      
        <content type="html"><![CDATA[<h1 id="惯例闲话"><a href="#惯例闲话" class="headerlink" title="惯例闲话"></a>惯例闲话</h1><p>昨天加班到比较晚，回家后基本上就11点多了，洗漱完毕基本上也就十二点了，不过还是坚持了一下，看了几页书，今天再接着写写。这次学的主要内容就是部分列表相关的操作，和区间以及列表推导式。由于每次都是睡觉前看上几页书并测试一下代码第二天才写BLOG，所以可能难免有些错误和遗漏，但是我仍然认为这样做是合理的，经过一段时间的理解和遗忘再加上回忆并记录下来，这可能更有利于掌握吧。</p><h1 id="列表函数"><a href="#列表函数" class="headerlink" title="列表函数"></a>列表函数</h1><ul><li><code>null [1,2,3]</code> 检查列表是否为空，返回<code>True</code>或<code>False</code></li><li><code>take 2 [1,2,3]</code> 获取前n个元素组成的列表，当n为0时返回空列表，当n大于列表长度时返回整个列表</li><li><code>drop 2 [1,2,3]</code> 删除前n个元素，并返回剩余元素组成的列表，当n等于0时返回整个列表，当n大于列表长度时返回空</li><li><code>maximum [1,4,7,3,6]</code> 返回列表中最大的元素</li><li><code>minimum [1,4,7,3,6]</code> 返回列表中最小的元素</li><li><code>sum [3,6,9]</code> 对列表中的元素进行求和</li><li><code>product [3,6,9]</code> 对列表中的元素求积</li><li><code>elem 3 [5,4,3,2,1]</code> 检查给定数据是否为列表中的元素，返回<code>True</code>或<code>False</code></li></ul><h1 id="区间"><a href="#区间" class="headerlink" title="区间"></a>区间</h1><h2 id="简单区间"><a href="#简单区间" class="headerlink" title="简单区间"></a>简单区间</h2><p>所谓区间，实际上是利用列表元素的规律以简单的方式生成较大列表的一种方法。例如，按之间所学习的，如果要定义一个从1到10所有整数的列表，就需要这样<code>[1,2,3,4,5,6,7,8,9,10]</code>，但是如果使用区间则可以简化成<code>[1..10]</code>，当然了，如果要生成字母A-Z的列表，同样可以使用类似的方法<code>[&#39;A&#39;..&#39;Z&#39;]</code>。</p><span id="more"></span><h2 id="自定义步长的区间"><a href="#自定义步长的区间" class="headerlink" title="自定义步长的区间"></a>自定义步长的区间</h2><p>我们当然不可能只使用这种简单的+1+1+1的列表，可能我们还需要+2+2或+3+3这样的列表，那么，这样需要更改步长的区间的需求如何利用Haskell的区间生成哪，其实也很简单，确定列表最前面的两个连续元素，然后在<code>..</code>的后面加上最大值或最小值对列表进行限制，如<code>[2,5..10]</code>，这样就定义了一个<code>[2,5,8]</code>这样的列表，由2和5决定了本列表的步长，由10限制了列表的最大值。</p><h2 id="递减区间"><a href="#递减区间" class="headerlink" title="递减区间"></a>递减区间</h2><p>上面的所有示例都是递增的区间，递减的区间实现方法跟上面的示例非常相似，比如，<code>[10,9..1]</code>，需要特别注意的一点是，递减的区别不能用类似<code>[10..1]</code>这样的方式定义，因为在不没有步长因素的情况下，Haskell会认为这是递增区别，从10开始递增元素并寻找不大于1的元素，这当然是找不到的，所以用<code>[10..1]</code>定义的列表是个空列表。</p><h2 id="无限列表"><a href="#无限列表" class="headerlink" title="无限列表"></a>无限列表</h2><p>关于区间，我学到的最后的部分是关于无限列表的内容，所谓无限列表即是这个列表中的元素是无穷尽的，比如<code>[1,2..]</code>，这就是一个无限列表，它的元素就是从1开始，一直递增，没有终点。当然，无需对这个列表是否会占用太多计算机资源担心，Haskell是惰性语言，表达式就在那里，你不使用的时候它就是一个表达式，而当要使用这个列表时，系统才对其进行计算，比如<code>take 10 [1,5..]</code>，由于此表达式只是从无限列表中取10个元素出来，所以，系统只会计算到第10个元素即终止。</p><p>几个常见操作无限列表的方法</p><ul><li><code>cycle [1,2,3]</code> 无限循环列表</li><li><code>repeat 5</code> 生成只有参数组成的无限列表</li><li><code>replicate 5 10</code> 本语句生成的不是无限列表，而是由5个10组成的列表，与上一条有点相似，只不过上一条是无限列表，大多数时候可用本语句。</li></ul><h1 id="列表推导式"><a href="#列表推导式" class="headerlink" title="列表推导式"></a>列表推导式</h1><p>不管是直接定义简单的列表或是用区间生成列表，现在看来都过于简单，也许还需要更复杂的列表生成规则，于是现在就用到了列表推导式，列表推导式可以由一个简单的列表进行过滤或计算生成一个更适用的列表。<br>先来个简单的</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[x * <span class="number">2</span> | x &lt;- [<span class="number">1.</span><span class="number">.10</span>]]</span><br></pre></td></tr></table></figure><p>其中，<code>|</code>前面是要输出元素，后面是导入的列表，此表达式会将列表<code>[1..10]</code>中的每一个元素赋值给x传递到输出部分进行计算。还可以再给本推导式增加一个谓语，以对输出的元素进行过滤，如：</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[x * <span class="number">2</span> | x &lt;- [<span class="number">1.</span><span class="number">.10</span>], odd x]</span><br></pre></td></tr></table></figure><p>其中<code>odd x</code>是对x进行判断，如为奇数返回<code>True</code>，否则返回<code>False</code>，因此，以上推导式只会将奇数传递到输出部分进行计算。在Haskell的列表推导式中是可以增加多个谓语的，所以，还可以有如下的示例：</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[x * <span class="number">2</span> | x &lt;- [<span class="number">1.</span><span class="number">.10</span>], odd x, x &gt;= <span class="number">5</span>]</span><br></pre></td></tr></table></figure><p>此示例又在前面的基础上限制了x必须大于等于5，除此之外，还可以在谓语中还可以使用自定义的函数，唯一的要求就是函数需要返回<code>True</code>或<code>False</code>，如：</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">byThree</span> x = <span class="keyword">if</span> x `mod` <span class="number">3</span> == <span class="number">0</span></span><br><span class="line">            <span class="keyword">then</span> <span class="type">True</span></span><br><span class="line">            <span class="keyword">else</span> <span class="type">False</span></span><br><span class="line">[x * <span class="number">2</span> | x &lt;- [<span class="number">1.</span><span class="number">.10</span>], byThree x]</span><br></pre></td></tr></table></figure><p>本示例使用了自定义的过滤函数<code>byThree</code>，只使用能被3整除了元素。<br>除了在增加谓语对元素进行过滤外，还可以在输出中对数据进行整理，如</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ <span class="keyword">if</span> x*<span class="number">2</span> &lt; <span class="number">15</span> <span class="keyword">then</span> <span class="string">&quot;Big&quot;</span> <span class="keyword">else</span> <span class="string">&quot;Bang&quot;</span> | x &lt;- [<span class="number">1.</span><span class="number">.10</span>], byThree x]</span><br></pre></td></tr></table></figure><p>另外，推导式还可以支持多个输入，如：</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ x + y | x &lt;- [<span class="number">1.</span><span class="number">.10</span>], y &lt;- [<span class="number">11.</span><span class="number">.20</span>]]</span><br></pre></td></tr></table></figure><p>此表达式将输出一个对两个列表中的每个元素分别相加的列表，至于输出结果，因为比较长，写出来太难看，所以就免了。</p><p>此外，输入的列表还可以是列表的列表，在这里就不详细说了。</p><h1 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h1><p>本来感觉昨天只看了不到半个小时的书，可写的内容应该没有多少的，结果万万没想到，竟然也让我罗嗦的那么半天，不过似乎还挺有意思的。<br>今天下午4点去了一趟医院，看时间也不算早，再加上最近一段时间一直加班，今天就偷懒一下，早点回家休息休息，希望加班的兄弟们不要羡慕。<br>因为今天回来的比较早，<a href="http://www.hector2.us/">王爷</a>看到我好开心的样子，哈哈，这一个人在家里学习工作是有多寂寞啊，据王爷说最近一段时间，虽然合租在一套房子里，每天跟我的交流就是听到我打呼噜的节奏，不要误会，我俩不是住在同一个房间里，只不过是房间中间就隔了一堵墙。</p>]]></content>
      
      
      <categories>
          
          <category> Haskell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> lisp </tag>
            
            <tag> functionally </tag>
            
            <tag> haskell </tag>
            
            <tag> range </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Start to learn Haskell 00</title>
      <link href="/2015/0324/Start-to-learn-Haskell-00.html"/>
      <url>/2015/0324/Start-to-learn-Haskell-00.html</url>
      
        <content type="html"><![CDATA[<h1 id="闲话几句"><a href="#闲话几句" class="headerlink" title="闲话几句"></a>闲话几句</h1><p>很丢人，说好的开始写千字文的，但是因为工作原因，最近太忙，每天回到家里都已经很晚了，也就没有胆量开始写一篇文章，一是因为开始写之前需要思考，整理要写的内容，这些都需要花时间，而这会导致的后果就是睡得太晚，影响第二天的工作；二是因为一时间实在想不出要写什么，每天的工作生活千篇一律，工作就是写代码讨论解决方案，然后就是抽一点时间去吃饭，而且吃饭的花样都没什么太大的变化，然后其它的时间都是在上班或回家的路上。所以为了便于坚持，也为了增加点什么，打算现在今天开始学Haskell，然后把学习的过程整理出来，这也算是坚持写作了，然后再在偶尔有灵感的时候写点技术之外的感悟啊之类的，既然不能产出高质量的思想，那就整点也许对一些人有用的干货吧。</p><h1 id="关于Haskell"><a href="#关于Haskell" class="headerlink" title="关于Haskell"></a>关于Haskell</h1><p>话说Haskell是一种函数式语言，在此之前我接触过Common Lisp，而在我的印象中，属于函数式语言的也只有Lisp及其各种方言，如Clojure、Scheme。当然也曾听说过Haskell语言，不过当时对于这属于哪种类型的语言并不明确，在来到新公司之后，由一同事推荐之后才对这门语言产生了兴趣。</p><p>函数式语言对于我的意义，我想更多的应该是在于可以改变一下对于程序的思路，或许换个角度看问题，难题可能也就变成了随手可解的题目了吧。当然，如果能用这语言解决一些实际工作中的问题那就更好了。</p><span id="more"></span><h1 id="开始学习"><a href="#开始学习" class="headerlink" title="开始学习"></a>开始学习</h1><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>在Haskell中函数应当由简单小巧的语句组成，简单的逻辑可以尽可能的确保函数无误，然后再由这些小的函数组成一个可以完成完整功能的小函数，这应该是所有函数式语言遵循的原则吧，接受参数并返回处理后结果数据，参数不改变。<br>下面定义一个简单的函数</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">maxNum</span> a b = <span class="keyword">if</span> a &gt; b</span><br><span class="line">             <span class="keyword">then</span> a</span><br><span class="line">             <span class="keyword">else</span> b</span><br></pre></td></tr></table></figure><p>如上代码<code>maxNum</code>是函数名，a b是参数，代码简单到不需要进行任何说明，而这也应该是在函数式语言中常见的方法。<br>在调用时只需要像这样<code>maxNum 15 16</code>调用函数，像这种类型的函数在Haskell叫做前缀式函数，顾名思义，就是指函数名在前，参数在后调用。有了<strong>前缀函数</strong>自然也就会有其它类型的函数，目前我知道的有<strong>中缀函数</strong>，即函数在两个参数之间，比如像这样<code>10 + 12</code>，这中间<code>+</code>就是函数，看起来很奇怪吧，但是也还可以接受，在Lisp中<code>(+ 10 12)</code>，其实也是属于类似的用法。<br>另外，可以通过在函数两边使用反引号包围的方法使前缀函数成为中缀函数使用。<br>还有，函数名中可以存在<code>&#39;</code>符号，一般用在区分分别较小的不同函数，如<code>doubleNum</code>和<code>doubleNum&#39;</code>。</p><h2 id="比较及IF"><a href="#比较及IF" class="headerlink" title="比较及IF"></a>比较及IF</h2><p>Haskell的比较运算我目前了解了这么几个，==、&gt;、&gt;=、&lt;=、&lt;、/=，这里需要注意的是/=，与其它语言明显不同的地方，/=是不等于，这不同于其它语言用!=做为不等于。另外一个需要注意的地方是if，在Haskell中<code>if .. then .. else</code>必须三者同时存在。</p><h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><p>对于列表，定义方法是<code>alist = [1,2,3,4,5]</code>，合并列表的方法是++，这与其它语言也是完全不一样的，用++合并列表是一种非常低效的操作，在合并之前，此操作会遍历左操作数，比如<code>[1,2,3,4,5] ++ [6,7,8,9,20]</code>，此操作会先遍历<code>[1,2,3,4,5]</code>，然后再合并<code>[6,7,8,9,10]</code>。</p><p>当添加新的元素加入列表时，可以用<code>:</code>操作，如<code>9:[1,2,3,4,5]</code>，这种操作非常快，但是需要注意的是，要加入的元素必须与列表中原有元素类型相同，否则会报错。可以做如下总结，Haskell的列表中只能保存相同类型的元素，比如<code>[1,2,3,4,5]</code>、<code>[&#39;a&#39;,&#39;b&#39;]</code>、<code>[[1,2], [3,4]]</code>等。</p><p>再另外，在Haskell中的字符串其实是字符列表的语法糖，如<code>&quot;hello&quot;</code>等价于<code>[&#39;h&#39;,&#39;e&#39;,&#39;l&#39;,&#39;l&#39;,&#39;o&#39;]</code>也与<code>&#39;h&#39;:&#39;e&#39;:&#39;l&#39;:&#39;l&#39;:&#39;o&#39;:[]</code>相同。</p><p>列表的读取</p><ul><li><code>length alist</code> 获取列表长度</li><li><code>alist!!0</code> 读取列表第一个元素，其中<strong>0</strong>是要读取元素的索引</li><li><code>head alist</code> 读取列表第一个元素</li><li><code>tail alist</code> 读取列表除第一个之外所有元素</li><li><code>last alist</code> 读取列表最后一个元素</li><li><code>init alist</code> 读取列表除最后一个外的所有元素</li><li><code>reverse alist</code> 反转列表元素</li></ul><h1 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h1><p>没想到咱这老胳膊老腿的竟然还是很灵活敏捷的，刚才在倒水的时候发生的一件事，茶壶和杯子都在我的左边，我有常用的有两个杯子，一个用来泡茶一个用来盛温开水睡前喝，这两个杯子中间有个空隙，我一般拿水壶都是从这个空隙拿出来，就在我用左手拿水壶准备倒水泡茶，在通过那个空隙时不小心碰到了外侧那个盛温开水的杯子，就在那个杯子完全脱离桌面往掉的一瞬间，我空着的右手以迅雷不及掩耳盗铃儿响叮当之势从右侧瞬间移动到最左侧稳稳的抓住了那个半空中的杯子，那一瞬间我似乎听到了利器快速划破空气的声音，嘿嘿嘿嘿，宝刀未老啊，虽然之后感觉到头不太舒服，但是还是有点小得意哦，哈哈哈。</p>]]></content>
      
      
      <categories>
          
          <category> Haskell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> functionally </tag>
            
            <tag> haskell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于阅读和买书</title>
      <link href="/2015/0313/About-Reading-and-buy-books.html"/>
      <url>/2015/0313/About-Reading-and-buy-books.html</url>
      
        <content type="html"><![CDATA[<h2 id="闲话几句"><a href="#闲话几句" class="headerlink" title="闲话几句"></a>闲话几句</h2><p>最近在<a href="http://jianshu.io/">简书</a>上读了几篇关于写作和文章，其中有谈到关于如何提高写作能力的训练方法，其中有提到最重要的还是多写，于是在上面又看到了那篇译作《每天一篇千字文》。</p><p>这要说起来，写出千字的文章难度并不算大，但是每天写出一篇来这就很有挑战性了。我觉得，要是只是每天写出一篇千字文也许是可以凑出来，不就是千字吗，光写每天的流水帐也差不多可以整得差不多了，但是这样的文章写出来有意义吗？之所以写文章，要么就是表达思想、价值观，要么输出知识，如果只是每天千篇一律的生活流水帐，那还真不如不写。所以，每天一篇千字文的最大难度应该是每天能输出有价值的东西，这才是难度所在。</p><p>事物总是有两面的，回过头再想想，如果我真的能坚持这么写下去，总有一天，现有的知识会输出光，这时候为了坚持下去，会不会促使我去学习吸收新的知识哪？</p><span id="more"></span><h2 id="关于阅读"><a href="#关于阅读" class="headerlink" title="关于阅读"></a>关于阅读</h2><p>我自认为是一个爱读书的人，前几年读书基本上都是专业相关的技术类书籍，不过最近两年受王爷影响，开始读一些其它方面的书，比如人文类及国内外的一些小说。哦，对了，还有网络小说（如果这算是书的话），当然了在我内心中，看网络小说多半是为了消磨时间，能够吸收到的养分有限。</p><p>驱动人做事的原因多半是人的欲望或是需求，我想在更好的工作，那么就要有更突出的特长。我的工作是软件开发，那么如果不想被淘汰，我就要比同行更强大，所以，一旦有时间我就会去学更多的知识。与人交流可以更易于发现自身的问题缺陷，但是阅读特别是系统化的阅读绝对是打实基础提升内涵的不二选择，因此，我用碎片时间在穿梭于网络上不同的BLOG之间，学习他人整理出来的知识，这些知识多半是针对于某单一问题提供实用的解决方案或思路，这些更有益于快速解决问题，并对系统阅读提供线索。而稍整块的时间我则会用来读书，以书为载体出现的知识总是经过系统化的，即便再烂的书，那也是一个整体，所以，读书虽然要挑着看，但是如果刚好就只有这一本书，又是非读不可的，那怎么办哪？我的做法是，就当是挑错吧，当把书里的错误都挑出来，谁又能否认这是一种巨大的收获哪？所以古人才会说『尽信书不如无书』。</p><p>我读书也基本上不太挑，各个方面的书都会有所涉猎。像之前只看技术类书籍的阶段，不管是针对某种程序语言的还是编程方法论、算法等，我都会看，同时还会涉及到系统底层、数据库理论等，也许看了这些书对于当前的工作没有什么好处，但是不可否认的是，这些知识对我有着潜移默化的影响，这些影响体现在看问题的角度深度，更容易整体考虑问题，也更容易发现问题的深层原因，对于现在编程语言脚本化的年代，这些知识可以帮助理解这些脚本语言只所以做出这种设计的原因，在处理问题特别是效率问题时，你会发现，你能做得比只了解这种语言自身的人更驾轻就熟。</p><p>目前除了技术类阅读，我有意识的增加了非技术类的阅读量，比如小说，王爷推荐了很多小说给我。我以前对于纸载的小说并不是很感兴趣，当然，少年时期金庸古龙我是全部看过一遍以上的了。那时候对于小说，我关注更多的是情节本身以及主人公的命运、抗争以及崛起啊之类的，并且时不时会幻想，如果我是主角那会是怎样哪？而现在读小说则是几乎完全不一样的感觉了，也许是年龄的关系，现在看小说会更多的关心故事的背后的内容，事件的成因及社会背景等。可以说，一本好的小说能传递的不仅仅是故事本身，而更多的是，它在讲一段历史请一种文化，我想这应该是小说能带来的最大价值吧。</p><p>最近我又开始读跟中国传统文化相关的书，比如相关的五行、阴阳能学说，你可以不信，甚至说这是迷信，但是我相信，则大有收获，万事万物有阴阳两面，万事万物都处于影响与被影响的链条当中，这是在用形象的方法讲哲学。除此之外，我还在看中医相关的书，看得越多越觉得中医的科学性及人性。最近又买了一套【黄帝内经】，准备好好研究一下，看看能有什么收获，同时购入了还有一套【史记】，希望能有时间读完。</p><h2 id="关于买书"><a href="#关于买书" class="headerlink" title="关于买书"></a>关于买书</h2><p>我不光喜欢读书，还喜欢买书。年幼时，手上没有钱，就读家中年长者用过的书，比如老叔和姑读大学时的一些大学语文，比如老姐读大学时的心理学方面的教材，这些书我都读过了N遍，后来能有一些零花钱时就攒下来买书，比如【水浒传】、【西游记】，这些都是那个时期用零花钱买来读的，大概是小学三四五年级时，那时候最喜欢去的地方是「新华书店」、「市中区图书馆」，都是可以免费读书的地方。</p><p>等到成年，开始工作之后，就开始养成了大量买书的习惯，这也许是因为小时候没办法把喜欢的书收入囊中的原因吧，我对书有着强烈的占有欲，不光在网络或书店买纸版书，我还同时买了Kindle设备，从Kindle Touch到Paper White，我买了很多电子版的书，有时候在买了纸质版后还会买电子版，或者反之，有不少书我有两个版本，电子版是为了携带方便，而纸质版是因为我太喜欢这些书了，我喜欢拿在手上，嗅着书上的油墨香味。</p><p>大量的买书也让我有了负罪感，因为时间关系，很多书虽然买到手，但是并没有时间去读，我粗略估计一下，我的所有藏书中大概只有六成左右是真正读过的，其它的还在等着我拿起翻开。我希望后面一段时间可以减少或不买书，直到我把手上的书全部读完再说。</p><p>有一句话说的真对，『书非借不能读也』，这大概是因为借到的书总是想着要还回去，必须抓紧时间读完，而属于自己的书，总觉得还有大把的时间，等等再看也来得及，结果就是拖延症发作，那书则是默默的蒙上了一层浮尘。</p><h2 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h2><p>写到这里，这篇文章也算是写完了，在开头之所以写了每天一篇千字文的事，其实我被那篇文章所影响，想试着开始我的千字文之旅，我想这可以算是我的一个开始吧，我不准备每天都写一篇，但是我想，至少每周要写五篇吧，不限内容题材，看看我能坚持多久吧。</p>]]></content>
      
      
      <categories>
          
          <category> Reading </category>
          
      </categories>
      
      
        <tags>
            
            <tag> reading </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>最终还是没忍住HHKB的诱惑</title>
      <link href="/2015/0228/My-HHKB-was-coming.html"/>
      <url>/2015/0228/My-HHKB-was-coming.html</url>
      
        <content type="html"><![CDATA[<p>刚打开BLOG看了一下，发现上次发文已经是N个月之前的事了，实在是不应该啊，这次趁着新键盘到手的契机，顺便写写最近的一些情况以庆祝。</p><h2 id="上一份工作"><a href="#上一份工作" class="headerlink" title="上一份工作"></a>上一份工作</h2><p>为什么说是上一份工作哪？原因是，我换工作了，这应该是持续时间最短的一份工作了。</p><p>现在想来，上一份工作似乎没做多少事，从3月份到11月份，八个月的时间，真正由我来做的其实就只有两件事，而其中一件还只是进行了设计以及初步的定义相关的编码。</p><p>首先是队列系统，主要是用来解决高并发状态时的压力问题，这个项目通过在世界杯项目中的使用，基本上证实了思路的正确，并且在使用中也确实是起到了非常明显的作用，实现了设计目标。</p><p>然后是一个数据层系统，设计中这个数据层会解决数据的持久化及缓存的管理及合并，并且向下游用户提供良好的使用接口，实现MySQL协议以降低现有系统数据的迁移难度，就我看来，这个设计是合适的，但是由于公司内部的一些变动，没办法让我把精力放在这个系统的开发上，然后，就没再坚持下去。</p><h2 id="新工作"><a href="#新工作" class="headerlink" title="新工作"></a>新工作</h2><p>现在的这份工作是在朋友创业公司，这朋友还是王爷介绍认识的（能认识王爷以及几个新朋友是我这次回北京最大的收获），现在是接着做游戏后端相关的工作。</p><p>目前来看，现在的工作对我来说又是一个巨大的收获。在项目开始时我就有幸参与进来了，因为时间足够，在后端的设计初期花了大量的时间进行系统的设计，这些设计目前来说还是比较合理的，至少使后期的开发工作极其的便利，关于项目的设计部分以后再专门讨论。</p><p>现在这个游戏项目已经到了后期，目前处于跟发行商谈判以及根据发行商要求进行修改的阶段，再有两个月左右的时间应该就可以跟大家见面。</p><h2 id="键盘"><a href="#键盘" class="headerlink" title="键盘"></a>键盘</h2><p>虽然早就对机械键盘有所了解，但是真正接触的时间并不长，先是用了一把CHERRY的茶轴，然后在对HHKB进行了大量的了解之后，实在没忍住就入了一把，虽然价格上贵了些，拿到手上就对其爱不释手了，这篇博客就是用这个键盘写的第一篇文章，用到现在我只有一个感觉，那就是舒服。</p><p>现在看来我真是不会细节描写，除了说舒服我就找不出更合适的词来形容这个键盘了。</p><p>在买这个键盘之前我还担心不适应其独特的键盘布局，但是现在看来这个担心是完全没有必要了。原因应该有那么三个吧，一、我把2、3跳线打开了，其它都是默认的，2号是把键盘设置成Mac模式，3号是把BACKSPACE切换成习惯的方式，其它的跟用普通键盘没啥区别。二、我用习惯了Mac，用CTRL配合光标移动对我来说也很熟悉，再加上vi/emacs对我来说更是最常用的编辑器。三、没了。</p><p>最后，对于程序员来说，我觉得HHKB确实是值得拥有的一把利器。</p>]]></content>
      
      
      <categories>
          
          <category> Device </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hhkb </tag>
            
            <tag> keyboard </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>繁忙时代</title>
      <link href="/2014/0813/Busy-Times.html"/>
      <url>/2014/0813/Busy-Times.html</url>
      
        <content type="html"><![CDATA[<h2 id="繁忙时代前言"><a href="#繁忙时代前言" class="headerlink" title="繁忙时代前言"></a>繁忙时代前言</h2><p>从进入三月份进入新公司，一直到现在，刚看了一下日期，竟然刚好是13号，整整五个月的时间。现在想来，这五个月的时间我自己做起来的项目应该说只有一个半，但是这一个半项目贯穿了公司里多个项目多个部分，毕竟做的是基础开发，这也是必然的吧。</p><p>当然了，之所以说繁忙，主要还是因为除了工作我还做了不少其它的事，总之，这段时间我把时间安排的非常紧凑，尽管很忙，但是这也让我过得很充实，下面尽量简单的记一个流水帐。</p><span id="more"></span><h2 id="繁忙的世界杯项目"><a href="#繁忙的世界杯项目" class="headerlink" title="繁忙的世界杯项目"></a>繁忙的世界杯项目</h2><p>首先来说，我加入新公司主要是为了做新媒体项目的高并发相关的开发，项目的定位也是一个平台级的新媒体互动项目。项目的开始并不是为了世界杯，但是当项目基本上做起来被应用于NWC大会，于是，后面被关注程度就超出了预期。</p><p>在与CCTV5确定了合作世界杯相关节目后，我们的繁忙就开始了。首先是紧张的封闭开发，这段时间的开发成果当然是斐然的，而我做为就对高并发需求的关键一环压力自然很大。</p><p>在短短三个星期的时间内，任务分发系统（队列系统，主要用来做任务分发，对任务进行异步化以养活阻塞压力）完成了从设计到编码直到出BETA版的所有工作，尽管由于时间的关系，在开发过程中对设计在不影响架构的情况化进行了简化，但是，毕竟在短短三周的时间完成一个可用的系统并不是轻松的事，项目全部是用C语言从零开始构建，我想做C语言开发的兄弟们应该是可以体会到其中艰辛的。</p><p>在对BETA版进行一定程度的测试优化后就发布了第一个较为稳定版本，然后直接插入到整个系统中，虽然我是整天都提心吊胆的，但是好在整个世界杯期间，这个分发系统除了因为网络问题崩溃过一次之外没再掉过链子，这多少让我感到稍许欣慰，不过尽管基本没出过问题，我还是要每天盯到晚上两点多才能上床睡觉，连续一个月的时间，结果导致身体很多地方感觉颇为不适，不过总的来说身体状态相当不错，其原因应该归结到这期间开始的健身计划。</p><h2 id="繁忙的健身计划"><a href="#繁忙的健身计划" class="headerlink" title="繁忙的健身计划"></a>繁忙的健身计划</h2><p>健身计划的开始也是被老婆鼓励、鼓动、诱惑之后才开始的。</p><p>因为我一直以来都太胖，健康问题一直都存在，只不过之前还不够重视，从2013年10月份就一直在吃降压药，当时血压高的很恐怖。而这次健身计划的实话本意就是改善身体状态，能让身体重新回归健康，当然，如果能减掉体重就更好了。</p><p>我印象中，健身计划开始于5月21号，在健身房办了会员卡，然后又请了私人教练。之所以请私教是因为之前也不是没去过健身房，但是都没能坚持下来，我希望通过请私教能让我有更多坚持的理由，而且有个人提醒和指导肯定会更有用处。</p><p>从健身计划开始，我基本上每天晚上都会去健身房锻炼近两个小时，有时是完全自己锻炼，主要是有氧为主，辅以力量训练，每周上四节健身课，上健身课时由教练指导对身体特定肌肉进行训练，这期间成果非常明显，锻炼满一个月时又做了一次体脂测试，脂肪减少了8KG，肌肉增加了近1.5KG，基本上体重减了15斤左右，感觉身体状态好了很多，降压药也减少了四分之三的份量，这让我很有成就感。</p><p>整个健身计划是贯穿了整个世界杯项目的，随着世界杯的结束，我也终于可以轻松下来了，公司为了让我们能调整状态，给世界杯项目的参与者安排了休假，于是也使我终于能达成N久以来的心愿，能带孩子回家见见家里的老人。</p><p>但是也正是因为休假使我的健身计划中断了一段时间。</p><h2 id="繁忙的休假"><a href="#繁忙的休假" class="headerlink" title="繁忙的休假"></a>繁忙的休假</h2><p>说到休假，其实之前是没有想到的，当时的准备是能趁周末回一次广西，带老婆孩子回到北京后先让他们娘俩自己玩几天，我先上班到周四，然后再请假周五和下一个周一的两天假，然后再带他们回山东的，公司能给放三天假使我的时间更为充足。</p><p>回到北京后，放弃了跟参与项目的同事一起拓展的机会，这使我又多出了两天时间，于是干脆就车票改签，比原计划提前一天回了山东。</p><p>在路上一天，到家后，短暂的休息了一天，然后第三天去了姥姥家，也让姥姥得以享受一下四世同堂的幸福。说起来这也是很遗憾的事，姥爷去世的早，姥爷去世时我还在读高中，他没能见到我成年、工作以及以后的生活，爷爷是在我开始工作后去世，然后在两年后奶奶去世，他们都没能见到我结婚生子，这对我来说是非常遗憾的事，所以，我希望我家里人都能尽早的见到我的老婆孩子。</p><p>在姥姥家呆了一天，然后又回自己家，休息一天就接着就去了枣庄，那是我读书、长大的地方，我人生中最重要或者说是最印象最深刻的事基本都是在那里发生的。</p><p>到枣庄时已经是下午六点多了，然后是叔叔请我们一家人吃饭，吃过饭去他家呆了一会儿，因为是要住在老姐家，回到老姐家已经是10点多了，洗漱完毕就到了1点多才得以睡觉。第二天又去姑姑家吃午饭，吃完饭就马上去和兄弟小瑞子见面，由他送我们去坐高铁站，之后当晚回到北京。</p><p>回到北京的第二天又跑去跟老婆的朋友见面，这一路又花了N久啊<del>，一直到晚上九点多才回到在北京的住处，第二天一早又送老婆孩子去机场，之后直接回公司，休假宣告结束</del></p><p>这么一路下来，这个休假基本上全是在路上，比上班还要累，这就是我的假期啊~</p><h2 id="繁忙的驾照"><a href="#繁忙的驾照" class="headerlink" title="繁忙的驾照"></a>繁忙的驾照</h2><p>由于这次休假，一路上的各种不便让我下定了要拿驾照的决心，就在老婆孩子回柳州后我就马上着手准备驾校报名的事，没想到报架也那么麻烦，还需要暂住证啊之类的，麻烦，不过好在花在一个星期左右的时间总算是办完暂住证并同时报了名。</p><p>报名当周的周末就去参加法培课，然后定在下一个周五考科目一，在考试之前我做了很多次题目，而且一直重复了N遍，虽然花了很多时间，但是努力总算是没白废，在科目一考试中花了六分钟时间考了满分，第一个通过考试，于是马上约了周日的科目二上车学习，六个小时的时间都在开车，感觉还不错。</p><p>估计后面还要有两周多的时间上车练习，练习一旦结束马上就要预约科二考试，然后就是准备科三，希望九月份能最终合下驾照吧。</p><h2 id="繁忙的近期安排"><a href="#繁忙的近期安排" class="headerlink" title="繁忙的近期安排"></a>繁忙的近期安排</h2><p>除了以上正在进行的繁忙计划之外，工作上最近也是各种计划各种赶进度，越来越感觉时间不够用了，不过同时也感觉这样的日子过得很充实，坏处是，为了进行这些计划，使我没有时间进行技术方面的学习，这是我感觉最不踏实的地方了。</p><h2 id="繁忙的收获"><a href="#繁忙的收获" class="headerlink" title="繁忙的收获"></a>繁忙的收获</h2><p>现在想想，这一年已经过了一半多，自从离开上一份工作，我过得更加有意义，为了健康的健身投资，生活必须技能的学车计划，以及回家探亲，能让家里的老人见到孩子，不管是对我还是我父母老人这是最大的慰藉，我希望接下来的时间，我的生活事业都能有一个很大的改善，一切都能走向正轨，加油吧老少年。</p>]]></content>
      
      
      <categories>
          
          <category> 日常生活 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Install a git server use gitolite over the ssh</title>
      <link href="/2014/0415/install-a-git-server-use-gitolite-over-ssh-protocol.html"/>
      <url>/2014/0415/install-a-git-server-use-gitolite-over-ssh-protocol.html</url>
      
        <content type="html"><![CDATA[<h3 id="闲话"><a href="#闲话" class="headerlink" title="闲话"></a>闲话</h3><p>最近这段时间处在封闭开发状态，基本上没什么时间写日志了，不过现在也忙的差不多了，更重要的是，今天需要安装一台Git服务器做为开发之用，而且需要把安装过程整理出一份文档 ，所以，咱就直接写出来，也做为一篇日志发布了吧。</p><h3 id="进入正题"><a href="#进入正题" class="headerlink" title="进入正题"></a>进入正题</h3><p>建立服务器的软件我这里选用Gitolite，之所以选用Gitolite，一是因为之前曾经使用过Gitolite，再一个是因为Gitolite可配置性更高，而且更为小巧。而且，由于这个服务器只在内部使用，没有必要使用Gitlab这种体积庞大的提供过多的WEB方面功能的程序。</p><p>没有特别声明的都为在服务器上执行</p><ol><li>Git<br>使用系统命令安装git客户端，比如<code>yum install git</code>，版本最好不要太低，1.7以上。</li><li>建立Git帐户<br><code>useradd -d /opt/git -m git</code>，用户目录的位置不做要求，但是由于是专用帐号，最好是放在有备份保证的目录，便于管理。</li><li>生成管理公钥 （管理端）<br><code>ssh-keygen -t rsa -C &quot;Git Admin&quot; -f gitadmin</code><br>这个步骤需要注意的是生成密钥对最好不要加密码，否则有可能出现奇怪的问题。完成这一步后将gitadmin.pub文件传至git的HOME目录中备用。</li><li>同步Gitolite代码<br><code>git clone https://github.com/sitaramc/gitolite</code>，此命令需要在Git用户的HOME目录中执行。</li><li>安装Gitolite<br>在用户目录中执行<code>gitolite/install -ln</code>，参数的意思是在$HOME/bin目录中建立指向源代码目录的文件链接，这样做的好处是可以方便的升级gitolite，另外，install命令另一个参数是-to可以指定命令安装到的目录，默认情况下不需要指定。<br>需要注意的是，默认安装的时候需要将$HOME/bin加入$PATH，如果指定安装目标需要将$HOME/to_dir加入$PATH。<br>执行完install之后需要执行<code>gitolite setup -pk gitadmin.pub</code>。<br>完成后，需要再检查一下~/.ssh目录和其中的authorized_keys文件的权限，需要将权限控制为仅本人可读写。</li><li>同步管理库（管理端）<br>由于管理端或客户端与Git服务器之间的通讯是基于ssh的，所以，为了便于使用，需要对与Git服务器的连接进行单独配置，打开<code>~/.ssh/config</code>，在其中加入单独定义管理时所使用的密钥文件。</li></ol><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">host gitadmin</span><br><span class="line">   HostName xxx.xxx.xxx.xxx</span><br><span class="line">   <span class="keyword">User</span> <span class="title">git</span></span><br><span class="line">   IdentityFile \~/.ssh/gitadmin</span><br></pre></td></tr></table></figure><p>  经过以上配置即可以执行<code>git clone gitadmin:gitadmin</code>获取管理库，之后所有对服务器的管理只能通过此管理库进行，严禁直接在服务器上对服务器进行修改。<br>7. 修改Gitolite配置及用户管理<br>  详细使用配置及管理方法请参考源代码目录下的<code>README.txt</code><br>8. 从Subversion向Git做版本迁移<br>  两种方法</p><ul><li>git svn clone svn://url.to.svn/repos –no-metadata –authors-file=users.txt<br>直接从svn版本库中clone数据到本地，其中</li></ul><p>   –no-metadata 指定命令不在git版本库中加入svn版本元数据。<br>   –authors-file 指定与svn用户相对应的git用户。</p><ul><li>git svn init svn://url.to.svn/repos –no-metadata</li><li>git svn fetch –authors-file=users.txt<br>这两个命令为一组，第一个命令初始化一个基于svn源的git库，此时可以在该库的.git目录下修改branches和tags信息，完成之后使用第二个命令开始同步代码，此时代码将按照配置把不同分支或标签下的代码提交到git库的指定位置。<br>如要迁移的Subversion版本库使用遵循惯例的目录设置，则可以在第一种方法和第二种方法的第一条命令中加入-s选项，本选择可以简化同步的操作。</li></ul><p>Windows版客户端TortoiseGit下载地址：<a href="http://download.tortoisegit.org/tgit/1.8.8.0/">http://download.tortoisegit.org/tgit/1.8.8.0/</a><br>Pro Git: <a href="http://git-scm.com/book/zh/">http://git-scm.com/book/zh/</a></p><h3 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h3><p>Git的使用入门很容易 ，只需要简单的分支、标签管理和版本提交，基本上就可以满足日常的需求，当然，还有更多的特性需要在使用的过程中逐渐的接触和应用。</p>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
            <tag> gitolite </tag>
            
            <tag> ssh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Get a TexturePacker free license</title>
      <link href="/2014/0402/get-a-texturepacker-free-license.html"/>
      <url>/2014/0402/get-a-texturepacker-free-license.html</url>
      
        <content type="html"><![CDATA[<h3 id="闲话几句"><a href="#闲话几句" class="headerlink" title="闲话几句"></a>闲话几句</h3><p>昨天跟老婆吵了几句，当时确实是非常气愤，不过现在想想真的很划不来，气大伤身不说，昨天也因为这吵架导致了始终静不下心来学习，所以说，这吵架不仅伤身、伤心情，还浪费了时间。<br>其实本来也没有什么大不了的事情，没有必要非得争个是非黑白，如果确实觉得对方做的不合适，完全可以在对方心情恢复正常之后再换个角度讲给她听，这样在达到目的的同时也避免了伤和气。基本上应该有这个原则，在对方情绪激动的时候最好是避免正面的意见冲突，这不光是在两口子之间的相处之道，在和任何人相处时都是适用的。</p><h3 id="说点正题"><a href="#说点正题" class="headerlink" title="说点正题"></a>说点正题</h3><p><a href="http://www.codeandweb.com/texturepacker" title="Texture Packer">Texture Packer</a>是一个非常方便的Sprite Sheet生成工具，我在<a href="/2014/03/31/about-sprite-sheet-and-tools/" title="About Sprite Sheet and Tools">About Sprite Sheet</a>一文中讲到过，那天我在写博文时就发现下面提示还有两天的试用期，于是去到官网上准备，然后就看到下面有个可以申请免费License的链接，看里面的说明，我的博客是符合条件的，于是就试着申请了一下，没想到今天就收到了作者发来的邮件。<br><img src="/images/get-a-texture-packer-free-license/mail1.png" alt="Email"><br>同时，下面还附送了一个<a href="http://www.codeandweb.com/physicseditor" title="Physics Editor">Physics Editor</a>的授权文件，这个软件我也安装上了，看起来也是非常的强大，尽管我还没有试用，不过我想这对我学习游戏开发的过程一定会很有帮助，在此对作者表示剧烈的感谢。</p><h3 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h3><p>我想作者愿意为做技术的或跟此相关的人提供免费的授权，一方面是希望能帮助宣传这他的软件以使他能够获得更多的回报，另一方面也是希望他的用户更多，即便是没有得到金钱上的回报，但是由此带来的巨大成就感也是所有软件开发者内心所渴望的。<br>就像<a href="http://www.hector2.us/" title="TIGER/HECTOR学艺碎碎念">王爷</a>他老人家现在每天熬夜加班费劲巴力的花大量的时间在搞他的一个EF English辅助APP一样，他也没指望能在这个APP上获得什么经济回报，当然能得到经济回报更好，就算得不到，一旦用户多了，我想他也会忍不住请我动吃大吃一顿来庆祝一番的。【千里传音：我说的对吧，王爷？】。</p>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TexturePacker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>About Sprite Sheet And Tools</title>
      <link href="/2014/0331/about-sprite-sheet-and-tools.html"/>
      <url>/2014/0331/about-sprite-sheet-and-tools.html</url>
      
        <content type="html"><![CDATA[<h3 id="闲话"><a href="#闲话" class="headerlink" title="闲话"></a>闲话</h3><p>感冒好像有些更严重了，头很不舒服。</p><p>下午听王爷说他们发奖金了，虽然不多，但是也是要恭喜一下的，毕竟不管发多少，总比不发强吧，而且现在他的项目进展的也算是顺利。一想到这项目还是会有些郁闷，毕竟是我们哥几个一点点弄出来的，现在却成了别人的孩子，而且还是不太待见的孩子，郁闷。</p><h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><p>今天随便说说<a href="http://en.wikipedia.org/wiki/Sprite_(computer_graphics)">Sprite Sheet</a>吧，简单来说，这是一个小图片集合。我印象中，这种技术最早用于WEB开发中，当在网页中使用很多小图片时，在访问时，浏览器需要对每个图片发起请求，而每次请求都只传送了一个很小的图片文件，这无形中就浪费了大量的HTTP请求和网络连接，即使在<a href="http://www.w3.org/Protocols/rfc2616/rfc2616.html">HTTP 1.1</a>的环境中，默认的头Connection保持keep-alive时可以我重用连接，便是多次请求传送的Header也会浪费很多的流量。</p><p>因此，就有聪明人发明了这种方式，把多个小图片合成一个大图片，这样不仅减少了请求数、节约了资源，还使数据传输更加有效率，于是人们亲切的称之为Sprite Sheet。</p><p>而在游戏开发中，合理的使用Sprite Sheet同样有着积极的作用，比如将相关性较高的图片合并到一张大图片中，不仅可以使图片的渲染过程得到优化，同时还能使图片资源更便于管理（这也是我最近也学到的，:)）。</p><span id="more"></span><h3 id="相关工具"><a href="#相关工具" class="headerlink" title="相关工具"></a>相关工具</h3><p>最早的时候，我也曾经做过WEB开发，那时候比较笨，也可以是当时没有发现更好用的工具，我一般是直接使用Photoshop或Firework进行拼图，同时记下每张小图片的坐标，在使用的时候将这些坐标用在CSS中获取相应的小图片，这种方法相当相当的麻烦，后来就因为这个原因我就索性不再自己做这件事了。</p><p>之后的发展我就没有见证过，因为那时候我已经离开了WEB开发这一行，而直接进入了游戏后端开发，在游戏后端开发中用不着这类的知识。直到最近，我开始学一些游戏开发的知识，这才又一次接触到<a href="http://en.wikipedia.org/wiki/Sprite_(computer_graphics)">Sprite Sheet</a>。</p><p>首先接触到的工具是<a href="http://www.zwopple.com/zwoptex/" title="Zwoptex">Zwoptex</a>，这个工具用起来也算是比较方便，简单说一下其用法。</p><ol><li>打开zwoptex，将图片拖入其中。<br> <img src="/images/about-sprite-sheet/zwoptex1.png" alt="Zwoptex图1"></li><li>点击工具栏中Layout。<br> <img src="/images/about-sprite-sheet/zwoptex2.png" alt="Zwoptex图2"></li><li>调整图片大小。</li><li>重复2、3步，直到图片大小合适，并能够将其中小图片正确显示。</li><li>点击File - Publish Settings，并设置。</li><li>点击Toolbar中的Publish，导出文件。</li></ol><p>在使用中，这个工具可以满足一般需求，并且在导出图片时支持同时导出<code>.plist</code>文件，这在Cocos2D和Cocos2D-X开发中用起来自然是极方便的，更重要的是，这个软件不注册也可以一直使用，唯一的不爽就是会有弹窗3秒倒计时，虽然不爽，但是倒也是可以接受的。</p><p>在说另一个工具 <a href="http://www.codeandweb.com/texturepacker" title="Texture Packer">Texture Packer</a>，这是我的一个朋友介绍给我的，这也是个收费软件，而且，如果不购买就只能试用7天，嗯，虽然时间不多，但是也足以让你体会到这个软件的方便之处了。</p><p>以下是使用方法：</p><ol><li>打开Texture Packer，并将图片拖入其中。<br> <img src="/images/about-sprite-sheet/texturepacker1.png" alt="Texture Packer图1"><br> 当图片拖入程序的一瞬间你会发现，图片已经排列好了，而且所占用的空间也是最小的。<br> <img src="/images/about-sprite-sheet/texturepacker2.png" alt="Texture Packer图2"></li><li>在右侧Data Format中选择需要的格式，然后点击Toolbar中的Publish。</li><li>没有第三步了。</li></ol><p>到此，这两个工具就说明完毕了，当然了，我在这里说的并不是全部，每个工具都有很多可以设置的选项，这个需要根据需要自己进行研究了。</p><p>我之所以拿这两个工具进行说明，最主要还是因为，目前为止我就只接触到这两个跟<a href="http://en.wikipedia.org/wiki/Sprite_(computer_graphics)">Sprite Sheet</a>相关的工具，而且两个都很好用。当然了，如果是我选择一个，我肯定会选<a href="http://www.codeandweb.com/texturepacker" title="Texture Packer">Texture Packer</a>，其原因是，这个工具支持的导出格式更多，而且在导入图片时就自动对图片进行最优的排列，并进行适当的翻转，以求能使其占用的空间更小一些。而<a href="http://www.zwopple.com/zwoptex/" title="Zwoptex">Zwoptex</a>在自动化方面就差了一些，需要自行调整画布尺寸，而且，在排列图片时就显得比较死板。</p><p>另外，<a href="http://www.codeandweb.com/texturepacker" title="Texture Packer">Texture Packer</a>在导入图片时可以选择导入文件夹，这一点<a href="http://www.zwopple.com/zwoptex/" title="Zwoptex">Zwoptex</a>是无法做到的，同时，<a href="http://www.codeandweb.com/texturepacker" title="Texture Packer">Texture Packer</a>导出的图片也较后者稍小，例如我在使用中生成的图片，前者生成的图片171K，后者生成的为180K。</p><h3 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h3><p>本文只是对这两个软件进行简单的测试、比较，结论也属于个人观感，这只是为自己选择软件提供一个依据。</p>]]></content>
      
      
      <categories>
          
          <category> Game </category>
          
      </categories>
      
      
        <tags>
            
            <tag> game </tag>
            
            <tag> web </tag>
            
            <tag> zwoptex </tag>
            
            <tag> TexturePacker </tag>
            
            <tag> sprite sheet </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cocos2D-X learning 4</title>
      <link href="/2014/0329/cocos2d-x-learning-4.html"/>
      <url>/2014/0329/cocos2d-x-learning-4.html</url>
      
        <content type="html"><![CDATA[<h3 id="废话"><a href="#废话" class="headerlink" title="废话"></a>废话</h3><p>今天和王爷一起去传说中的车库咖啡见了一个创业团队，跟他们有了一个小时左右的交流时间，交流的详情就不说了，总之，让我和王爷多了一个很好的话题，在回家的路上，我们就这个话题进行了友好、亲切而又愉快的交流，受益匪浅。<br>不过，最糟心的是，跑这一趟我竟然感冒了，主要是天气热，出了很多汗，而在地铁通道里风太大，晾了汗了，纠结死我了，明天还要去见一个离得比较近的创业团队，我在犹豫到底还要不要去。</p><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>今天随便说说在Cocos2D-X开发中，关于对CCSprite方面的优化，总得来说就是尽可能减少渲染次数，这样可以使游戏运行更有效率，能够空出更多的CPU时间做其它的事情，以增加游戏的流畅与体验。</p><h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><p>Cocos2D为图片资源批量加载提供了<code>CCSpriteFrameCache</code>类，此类可以通过使用Sprite Sheet文件来减少图片加载次数，简单来说，就是把多个图片拼成一个大图片，之后通过坐标在大文件上取到相应的图片，这个技术被广泛使用在网页设计及游戏开发中。在这里我使用了一个叫做Zwoptex的软件自动生成大图片及相应的<code>.plist</code>，软件的具体使用方法就不在这里细说了（另外，朋友介绍说Texture Packer是可以更好的做这件事的工具，改天尝试一下）。</p><p>另外，Cocos2D还提供了一个<code>CCSpriteBatchNode</code>类，这个类主要作用是，当相同图片资源被重复使用时，通过这个类可以减少使相同的图片只渲染一次，具体做法看下面的代码。<br>PS: 代码基于上一篇BLOG，只对关键部分进行说明。</p><figure class="highlight c++"><figcaption><span>GameSceneDH.h</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __StudyCocos2D__GameSceneDH__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __StudyCocos2D__GameSceneDH__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;cocos2d.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cocos2d;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GameSceneDH</span>:</span> <span class="keyword">public</span> CCLayer &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> CCScene *<span class="title">scene</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">bool</span> <span class="title">init</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="built_in">CREATE_FUNC</span>(GameSceneDH);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><span id="more"></span><figure class="highlight c++"><figcaption><span>GameSceneDH.cpp</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  GameSceneDH.cpp</span></span><br><span class="line"><span class="comment">//  StudyCocos2D</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by Toby Lee on 14-3-30.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;GameSceneDH.h&quot;</span></span></span><br><span class="line"><span class="function">CCScene * <span class="title">GameSceneDH::scene</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    CCScene *scene = CCScene::<span class="built_in">create</span>();</span><br><span class="line">    CCLayer *layer = GameSceneDH::<span class="built_in">create</span>();</span><br><span class="line">    scene-&gt;<span class="built_in">addChild</span>(layer);</span><br><span class="line">    <span class="keyword">return</span> scene;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">GameSceneDH::init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!CCLayer::<span class="built_in">init</span>()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    CCSize winSize = CCDirector::<span class="built_in">sharedDirector</span>()-&gt;<span class="built_in">getWinSize</span>();</span><br><span class="line">    </span><br><span class="line">    CCSprite *background = CCSprite::<span class="built_in">create</span>(<span class="string">&quot;大唐边境.jpg&quot;</span>);</span><br><span class="line">    CCSize backgroundSize = background-&gt;<span class="built_in">getContentSize</span>();</span><br><span class="line">    background-&gt;<span class="built_in">setScale</span>(winSize.width / backgroundSize.width);</span><br><span class="line">    background-&gt;<span class="built_in">setPosition</span>(<span class="built_in">ccp</span>(winSize.width/<span class="number">2</span>, winSize.height/<span class="number">2</span>));</span><br><span class="line">    <span class="keyword">this</span>-&gt;<span class="built_in">addChild</span>(background);</span><br><span class="line">    </span><br><span class="line">    CCSpriteFrameCache *frameCache = CCSpriteFrameCache::<span class="built_in">sharedSpriteFrameCache</span>();</span><br><span class="line">    frameCache-&gt;<span class="built_in">addSpriteFramesWithFile</span>(<span class="string">&quot;DH.plist&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    CCSpriteFrame *frameDH0, *frameDH1, *frameDH2, *frameDH3, *frameDH4, *frameDH5;</span><br><span class="line">    frameDH0 = frameCache-&gt;<span class="built_in">spriteFrameByName</span>(<span class="string">&quot;DH (0).png&quot;</span>);</span><br><span class="line">    frameDH1 = frameCache-&gt;<span class="built_in">spriteFrameByName</span>(<span class="string">&quot;DH (1).png&quot;</span>);</span><br><span class="line">    frameDH2 = frameCache-&gt;<span class="built_in">spriteFrameByName</span>(<span class="string">&quot;DH (2).png&quot;</span>);</span><br><span class="line">    frameDH3 = frameCache-&gt;<span class="built_in">spriteFrameByName</span>(<span class="string">&quot;DH (3).png&quot;</span>);</span><br><span class="line">    frameDH4 = frameCache-&gt;<span class="built_in">spriteFrameByName</span>(<span class="string">&quot;DH (4).png&quot;</span>);</span><br><span class="line">    frameDH5 = frameCache-&gt;<span class="built_in">spriteFrameByName</span>(<span class="string">&quot;DH (5).png&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    frameDH0-&gt;<span class="built_in">autorelease</span>();</span><br><span class="line">    frameDH1-&gt;<span class="built_in">autorelease</span>();</span><br><span class="line">    frameDH2-&gt;<span class="built_in">autorelease</span>();</span><br><span class="line">    frameDH3-&gt;<span class="built_in">autorelease</span>();</span><br><span class="line">    frameDH4-&gt;<span class="built_in">autorelease</span>();</span><br><span class="line">    frameDH5-&gt;<span class="built_in">autorelease</span>();</span><br><span class="line">    </span><br><span class="line">    CCSprite *sp0 = CCSprite::<span class="built_in">createWithSpriteFrame</span>(frameDH0);</span><br><span class="line">    sp0-&gt;<span class="built_in">setPosition</span>(<span class="built_in">ccp</span>(<span class="number">50</span>, <span class="number">150</span>));</span><br><span class="line">    <span class="keyword">this</span>-&gt;<span class="built_in">addChild</span>(sp0);</span><br><span class="line">    CCSprite *sp1 = CCSprite::<span class="built_in">createWithSpriteFrame</span>(frameDH1);</span><br><span class="line">    sp1-&gt;<span class="built_in">setPosition</span>(<span class="built_in">ccp</span>(<span class="number">140</span>, <span class="number">150</span>));</span><br><span class="line">    <span class="keyword">this</span>-&gt;<span class="built_in">addChild</span>(sp1);</span><br><span class="line">    CCSprite *sp2 = CCSprite::<span class="built_in">createWithSpriteFrame</span>(frameDH2);</span><br><span class="line">    sp2-&gt;<span class="built_in">setPosition</span>(<span class="built_in">ccp</span>(<span class="number">230</span>, <span class="number">150</span>));</span><br><span class="line">    <span class="keyword">this</span>-&gt;<span class="built_in">addChild</span>(sp2);</span><br><span class="line">    CCSprite *sp3 = CCSprite::<span class="built_in">createWithSpriteFrame</span>(frameDH3);</span><br><span class="line">    sp3-&gt;<span class="built_in">setPosition</span>(<span class="built_in">ccp</span>(<span class="number">320</span>, <span class="number">150</span>));</span><br><span class="line">    <span class="keyword">this</span>-&gt;<span class="built_in">addChild</span>(sp3);</span><br><span class="line">    CCSprite *sp4 = CCSprite::<span class="built_in">createWithSpriteFrame</span>(frameDH4);</span><br><span class="line">    sp4-&gt;<span class="built_in">setPosition</span>(<span class="built_in">ccp</span>(<span class="number">410</span>, <span class="number">150</span>));</span><br><span class="line">    <span class="keyword">this</span>-&gt;<span class="built_in">addChild</span>(sp4);</span><br><span class="line">    CCSprite *sp5 = CCSprite::<span class="built_in">createWithSpriteFrame</span>(frameDH5);</span><br><span class="line">    sp5-&gt;<span class="built_in">setPosition</span>(<span class="built_in">ccp</span>(<span class="number">500</span>, <span class="number">150</span>));</span><br><span class="line">    <span class="keyword">this</span>-&gt;<span class="built_in">addChild</span>(sp5);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以上代码中，第25-29行为游戏添加了背景，这个不在本文的写作目的之中，其中27、28行是将背景的大小和位置调整到铺满整个窗口。<br>第31、32行利用<code>.plist</code>文件初始化了一个SpriteSheet图片，<code>CCSpriteFrameCache</code>类全局有效以单例的形式使用，但是为了方便后面使用，这里单独声明了一个<code>CCSpriteFrameCache</code>对象。<br>从34行开始到第40行，声明一组<code>CCSpriteFrame</code>对象，并通过文件名在<code>CCSpriteFrameCache</code>类中初始化。从49行到66行，通过已经创建的``CCSpriteFrame<code>对象创建一些相应的</code>CCSprite`实例，并做位置做相应的调整后加入到场景中。<br>在这里为了便于说明，尽可能少的牵涉到无关内容，对代码本身并没做优化。<br><img src="/images/cocos2d-x-learning-4/before.png" alt="进行CCSpriteBatchNode优化前"><br>注意看界面左下角的帧率信息。</p><p>下面，我们在代码中通过<code>CCSpriteBatchNode</code>对程序进行优化，代码如下：</p><figure class="highlight cpp"><figcaption><span>GameSceneDH.cpp</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  GameSceneDH.cpp</span></span><br><span class="line"><span class="comment">//  StudyCocos2D</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by Toby Lee on 14-3-30.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;GameSceneDH.h&quot;</span></span></span><br><span class="line"><span class="function">CCScene * <span class="title">GameSceneDH::scene</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    CCScene *scene = CCScene::<span class="built_in">create</span>();</span><br><span class="line">    CCLayer *layer = GameSceneDH::<span class="built_in">create</span>();</span><br><span class="line">    scene-&gt;<span class="built_in">addChild</span>(layer);</span><br><span class="line">    <span class="keyword">return</span> scene;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">GameSceneDH::init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!CCLayer::<span class="built_in">init</span>()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    CCSize winSize = CCDirector::<span class="built_in">sharedDirector</span>()-&gt;<span class="built_in">getWinSize</span>();</span><br><span class="line">    </span><br><span class="line">    CCSprite *background = CCSprite::<span class="built_in">create</span>(<span class="string">&quot;大唐边境.jpg&quot;</span>);</span><br><span class="line">    CCSize backgroundSize = background-&gt;<span class="built_in">getContentSize</span>();</span><br><span class="line">    background-&gt;<span class="built_in">setScale</span>(winSize.width / backgroundSize.width);</span><br><span class="line">    background-&gt;<span class="built_in">setPosition</span>(<span class="built_in">ccp</span>(winSize.width/<span class="number">2</span>, winSize.height/<span class="number">2</span>));</span><br><span class="line">    <span class="keyword">this</span>-&gt;<span class="built_in">addChild</span>(background);</span><br><span class="line">    </span><br><span class="line">    CCSpriteFrameCache *frameCache = CCSpriteFrameCache::<span class="built_in">sharedSpriteFrameCache</span>();</span><br><span class="line">    frameCache-&gt;<span class="built_in">addSpriteFramesWithFile</span>(<span class="string">&quot;DH.plist&quot;</span>);</span><br><span class="line">    CCSpriteBatchNode *batchNode = CCSpriteBatchNode::<span class="built_in">create</span>(<span class="string">&quot;DH.png&quot;</span>);</span><br><span class="line">    <span class="keyword">this</span>-&gt;<span class="built_in">addChild</span>(batchNode);</span><br><span class="line">    </span><br><span class="line">    CCSpriteFrame *frameDH0, *frameDH1, *frameDH2, *frameDH3, *frameDH4, *frameDH5;</span><br><span class="line">    frameDH0 = frameCache-&gt;<span class="built_in">spriteFrameByName</span>(<span class="string">&quot;DH (0).png&quot;</span>);</span><br><span class="line">    frameDH1 = frameCache-&gt;<span class="built_in">spriteFrameByName</span>(<span class="string">&quot;DH (1).png&quot;</span>);</span><br><span class="line">    frameDH2 = frameCache-&gt;<span class="built_in">spriteFrameByName</span>(<span class="string">&quot;DH (2).png&quot;</span>);</span><br><span class="line">    frameDH3 = frameCache-&gt;<span class="built_in">spriteFrameByName</span>(<span class="string">&quot;DH (3).png&quot;</span>);</span><br><span class="line">    frameDH4 = frameCache-&gt;<span class="built_in">spriteFrameByName</span>(<span class="string">&quot;DH (4).png&quot;</span>);</span><br><span class="line">    frameDH5 = frameCache-&gt;<span class="built_in">spriteFrameByName</span>(<span class="string">&quot;DH (5).png&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    frameDH0-&gt;<span class="built_in">autorelease</span>();</span><br><span class="line">    frameDH1-&gt;<span class="built_in">autorelease</span>();</span><br><span class="line">    frameDH2-&gt;<span class="built_in">autorelease</span>();</span><br><span class="line">    frameDH3-&gt;<span class="built_in">autorelease</span>();</span><br><span class="line">    frameDH4-&gt;<span class="built_in">autorelease</span>();</span><br><span class="line">    frameDH5-&gt;<span class="built_in">autorelease</span>();</span><br><span class="line">    </span><br><span class="line">    CCSprite *sp0 = CCSprite::<span class="built_in">createWithSpriteFrame</span>(frameDH0);</span><br><span class="line">    sp0-&gt;<span class="built_in">setPosition</span>(<span class="built_in">ccp</span>(<span class="number">50</span>, <span class="number">150</span>));</span><br><span class="line">    batchNode-&gt;<span class="built_in">addChild</span>(sp0);</span><br><span class="line">    CCSprite *sp1 = CCSprite::<span class="built_in">createWithSpriteFrame</span>(frameDH1);</span><br><span class="line">    sp1-&gt;<span class="built_in">setPosition</span>(<span class="built_in">ccp</span>(<span class="number">140</span>, <span class="number">150</span>));</span><br><span class="line">    batchNode-&gt;<span class="built_in">addChild</span>(sp1);</span><br><span class="line">    CCSprite *sp2 = CCSprite::<span class="built_in">createWithSpriteFrame</span>(frameDH2);</span><br><span class="line">    sp2-&gt;<span class="built_in">setPosition</span>(<span class="built_in">ccp</span>(<span class="number">230</span>, <span class="number">150</span>));</span><br><span class="line">    batchNode-&gt;<span class="built_in">addChild</span>(sp2);</span><br><span class="line">    CCSprite *sp3 = CCSprite::<span class="built_in">createWithSpriteFrame</span>(frameDH3);</span><br><span class="line">    sp3-&gt;<span class="built_in">setPosition</span>(<span class="built_in">ccp</span>(<span class="number">320</span>, <span class="number">150</span>));</span><br><span class="line">    batchNode-&gt;<span class="built_in">addChild</span>(sp3);</span><br><span class="line">    CCSprite *sp4 = CCSprite::<span class="built_in">createWithSpriteFrame</span>(frameDH4);</span><br><span class="line">    sp4-&gt;<span class="built_in">setPosition</span>(<span class="built_in">ccp</span>(<span class="number">410</span>, <span class="number">150</span>));</span><br><span class="line">    batchNode-&gt;<span class="built_in">addChild</span>(sp4);</span><br><span class="line">    CCSprite *sp5 = CCSprite::<span class="built_in">createWithSpriteFrame</span>(frameDH5);</span><br><span class="line">    sp5-&gt;<span class="built_in">setPosition</span>(<span class="built_in">ccp</span>(<span class="number">500</span>, <span class="number">150</span>));</span><br><span class="line">    batchNode-&gt;<span class="built_in">addChild</span>(sp5);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>代码中，第33-34行，创建了一个<code>CCSpriteBatchNode</code>对象，并将其加入场景，在51-68行中，所有的<code>CCSprite</code>对象全部加入到<code>CCSpriteBatchNode</code>对象，此时，所有的<code>CCSprite</code>将不再重新渲染，如下图：<br><img src="/images/cocos2d-x-learning-4/after.png" alt="经过CCSpriteBatchNode优化后"><br>与之前的截图相比，渲染次数减少到2，说明这样的优化方法是可行的。</p><p>说明：<code>CCSprite</code>对象必须加入到<code>CCSpriteBatchNode</code>中才能起到优化作用，如果直接将<code>CCSprite</code>加入到场景中，则不会重用<code>CCSpriteBatchNode</code>的渲染结果。这里可以理解为，<code>CCSpriteBatchNode</code>是一个虚拟的容器，将此容器加入到场景后，再将<code>CCSprite</code>加入其中，由<code>CCSpriteBatchNode</code>对其进行管理，另外，如果<code>CCSprite</code>使用的资源不包含在<code>CCSpriteBatchNode</code>初始化的资源中，则程序会出现异常。</p><h3 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h3><p>程序的优化方法有很多种，但是并不是所有的优化方法都适用于当前的应用场景 ，这也牵涉到优化的性价比的问题，对程序进行适度的优化才是最正确的。</p><p>另：由于本人是初学跟前端有关的开发，特别是游戏前端，因此，在我所讨论的内容中难免有所偏颇，希望能够得到大家的指正，谢谢。</p>]]></content>
      
      
      <categories>
          
          <category> Cocos2D </category>
          
      </categories>
      
      
        <tags>
            
            <tag> game </tag>
            
            <tag> cocos2d-x </tag>
            
            <tag> cocos2d </tag>
            
            <tag> zwoptex </tag>
            
            <tag> TexturePacker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cocos2D-X learning 3 (CCScene and CCMenu)</title>
      <link href="/2014/0328/cocos2d-x-learning-3-(ccscene-and-ccmenu).html"/>
      <url>/2014/0328/cocos2d-x-learning-3-(ccscene-and-ccmenu).html</url>
      
        <content type="html"><![CDATA[<h3 id="废话"><a href="#废话" class="headerlink" title="废话"></a>废话</h3><p>本来部门计划今天下午全部门去搞团建的，主要活动是开卡丁车、桌游等项目，可惜天不从人愿，早晨有点下雨，好不容易盼到中午晴天，结果Leader又一个通知，说今天事情太多，活动改期到下周了，我勒个去的，废话不多说，进去正题。</p><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>今天练习的内容主要是在Cocos2D开发中，对菜单的运用以及场景切换，中间还涉及到对于CCSprite对象的一些操作和schedule的简单应用。</p><h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><p>首先用<code>create_project.py</code>建立一个基础项目，然后分别建立两个CCLayer的子类。</p><figure class="highlight c++"><figcaption><span>StudyCocos2D.h</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  StudyCocos2D.h</span></span><br><span class="line"><span class="comment">//  StudyCocos2D</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by Toby Lee on 14-3-28.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __StudyCocos2D__StudyCocos2D__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __StudyCocos2D__StudyCocos2D__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;cocos2d.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cocos2d;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StudyCocos2D</span>:</span> <span class="keyword">public</span> CCLayer &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onStartClick</span><span class="params">(CCObject *obj)</span></span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> CCScene * <span class="title">scene</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">bool</span> <span class="title">init</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="built_in">CREATE_FUNC</span>(StudyCocos2D);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* defined(__StudyCocos2D__StudyCocos2D__) */</span></span></span><br></pre></td></tr></table></figure><p>这是一个最简单的头文件，相比上一篇只多了一个私有方法<code>void onStartClick(CCObject *obj)</code>，其作用后面再说明。</p><span id="more"></span><figure class="highlight c++"><figcaption><span>StudyCocos2D.cpp</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  StudyCocos2D.cpp</span></span><br><span class="line"><span class="comment">//  StudyCocos2D</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by Toby Lee on 14-3-28.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;StudyCocos2D.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;RotatingIcon.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function">CCScene * <span class="title">StudyCocos2D::scene</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    CCScene *scene = CCScene::<span class="built_in">create</span>();</span><br><span class="line">    CCLayer *layer = StudyCocos2D::<span class="built_in">create</span>();</span><br><span class="line">    scene-&gt;<span class="built_in">addChild</span>(layer);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> scene;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">StudyCocos2D::init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!CCLayer::<span class="built_in">init</span>()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    CCMenuItemFont *menuItem = CCMenuItemFont::<span class="built_in">create</span>(<span class="string">&quot;START GAME&quot;</span>, <span class="keyword">this</span>, <span class="built_in">menu_selector</span>(StudyCocos2D::onStartClick));</span><br><span class="line">    </span><br><span class="line">    CCMenu *menu = CCMenu::<span class="built_in">create</span>(menuItem, <span class="literal">NULL</span>);</span><br><span class="line">    <span class="keyword">this</span>-&gt;<span class="built_in">addChild</span>(menu);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">StudyCocos2D::onStartClick</span><span class="params">(cocos2d::CCObject *obj)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    CCScene *iconScene = RotatingIcon::<span class="built_in">scene</span>();</span><br><span class="line">    iconScene-&gt;<span class="built_in">autorelease</span>();</span><br><span class="line">    CCDirector::<span class="built_in">sharedDirector</span>()-&gt;<span class="built_in">replaceScene</span>(iconScene);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以上代码生成场景如下<br><img src="/images/cocos2d-x-learning-3/scene1.png" alt="场景1"></p><p><code>StudyCocos2D::init()</code>方法中完成了建立，菜单项的工作，使用<code>CCMenuItemFont</code>类建立一个基于文字的菜单，在<code>CCMenuItemFont::create(const char *, CCObject, selector)</code>方法中完成了一个文字菜单项的建立，第一个参数是显示在菜单中的文字，第二个参数是作用于哪一个对象，第三个则是指定响应触发动作的方法。<br><code>void StudyCocos2D::onStartClick(CCObject *obj)</code>方法完成了点击菜单后的操作，首先建立从<code>RotatingIcon</code>类中创建一个场景，然后用<code>CCDirector::replaceScene(CCScene *)</code>方法将显示的场景替换成新的场景。<br><code>iconScene-&gt;autorelease()</code>方法的调用，会使本场景不在使用时自动释放。</p><figure class="highlight c++"><figcaption><span>RotatingIcon.h</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  RotatingIcon.h</span></span><br><span class="line"><span class="comment">//  StudyCocos2D</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by Toby Lee on 14-3-28.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __StudyCocos2D__RotatingIcon__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __StudyCocos2D__RotatingIcon__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;cocos2d.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cocos2d;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RotatingIcon</span>:</span> <span class="keyword">public</span> CCLayer &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">rotatingIcon</span><span class="params">(<span class="keyword">float</span> t)</span></span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> CCScene * <span class="title">scene</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">bool</span> <span class="title">init</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="built_in">CREATE_FUNC</span>(RotatingIcon);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* defined(__StudyCocos2D__RotatingIcon__) */</span></span></span><br></pre></td></tr></table></figure><figure class="highlight c++"><figcaption><span>RotatingIcon.cpp</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  RotatingIcon.cpp</span></span><br><span class="line"><span class="comment">//  StudyCocos2D</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by Toby Lee on 14-3-28.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;RotatingIcon.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function">CCScene * <span class="title">RotatingIcon::scene</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    CCScene *scene = CCScene::<span class="built_in">create</span>();</span><br><span class="line">    CCLayer *layer = RotatingIcon::<span class="built_in">create</span>();</span><br><span class="line">    scene-&gt;<span class="built_in">addChild</span>(layer);</span><br><span class="line">    <span class="keyword">return</span> scene;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">RotatingIcon::init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!CCLayer::<span class="built_in">init</span>()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    CCSize winSize = CCDirector::<span class="built_in">sharedDirector</span>()-&gt;<span class="built_in">getWinSize</span>();</span><br><span class="line">    </span><br><span class="line">    CCSprite *icon = CCSprite::<span class="built_in">create</span>(<span class="string">&quot;Icon-72.png&quot;</span>);</span><br><span class="line">    icon-&gt;<span class="built_in">setPosition</span>(<span class="built_in">ccp</span>(winSize.width/<span class="number">2</span>, winSize.height/<span class="number">2</span>));</span><br><span class="line">    <span class="keyword">this</span>-&gt;<span class="built_in">addChild</span>(icon);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">schedule</span>(<span class="built_in">schedule_selector</span>(RotatingIcon::rotatingIcon));</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RotatingIcon::rotatingIcon</span><span class="params">(<span class="keyword">float</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    CCArray *childNodes = <span class="keyword">this</span>-&gt;<span class="built_in">getChildren</span>();</span><br><span class="line">    <span class="keyword">if</span> (childNodes-&gt;<span class="built_in">count</span>() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        CCSprite *icon = (CCSprite *)childNodes-&gt;<span class="built_in">objectAtIndex</span>(<span class="number">0</span>);</span><br><span class="line">        icon-&gt;<span class="built_in">setRotation</span>(icon-&gt;<span class="built_in">getRotation</span>() + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/images/cocos2d-x-learning-3/scene2.png" alt="场景2"><br>这里声明并定义了RotatingIcon类，在此类中需要说明的是，在Cocos2D中，精灵的锚点在该精灵的中心，如一个包含图片的<code>CCSprite</code>对象，在没有明确设置锚点及坐标时，会显示在场景的左下角，且只显示四分之一，因此，对于精灵对象一般都需要明确指定其坐标。<br>在以上的代码中，使用<code>CCDirector::getWinSize()</code>得到游戏显示区域的大小，之后就可以在下面的<code>ccp(winSize.width/2, winSize.height/2)</code>中计算出场景的中心，经过此设置后，图片将显示在整个场景的中心，其中<code>ccp(__X__, __Y__)</code>是一个宏，这个宏可以用来产生一个<code>CCPoint</code>对象。<br><code>schedule</code>定义了一个执行计划，在以上代码中的调用方式，可以在程序在每一帧都执行一次指定的方法。<br>在<code>void RotatingIcon::rotatingIcon(float t)</code>方法中，程序首先获取当前场景的子元素，此调用将返回一个<code>CCArray</code>对象。在获取到第一个子元素后，直接对该元素的旋转角度进行加1的操作，以实现图标不间断旋转的功能。</p><p>最后，在<code>AppDelegate.cpp</code>文件中，将建立场景的那一行代码修改为<code>CCScene *pScene = StudyCocos2D::scene();</code>。</p><h3 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h3><p>今天练习的内容非常简单，就是实现了菜单、场景切换和图标定位及旋转的功能，这些都是基础的概念和元素，需要很好的掌握其用法。</p>]]></content>
      
      
      <categories>
          
          <category> Cocos2D </category>
          
      </categories>
      
      
        <tags>
            
            <tag> game </tag>
            
            <tag> cocos2d-x </tag>
            
            <tag> cocos2d </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于MySQL网络协议中的数据包序号</title>
      <link href="/2014/0328/about-the-seqno-of-packet-in-mysql-network-protocol.html"/>
      <url>/2014/0328/about-the-seqno-of-packet-in-mysql-network-protocol.html</url>
      
        <content type="html"><![CDATA[<p>对MySQL协议稍作了解后，我们就知道在协议中，服务端与客户端相互之间的通讯都是以包的形式进行的。</p><p>在这些包中，有一个固定的特征就是前四个字节用途不变，前三个字节表示数据包的长度，第四个字节表示当前包在本次交互中是序数。</p><p>前三个字节最大只能表达16M的长度，这是三个字节表达无符号整型的极限，所以，每次客户端可以接受到的最大数据包为16M+4个字节。</p><p>至于第四个字节，这是表达当前包的序数的，一个字节能表达的最大正整数是255。我们知道，在MySQL协议中，发送COM_QUERY命令后，服务器返回的数据格式为，响应头为一个包，然后，每一个字段的描述也会是一个包，字段说明后面会跟一个EOF包表示字段描述结束，之后则跟随的是表中的数据，每一个数据包表达一行数据，一般情况，我们每次从数据库里检索的条数，去掉描述协议的部分，在序数中我们还有不少空间可以用在数据记录上，但是，如果总的包数超过255，那会是怎么的情况哪？</p><p>在我们使用数据库的经验中，我们可以经常有机会看到很多条记录同时显示出来的例子，记录数明明超过了255，可是依然正常显示，这是为什么哪？</p><p>经过对MySQL交互嗅探，我发现在数据包次序达到255后，之后紧随的包的次序就变成了0，在Wireshark的协议分析中会认为这是错乱的协议，我想，这应该是MySQL特意使用的方式。</p><p>前后端的交互中，到发现次序达到255后，对序数加1，由于只使用了一个字节，所以数据溢出变成了0，这样的情况在MySQL协议中被认为是合法的，只要前后端认可这种方式，那这种通讯就不会出错。</p><p>所以我认为，在MySQL通讯中，包序号只是用来确认包的次序没有发生错误的，至于序号是几并不重要，只要认定255号后为0号是合法的，那就可以达到正常交互并保证数据序号不会出错的目的。</p>]]></content>
      
      
      <categories>
          
          <category> Database </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> network </tag>
            
            <tag> mysql packet </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cocos2D-X learning 2</title>
      <link href="/2014/0327/cocos2d-x-learning-2.html"/>
      <url>/2014/0327/cocos2d-x-learning-2.html</url>
      
        <content type="html"><![CDATA[<h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>今天学习了在Cocos2D-X开发中创建场景，以及在场景中加入图片资源，并通过写一个简单的例子对涉及到的CCLayer和CCSprite进行练习和熟悉。</p><h3 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h3><p>首先，场景类需要继承于CCLayer，并且必须实现类函数<code>CCScene *scene()</code>和虚函数<code>bool init()</code>,前者用于建立场景并在场景中加入层以备演示CCSprite，而后者则是用于对本场景进行初始化，代码如下：</p><figure class="highlight c++"><figcaption><span>GameScene.h</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __HelloCocos__GameScene__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __HelloCocos__GameScene__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;cocos2d.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cocos2d;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GameScene</span>:</span> <span class="keyword">public</span> CCLayer &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">bool</span> <span class="title">init</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> CCScene * <span class="title">scene</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="built_in">CREATE_FUNC</span>(GameScene);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* defined(__HelloCocos__GameScene__) */</span></span></span><br></pre></td></tr></table></figure><p>以上代码， <code>CREATE_FUNC(GameScene)</code>是一个宏，此宏的功能是为GameScene类创建一个<code>GameScene *GameScene::create()</code>类函数，由于此函数的功能单一，其主要作用就是用来调用对象中的<code>init()</code>方法，因此，使用宏对代码进行简化是一个非常好的方法。</p><span id="more"></span><figure class="highlight c++"><figcaption><span>GameScene.cpp</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;GameScene.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function">CCScene * <span class="title">GameScene::scene</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    CCScene *scene = CCScene::<span class="built_in">create</span>();</span><br><span class="line">    MyScene *layer = MyScene::<span class="built_in">create</span>();</span><br><span class="line">    scene-&gt;<span class="built_in">addChild</span>(layer);</span><br><span class="line">    <span class="keyword">return</span> scene;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">GameScene::init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!CCLayer::<span class="built_in">init</span>()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    CCSprite *sprite = CCSprite::<span class="built_in">create</span>(<span class="string">&quot;Icon-72.png&quot;</span>);</span><br><span class="line">    sprite-&gt;<span class="built_in">setPosition</span>(<span class="built_in">ccp</span>(<span class="number">300</span>, <span class="number">300</span>));</span><br><span class="line">    <span class="keyword">this</span>-&gt;<span class="built_in">addChild</span>(sprite);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以上这段代码完成了一个基本的CCLayer子函数，并对其进行合适的初始化。其主要工作为，在<code>CCScene *GameScene::scene()</code>方法中始建一个CCScene对象，并将此类的对象加入为子元素。</p><p>同时，在<code>bool GameScene::init()</code>方法中用一个图片文件初始化一个精灵对象，并将其加入层中的(300,300)位置。</p><p>其中，<code>ccp(300, 300)</code>是一个宏调用，这个宏的作用是实例化一个CCPoint对象，CCPoint类指示了屏幕上的一个坐标。</p><p>PS：在Cocos2D中，坐标点(0,0)为左下角，这一点与Web及iOS应用开发都是不同的，Web与iOS坐标(0,0)为显示区域的右上角。</p><figure class="highlight c++"><figcaption><span>AppDelegate.cpp</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;AppDelegate.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;GameScene.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">USING_NS_CC;</span><br><span class="line"></span><br><span class="line">AppDelegate::<span class="built_in">AppDelegate</span>() &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">AppDelegate::~<span class="built_in">AppDelegate</span>() </span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">AppDelegate::applicationDidFinishLaunching</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// initialize director</span></span><br><span class="line">    CCDirector* pDirector = CCDirector::<span class="built_in">sharedDirector</span>();</span><br><span class="line">    CCEGLView* pEGLView = CCEGLView::<span class="built_in">sharedOpenGLView</span>();</span><br><span class="line"></span><br><span class="line">    pDirector-&gt;<span class="built_in">setOpenGLView</span>(pEGLView);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// turn on display FPS</span></span><br><span class="line">    pDirector-&gt;<span class="built_in">setDisplayStats</span>(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// set FPS. the default value is 1.0/60 if you don&#x27;t call this</span></span><br><span class="line">    pDirector-&gt;<span class="built_in">setAnimationInterval</span>(<span class="number">1.0</span> / <span class="number">60</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// create a scene. it&#x27;s an autorelease object</span></span><br><span class="line">    CCScene *pScene = GameScene::<span class="built_in">scene</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// run</span></span><br><span class="line">    pDirector-&gt;<span class="built_in">runWithScene</span>(pScene);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// This function will be called when the app is inactive. When comes a phone call,it&#x27;s be invoked too</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AppDelegate::applicationDidEnterBackground</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    CCDirector::<span class="built_in">sharedDirector</span>()-&gt;<span class="built_in">stopAnimation</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// if you use SimpleAudioEngine, it must be pause</span></span><br><span class="line">    <span class="comment">// SimpleAudioEngine::sharedEngine()-&gt;pauseBackgroundMusic();</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// this function will be called when the app is active again</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AppDelegate::applicationWillEnterForeground</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    CCDirector::<span class="built_in">sharedDirector</span>()-&gt;<span class="built_in">startAnimation</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// if you use SimpleAudioEngine, it must resume here</span></span><br><span class="line">    <span class="comment">// SimpleAudioEngine::sharedEngine()-&gt;resumeBackgroundMusic();</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以上代码为建立Cocos2D-X项目时自动生成的，只需要修改成与上面一致，主要是此处的修改一致<code>CCScene *pScene = GameScene::scene()</code>。</p><h3 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h3><p>到这里，第一次在Cocos2D-X中写代码就完成了，到目前为止，感觉在游戏中的概念并不难接受，但是，这只是开头，学一种技能最重要的是能够坚持下去，否则再简单的东西也是学不到手的。</p>]]></content>
      
      
      <categories>
          
          <category> Cocos2D </category>
          
      </categories>
      
      
        <tags>
            
            <tag> game </tag>
            
            <tag> cocos2d-x </tag>
            
            <tag> cocos2d </tag>
            
            <tag> web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cocos2D-X learning 1</title>
      <link href="/2014/0327/cocos2d-x-learning-1.html"/>
      <url>/2014/0327/cocos2d-x-learning-1.html</url>
      
        <content type="html"><![CDATA[<p>最近学了一些关于Cocos2D-X的知道，在这里整理一下。</p><p>一直以来我做的都是后端的工作，现在突然有兴趣做一些前端的关于移动程序开发以及游戏开发方面的程序，对很多概念都是非常陌生的，不知道我后端开发方面的经验放在前端有没有一些用处。</p><h3 id="Cocos2D的简单介绍"><a href="#Cocos2D的简单介绍" class="headerlink" title="Cocos2D的简单介绍"></a>Cocos2D的简单介绍</h3><p>Cocos2D是一个应用非常广泛的2D游戏开发引擎，可以帮助对页面的元素进行方便的管理以及移动变形等操作，Cocos2D是基于Objective-C语言的，所以在iOS上的开发非常方便，但是跨平台方面就较差了，所以，就有了Cocos2D-X这一个基于C++的复刻版。</p><h3 id="Cocos2D的一些概念（这里只说我学到的）"><a href="#Cocos2D的一些概念（这里只说我学到的）" class="headerlink" title="Cocos2D的一些概念（这里只说我学到的）"></a>Cocos2D的一些概念（这里只说我学到的）</h3><ol><li>导演类CCDirector：这个类可以算是管理类，可以通过这个类获取到游戏运行界面的一些元素的属性，比如winSize等，在游戏中可以用来管理场景等。本类的使用方式为单例，通过类方法CCDirector::sharedDirecter获取对象。</li><li>OpenGL类CCEGLView：对于OpenGL我不是很了解，但是我猜是可以提供类似于DirectX之类的功能，应该是管理图像动画等操作的，CCDirector需要绑定一个CCEGLView对象才可以运行，也是以单例的方式使用，通过类方法CCEGLView::sharedOpenGLView获取对象。</li><li>场景类CCScene: 场景类继承于CCNode，在其中可以放置CCLayer类。</li><li>层CCLayer：此类同样继承于CCNode，在其中可以放置CCSprite类，我的理解CCLayer就相当于电影中的幕次吧。在游戏中定义的不同游戏场景都需要继承CCLayer，必须实现的方法有virtual CCScene * scene()/static bool init()/CREATE_FUNC(CustomSceneName)，其中CREATE_FUNC是宏，可以帮助建立create方法。</li><li>精灵类CCSprite：这应该是场景中更小的元素，在游戏中放置的背景、图片等都需要使用CCSprite，与CCScene一样都是继承自CCNode，由此可以判断，CCSprite类也是一个小场景，在其中可以加入其它的子元素，共同完成更复杂的动作。</li></ol><p>目前基本只学到了这些，明天继续。</p>]]></content>
      
      
      <categories>
          
          <category> Cocos2D </category>
          
      </categories>
      
      
        <tags>
            
            <tag> game </tag>
            
            <tag> cocos2d-x </tag>
            
            <tag> cocos2d </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>遭遇骗子</title>
      <link href="/2014/0228/encounter-swindlers.html"/>
      <url>/2014/0228/encounter-swindlers.html</url>
      
        <content type="html"><![CDATA[<h2 id="骗子出现"><a href="#骗子出现" class="headerlink" title="骗子出现"></a>骗子出现</h2><p>下午正在看书时，QQ提示有人加好友，由于我的QQ设置了加好友需要回答问题，所以，一般回答问题不是我认识的人，并且引不起我的兴趣的话我是不会加好友的。但是那骗子的QQ资料跟我一个朋友完全一样，而且我跟那朋友也好久没有联系了，虽然他在验证问题里回答的都是“认识的”，但是我还是以为是他本人换QQ了或是启用新号之类的原因，于是没有犹豫就加了好友。</p><h2 id="为行骗做铺垫"><a href="#为行骗做铺垫" class="headerlink" title="为行骗做铺垫"></a>为行骗做铺垫</h2><p>由于我一般不会在QQ上主动跟别人说话，所以尽管加了好友但是我并没有跟他说话。</p><p>等到他主动跟我说话时我首先问了一个我比较关心的问题，就是为什么突然又加我好友，其实这个时候我还没开始怀疑，因为我根本不记得那朋友以前用的QQ号，这骗子的回答是不小心把我删了，现在又加回来，我当时虽然觉得回答合理，可还是感觉有点不对劲，事后我反应过来，如果你把一个QQ好友删掉，恐怕你根本就不会记得你删掉好友的QQ号，又怎么可能那么容易加回来哪。</p><p>然后，对方马上让我发视频，说是要看看他那边还能不能显示，于是我发送了视频请求，然后对方视频刚一显示出来一个画面就不动了，然后对方马上跟我说新西兰这边网络太差，视频太卡了，然后就关掉了视频。当时看视频显示的画面确实是我朋友，当时只是觉得这画面好眼熟，其它的也没多想。</p><p>在识穿骗子的真面目后，我去朋友Q空间相册里找到了视频里显示的照片，看到照片后我又想到一个疑点，新西兰在南半球，这个时候应该是夏秋季节，可照片里是穿厚衣服的，这很明显不对头呀。</p><p>骗子之所以来这一手，其目的就是让你认为在电脑那头的就是你朋友，当你认为这是熟人之后自然就便于骗子下手了。</p><span id="more"></span><h2 id="骗子出手"><a href="#骗子出手" class="headerlink" title="骗子出手"></a>骗子出手</h2><p>经过以上的铺垫，骗子开始找我帮忙了，他说他想转钱给他国内的朋友，但是他朋友的银行卡没开跨国转帐的服务，所以他需要把钱转到我银行卡，然后再由我转帐到他朋友那里。</p><p>此时我感觉很奇怪，因为据我所知，在国外如果需要直接转帐到国内银行，很多人会选地下钱庄，或直接由国内的亲人朋友代转，这样能省掉很多手续费，虽然我不知道国内银行卡收款有没有跨国转帐这一个说法，但是我的卡也接收过几次境外转帐，从没有遇到过类似的问题，所以，我此时开始感觉有点不对劲。于是，我借口说我需要找一下银行卡。</p><p>先去找了张银行卡，然后我开始把这事跟王爷说了一下，问问他有啥建议，王爷说让我打Skype电话直接跟他通话或者通过视频验证一下，经王爷提醒我突然想到，以前跟这朋友聊天多是通过Skype的，但是为了防备对方又申请新Skype让我打过去，于是我让他打我的Skype，对方拒绝打电话，同时还质问我是什么意思，是不是不相信他，这时我再发视频请求，对方就直接拒绝掉了。</p><p>这个时候我已经可以确认对方是骗子了，但是为了怕误伤，我准备直接联系朋友原来的QQ号。</p><h2 id="确认身份"><a href="#确认身份" class="headerlink" title="确认身份"></a>确认身份</h2><p>发现之前我加的这朋友的QQ刚好在线，同时又怕万一那个号就是我朋友的，于是用比较委婉的问法问朋友到底有几个QQ号，朋友回答我只有一个，此时，我就完全确认了这人的骗子身份，于是让朋友检查一下电脑的安全问题，同时让他告诫其它朋友谨防骗子。</p><h2 id="猜测骗术"><a href="#猜测骗术" class="headerlink" title="猜测骗术"></a>猜测骗术</h2><p>虽然不知道他要使用什么骗术，看似他先转帐到我帐户对我来说没有风险，但是为以防万一，我们对银行的各种转帐的规则并不了解，谁也不知道他下一步会出什么招数。我印象中以前看过一种骗术，就是先转帐到受骗人银行帐户，然后以转错为借口让受骗人再退所得税之类的，受骗人转帐后，骗子还可以撤消转帐，这样就算是行骗成功了。</p><p>所以，我猜，这也许是种类似的骗术，对方在转帐到我银行卡后，就说他朋友急用钱，让我马上把钱转到他朋友帐户，然后在我转帐后，对方就直接撤消给我的转帐。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>通过跟朋友聊天，我们基本确认，这骗子是在朋友空间里看到了我在他空间的留言，然后修改QQ号的信息资料与朋友一致，然后加我好友，以似是而非的问话及回答让我认为他是我朋友。</p><p>这件事告诉我们一些什么经验哪？</p><p>不管是怎样的过程，一旦涉及到隐私、银行帐号、个人信息、关系之类的信息时一定要谨慎，一定要通过其它联系方法，如电话、视频等方法与朋友取得联系，确认后才能采取下一步行动。</p><p>另外，请各位把Q空间的隐私设置都改成仅好友可见吧，还有相册之类的，也都要限制访问，及时处理公共信息中可以让别人了解你个人关系的信息。</p>]]></content>
      
      
      <categories>
          
          <category> 日常生活 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> swindlers </tag>
            
            <tag> cheater </tag>
            
            <tag> faker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>我的编程进化史</title>
      <link href="/2014/0102/my-programming-development-history.html"/>
      <url>/2014/0102/my-programming-development-history.html</url>
      
        <content type="html"><![CDATA[<p>其实这篇博的题目原本是“我的C语言观”，这题目真扯淡，我是无论如何也不会想出要主动写这样的题目的，但是，因为表妹的狗P老师要求他们写这样的题目作为考试，虽然我不会帮她写作业，但是突然也想试试，对于一个这样大的题目，我都能写出什么来？所以，就试着写一下吧。</p><h2 id="闭门造车"><a href="#闭门造车" class="headerlink" title="闭门造车"></a>闭门造车</h2><p>现在想起来，开始接触C语言已经是很久很久之前的事情了，嗯，大概是95年吧，那时候突然对计算机兴起了很大的兴趣，但是与别人不同的是，我是对计算机本身以及里面的程序感兴趣，而对于电脑游戏我有种出于本能的反感，所以在基本上学习电脑学习编程的前十年，我没接触过电脑游戏，而且偶尔的几次陪同学一起去玩游戏，也完全没感觉到好玩。</p><p>再说回学习编程语言的过程吧，最早接触编程语言我记得是在同学的学习机上，那上面提供了一种Basic语言，好像是QBasic吧，对这门语言的记忆只剩下需要在每行的前面标记行号，这是一件很不人道的事情，直到后来接触到C语言。</p><p>刚开始接触到C语言时，对于函数的定义之类的有些费解，不过好像用了不久的时间就适应了，并且很乐于使用函数，然后慢慢了解到变量范围，学会使用不同的作用范围的变量。对了，还有，go关键字，刚开始时还觉得这用起来很方便，但是时间久了发现，这并没有想象的那么容易使用，而且在程序中跳来跳去让逻辑变得很乱。</p><p>由于C语言是我真正学习的第一门编程语言，在初期，我并不知道需要把不同的函数按照功能分放在不同的文件里，这导致了刚开始写的一些小程序只有一个文件，当时觉得头文件没有必要使用，更不用说extern关键字了，我甚至以为我发现了C语言设计的一些问题。</p><p>当时因为用的操作系统是MS-DOS，使用的开发工具叫做Turbo C，虽然感觉用起来不方便，但是这总算是全屏幕编辑器，可以自由的在文件内移动光标，总比行编辑器要好。当时是不知道有Linux这种操作系统，更不知道在Linux下有编辑器之神Vi，也不知道有神的编辑器Emacs。</p><p>随着不断的学习，写的代码似乎也越来越长，这时就觉得在一个文件里写代码太麻烦了，打开文件慢，寻找相应的代码也很麻烦，这时我试着把代码按功能分置在不同的文件中。此时，我终于可以在代码中包含我自己的头文件，这突然让我感觉到一种莫名的成就感，当时甚至在考虑，我是不是有必要把自己写的代码提供给别人使用了，这样会不会让我更有成就感。</p><span id="more"></span><p>在这个过程中，我终于体会到了extern的用处，也算是学到正确的全局变量的使用方法。虽然我知道适当的质疑是有利于学习的，但是关于extern关键字的这件事让我明白，在学习初期，没有了解到一定程度时还是不要有质疑的好，因为在全面了解这门语言之前，我并不知道相应的设计到底有什么用处。</p><p>我认为这是我学习C语言的初级阶段，在这个阶段只能算是在单纯的学习，虽然学到不少东西，但是因为没有实践的机会，虽然有些想法想写些程序出来，但是一直觉得真正写出自己想要的东西太难，不敢开始，这个毛病直到现在都还有，只不过症状稍轻一些。</p><p>初级阶段的学习基本上只持续到98年，当时我读高二，偶然的机会进入当地ISP网站做兼职，当时是让我帮忙制作网上书城的程序，那是个读书程序，就是从数据库中取数据显示在页面上，记录用户的阅读进度等功能，这个程序使用的语言是Perl，在这之前我从来都不知道这种语言，不过看起来很像C语言，而且因为我是学生，当时的老大给了我学习的时间。</p><p>在这里的兼职持续了一年多，在这段时间内我基本上没再碰过C语言，不过由于Perl属于C系的语言，这让我后来再回到C语言时并没有感觉到陌生。在兼职期间的老大教了我很多东西，让我知道程序应该是怎样写，怎样划分模块，怎样降低程序的耦合。更值得庆幸的是，在这里我接触到了Unix和Linux，知道了Vi，这为我后来对C语言的学习提供了极大的便利。</p><h2 id="工作中学习"><a href="#工作中学习" class="headerlink" title="工作中学习"></a>工作中学习</h2><p>进入大学的第一年，书本上、老师讲的内容全是我早就熟知的，这让我感觉很困惑，我想学习新的东西，可是课堂我接触不到，而且当时没有自己的电脑，学校的机房又不能随时进去。在困惑了一年后，我最终决定退学离开学校。</p><p>离开学校后我没有离开北京，而是在学校附近租了一间简单的小房子，买了一台电脑，当时电脑里装的是Win98。因为在兼职时已经习惯了Linux、习惯了Vi，我决定在我的电脑上安装Linux，由于担心把电脑搞到不能用，我选择了装双系统，这让我在装系统上浪费了很多时间，记得当时装的是RedHat7.3吧，安装好系统后发现中文显示、中文输入都不方便，然后又在网上各种搜索，在网上看到很多别人配置的很漂亮的Linux桌面，于是我又花很多时间在美化上，等我发现这样的做法很不对时已经过去了差不多半年的时间，就果断停止了这种浪费时间的事。</p><p>等我真正在Linux系统中开发C程序时我才发现，原来在Linux系统中学习C开发是多么的方便，写Perl的经历便我很熟悉文本处理，所以，重新回到C语言后我选择写的第一个程序是一个日志处理程序，我以为这个程序会很容易写出来，开始动手后我才发现，在文本处理方面C要比Perl弱了太多，当时我并不知道可以在网上找到很多公开的库来处理文本。</p><p>在这个程序的编写过程中，我遇到了可能是C语言最容易让人迷糊的知识点，那就是指针，因为并没有老师教我，所有的学习都是从书上查，那时候我不知道有Google的存在，而且那时的Google似乎也没有现在那么强大，我基本上都是从网易或雅虎寻找C语言相关的网站，然后再去这些网站去看一些零碎的C语言知识。</p><p>费了很多的时间，这个程序终于算是完成了，但是效率非常低，因为在匹配字符串的时候，我的做法全是完全匹配，每查找处理一行，都要回去查询相匹配的日期的统计数字，这就使程序的运行时间随着处理文件的增大而呈指数级的增加，这时在网上大牛们建议我学算法、数据结构，此时我又意识到自己的幼稚，因为我在学校的课程里就有一门叫做数据结构的课，可是我竟然觉得那没有用。</p><p>在我准备开始学习数据结构时又出现了问题，因为没有再读书，我羞于再跟家里要生活费了，我需要想办法养活自己然后才能接着学习，我决定出去找工作。</p><p>在出去找工作的过程中，我发现很多公司在招Java和PHP程序员，我更想去做C程序员，可是我发现社招C程序员的要求都很高，我还达不到要求，我想学习Java或PHP用于谋生，在比较过后，我发现Java的门槛有些高，我最终是决定学习PHP，花了并不太长的时间学会PHP，然后找到一份在现在看来很差的PHP工作，虽然收入不高，但是在当时想来，我满意，至少我可以养活自己了，那也是我真正独立的开始。</p><p>解决生计问题后，除了工作，我的业余时间全部都用来学习数据结构和C语言，在这段时间，似乎对C语言和算法的学习并没有得到应有的回报，但是，人总是会本能的珍惜自己的第一个，也许正是出于对C语言的感情，我并没有放弃学习。在这里工作期间，我把所有学习到的算法数据结构知识应用到日志处理程序中，总算是优化到效率基本高于同样的Perl程序。</p><p>时间到了2003年，当时在网上认识的一个朋友要开公司，他让我去浙江帮他忙，当时我没有犹豫就答应了，现在回想起来都觉得那时真的很单纯，如果放在现在我可能基本上不会同意去一个陌生的地方去帮一个当时还算陌生的人。</p><p>值得庆幸的是，我这个选择应该是正确的，因为那一次跳槽，我的C语言总算是真正的开始派上用场，朋友的公司是个小公司，当时准备做空间服务，而这之前他并没有任何的知识储备，于是我们一起设计业务流程，然后我加班搞定程序开发，刚开始的做法是用PHP接受前端的申请，保存到数据库，然后用C语言写的程序在后端处理这些请求，进行WEB和FTP的开通，但是这样的效率很低，空间的开通不够实时，而且，后面还会遇到用户修改空间大小的问题，而且因为服务运行在Windows上，FTP和WEB使用的帐号信息是分开的，这在同步时常遇到错误 ，而且IIS运行PHP也容易出现问题，更严重的问题是权限不易控制，于是，我们决定转移服务到Linux上。</p><p>因为涉及到数据迁移问题，而当时已经有不少付费用户运行在服务器上，我们不能让服务中断，这在当时我感觉非常棘手。最后想到的解决方案，先把用户信息独立出来，用户注册后的信息直接放入用户中心，不管新服务还是旧服务，获取用户信息都要通过用户中心。</p><p>这个需求又让我发现了需要学习的新知识，Socket编程，在完成用户中心后，我一直没停止对Socket方面知识的学习，任何一个方面的知识想要真正了解，深入下去就会发现，光这一方面就足够花费很长的时间了。</p><p>用户信息解决了之后，就要开始写WEB和FTP管理相关的程序，当时采用的方式是，用户注册的过程中就已经根据各个服务器的压力而分配到一台合适的服务器上，同时用户中心会把用户信息推送到相应服务器。因为注册过程是同步的，注册过程一返回，用户就可以直接根据网页中的信息登录服务器进行管理了，这在当时好像已经算是相对较高的水平了。在这个程序的编写过程中，我学会了编写Daemon进程，学会了select，学会了Apache模块的编写，扩展了vsftpd的功能，直到此时我才真正接触到了开源软件，意识到这是个学习的宝库。</p><p>自从意识到开源软件的存在后，我就养成了收集开源软件的癖好，但是真正认识读过的代码并不算太多。但是，不可否认的是，每个认真读过的开源软件都让我学到了很多，比如在Mysql学习到各种C语言的技巧的同时也学到了一些数据结构设计技巧和算法，比如在nginx中学到了epoll及kqueue,kevent等。</p><p>由实践中来到实践中去，在工作中应用C语言使我的进步非常快，而在编码能力进步的同时也更提高了工作的效率。我想，最好的学习方法就应该是这样，从使用中总结，再把得到的结论经验尽可能的应用到编码中，这在巩固的同时也更便于发现问题。</p><h2 id="在合适的时候使用C语言"><a href="#在合适的时候使用C语言" class="headerlink" title="在合适的时候使用C语言"></a>在合适的时候使用C语言</h2><p>在深入掌握一门语言的同时，也应该更多的接触其它的语言，只有这样才发现各种语言的优势、缺点，比如，在Perl和C的比较中，很明显Perl更适用于文本处理中，在处理文本内容时用Perl的话，开发效率要远远高于C，而在开发常驻系统的程序时，使用C要方便于Perl。</p><p>任何一种语言都是如此，都有其适用的方面，不应该局限于某一种语言，在合适的地方使用合适的语言这可以使自己生活的更轻松。</p><h2 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h2><p>进入这一行就是一条不归路，这是一个需要终生学习的行业，如果不关于学习，那就趁早改行，早点死心，省得浪费时间害人害己，划不来。</p>]]></content>
      
      
      <categories>
          
          <category> 技术生涯 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c </tag>
            
            <tag> programming </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>我们想要什么样的生活</title>
      <link href="//what-life-we-want"/>
      <url>//what-life-we-want</url>
      
        <content type="html"><![CDATA[<p>没有调查过调查过其它人的生活和思想状态，但是就我自己而言，我发现我对现状越来不满，当然这不是对我的家庭，我想这应该是对社会现状的极大不公平的心理抗争吧。没有在国外长期生活过，不知道生活在其它国家的普通人有没有发出生意的权利，但是从网络中得到的信息，我想，这总好过生活在灰暗空气中我们吧。</p><h2 id="民以食为天"><a href="#民以食为天" class="headerlink" title="民以食为天"></a>民以食为天</h2><p>天朝，北方，最受欢迎的早餐我猜大抵得算是油条、油饼、包子、豆浆、豆腐脑吧？天朝P民平时吃的菜的做法也基本上就是煎炒烹炸炖吧？仔细看看，发现我们吃的东西根本离不开油，那么做油的生意肯定很赚钱吧？然后，有人就想在这上面赚更多的钱了，然后地沟油出现了。</p><p>地沟油的问题经过一段时间的打压似乎销声匿迹了，而且似乎舆论也并不太关注了，可是大家都知道，一个暴利行业出现后，并不是那么容易消失的，你要知道，资本家为了百分之二百的利润是不惜走上绞刑台的。 还有需要担心的转基因食品，因为你不知道这种东西会给身体或者整个人类造成什么样的危害，很多的科学家或伪科学家们在热火朝天的争论这是否安全，能否出现在普通人的餐桌上，而于此同时他们还在桌下数着其为某势力代言得到的钞票，他们争论的焦点多半是由哪方从人民手中赚取利润。<br>当然，官员们也在关心这些哪边占领至高点对它的专政更有好处，对于其统治下的人们的健康问题它们不用担心，在天朝，他们在理所当然的享受着安全的特供食品，而这全是脚下的血肉灌注的。</p><h2 id="繁星似锦"><a href="#繁星似锦" class="headerlink" title="繁星似锦"></a>繁星似锦</h2><p>好好想想，我们有多久没有看到满天的星辰？ 夏天，吃过晚饭，把竹制茶几抬到院子里，再把两个竹椅抬出来，父亲泡着茶，孩子在旁边或撒欢或缠着父亲给讲个故事，父亲拿起扇子使劲摇了两下，然后另一手拿着紫砂小壶吱的吸一小口，“好，昨天咱们讲了织女牛郎星的故事，今天咱还讲跟星星有关的故事，你先把北斗星给老爸指出来。”，“正北边那个最亮的是北极星，那旁边七个比较亮长得像勺子的就是北斗星了”，父亲又拿起茶壶吸了一口，发出吱的一声，“好，那今天咱们就讲个霍去病倒看北斗的故事，霍去病是西汉年间的一位大将……”<br>时常想起小时候，老爸讲星星的故事给我听，边讲故事边指各个星的位置给我看，由此，我至今记住了很多星星。<br>我想把这些再讲给我儿子听，可是抬头看看，天空漆黑如墨，运气好的时候能看到在雾气蒙蒙中隐现的月亮，往远处看，也只能看到雾气昭昭中昏黄的路灯。<br>也不要再奢望在院子里乘凉了，现在在屋里都需要装空气过滤机，更何况，再也没有可能自己独用一个小院子了。</p><span id="more"></span><h2 id="成家立业"><a href="#成家立业" class="headerlink" title="成家立业"></a>成家立业</h2><p>成家立业，我的理解是，成家即结婚，立业的范围更广一些，首先是指家业，要立业首先是要有房子，然后要有安身立命之本，几千年的传统教育，让大多数国人把成家立业的主要责任交给了男人，当然，这也无可后非。不管是从生理还是心理，男人较女人都要更强势，但是这不能做为女人一边喊着“独立、男女平等”抛弃掉女人该承担的责任，一边还能理所当然的依附在男人身上吸血吃肉的理由。 这狗日的商人和当权者合伙把房价推到了一个完全不合理的高位，一个月的收入不吃不喝都不够当地一平米的房价。好吧，你国家解决不了这事，我们跟银行贷款买房，谁让咱爹娘不是富二代的爸妈哪，谁让丈母娘看不到房子就不让她闺女跟了咱哪，咱孩子成不了富二代，但是咱没准就能成富一代的爸妈哪，也不能委屈了孩子，得给孩子准备个好点的学区啊，爹娘卖房卖地还从牙缝里省下来的血汗钱，再加上辛苦工作几年省下的那点微不足道的存款，好不容易够了首付买一套100平的房子，这就是将来几十年三代人的住处了。你以为这就可以松口气了吗？想得美啊，你还要还三十年的房贷，而且几乎还的数额几乎相当于你每月的全部收入，这三十年你全家都不能生大病，生了小病你就抗吧，生抗不住就死抗。<br>媳妇娶进门，幸福就一定会随之而来吗？<br>不一定啊，看你媳妇是个啥人吧，如果你媳妇刚好是个千里挑一万里挑一的好媳妇，家务样样做得、对父母孝敬、对你体贴理解、对孩子能悉心照顾耐心教育，那你真就是积了八辈子德了，没事躲墙角偷着乐去吧，顺便注意一下有没有人准备把墙角挖开。<br>对于当前社会的主力，八零后来说，大多数是独生子女，从小就是照着唯我独尊的皇帝公主培养的，你想找一个这样的好媳妇，那难度不亚于肉身穿越太平洋。<br>你要是找个把女权、男女平等当口号喊的媳妇，那你一定上辈子上上辈子上上上辈子干了缺了大德的事了才遭这样的报应，你自己偷摸的跑墙角哭去吧，顺便看看有没有哪个不开眼的想挖你墙角的，直接推给他就行了。<br>把这样的极品女人娶进家门，你要先做好足够的心理准备，你得有钱，能够她折腾的；你还不能有脾气，不管她怎么折腾你不能生气，否则你得少活好几年；你不能有父母，当然有父母也不怕，因为这样的女人进门后很快你就没父母了；你不能有亲戚，因为她进门后，那些亲戚都会在你背后戳你脊梁骨；你得有很多朋友，多带你女人跟那些朋友玩，没准哪天你女人就跟你哪个朋友勾搭上了，这时你要做的就是赶紧把家产都给这女人，然后就可以清盘离场，从此你也许就能过上幸福的生活了。</p><h2 id="我们想要什么样的生活？"><a href="#我们想要什么样的生活？" class="headerlink" title="我们想要什么样的生活？"></a>我们想要什么样的生活？</h2><p>我想，不管怎样，不要是现在这样的生活应该就不会差到哪里去吧。</p>]]></content>
      
      
      <categories>
          
          <category> 日常生活 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>写写最近的一些情况吧</title>
      <link href="//something-at-last-2-month"/>
      <url>//something-at-last-2-month</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在OSC混了这么久，一直想写点东西来着，但是直到现在博客都是空的，主要原因我想有以下这么几点：</p><ul><li>所掌握的知识点较散，不成体系，没办法写出一篇漂亮的文章，于是就不想动手。</li><li>最近很少接触到新东西，缺乏写作的动力。</li><li>想写的东西已经有人写出了更好的文章出来，于是…</li><li>好吧，其实以上所写全是扯淡，主要是太懒了。</li></ul><p>最近突然特别想写点东西主要是最近身边发生了一些事。</p><h2 id="事情一"><a href="#事情一" class="headerlink" title="事情一"></a>事情一</h2><p>我的老板（其实就是之前我和另外一哥们跟着他开公司做游戏的哥们，这话说的有点绕的感觉），前几天夜里突然吐了很多血，据这哥们说，当时他正准备睡觉，然后就是一阵阵剧烈的咳嗽，同时吐出一些东西，他发现吐的是血已经是天亮准备去上班的时候了，在他老婆的押送下去了医院做检查，查了一天也没查出原因所在，医生的原话是，先开点药回去吃着，注意休息，等下次再吐血时马上来医院再做全面检查。</p><span id="more"></span><p>这件事给我极大的震撼，之前听说猝死的事，虽然基本上都是我们所在的圈子，但那毕竟不是身边的人，远没有这件事带来的影响大。</p><p>我猜测，老大之所以吐血，跟他最近一段时间忙碌有关。自从我们原来的小公司被现在这家公司收购后，整个团队开始进入极其忙碌的状态，先是由我负责的后端改造，那是今年三月中旬，从进入目前所在公司开始，几乎有接近两个月的时间，每天的状态都是极度高效的工作，而且是从早晨10点到晚上11点左右，有时甚至忙到夜里一两点钟，正常情况能睡到八点多，但是有时需要早起更新部分关键程序，只是因为早晨5、6、7点钟是在线人数最少的时候。</p><p>那段时间，我明显感觉白头发在增多，之前看不到几根的，最忙的那段时间，总是能无意中发现又多了几根白头发。不知道你们有没有体验过，在上厕所的路上都还要闭上眼睛放松一下，全天几乎都是在工位上坐着，吃饭的时候有人帮订好，帮拿到面前。</p><p>好在经过近两个月的时间，后端的改造全部完成，这时我可以轻松一些的时候，前端又开始根据策划或运营部门的要求进行增加或修改功能，在看着前端的兄弟忙碌的时候，我才发注意到，老大在这期间一直比我们还要忙，跟策划、运营部门开会讨论，跟技术部门协调谈需求，以及各种设计的定稿。</p><p>前端差不多忙完之后，我们又开始面对营收压力，一起讨论各种吸钱的功能和设定，还要顾及到不能让玩家伤筋动骨被吓跑，还要维护游戏的平衡。</p><p>之后，总算是相对平稳下来，绝大多数工作可以完全交给小弟们来做了，我们以为我们哥们总算是可以有时间去喝酒吃肉了，结果事情又来了，游戏在接入这个平台一个更高端的入口时被耍了，本来已经上线测试了，然后突然就被下线了，具体过程就不说了，对方给的原因是“乙方对甲方的态度不好”（这平台就不点名了，不过能这么牛B闪闪的平台相信都能猜的八九不离十）。这期间老大各种交涉，各种被压抑，然后就吐了。</p><blockquote><p>事情就说到这里，但是这给我的体会就是，不管多么重要的工作，身体始终是第一位的，不管怎样，都需要把身体的健康放在首位。我在最忙碌的这段时间，一直都极为担心身体出问题。本来就胖，而且饮食也不太注意，真的出了问题可能就是大问题了。</p></blockquote><blockquote><p><strong>切记</strong> 健康是最重要的。</p></blockquote><h2 id="事情二"><a href="#事情二" class="headerlink" title="事情二"></a>事情二</h2><p>在一个月前，我总算是决定面对自己的内心，把所有关于PHP的开发工作交给其它人做，我还是要专注于用C语言做一些能解决效率和负载问题的工作。另外，因为Java对我来说是个心结，曾经试图学过N次，可是一直找不到感觉，最&gt;近这段时间，也是必须要解决的，只要能用Java写一个完整的项目出来，我想这个结也就不存在了。</p><p>更大的变化是另外一个决定，重新拿起单片机。我天生是个爱折腾的人，从很小的时候就喜欢安静的看别人修车，稍大一些，拆收音机、拆手表、拆电视，为这个，没少被教训。之前曾学过单片机，但是因为工作原因，接触这方面东西的机会和时间都太少，一直就没能真正搞明白过，现在总算是比较空闲一些，我觉得可以再折腾折腾。</p><p>其实之所以重新学单片机的原因还有一个，我儿子两岁多了，我需要找一些好玩的东西，能带着他一起玩而且还能让他长知识的东西，想来想去，最后还是把主意打在了这上面。我不希望强制他学，我觉得引导和激发他的兴趣是最好的办法。我希望能给他留下的印象是“爸爸是个技术宅，没有他搞不定的东西”，我会先先从改造他的玩具开始，让他知道很多东西都是可以改变的，那些东西可以成为他想要的样子。另外，最近也有计划再买一套大些的房子，因为之前的房子的装修是我老婆全权决定的，所以再买的话就由我来负责了，我希望能自己动手把我家打造成一个有相当程度的智能化的家。</p><p>最近做了的关于智能化的事，首先是，因为家里隔音不错，一旦人在卧室里呆着，外面有人敲门是很难听得到的，我的解决方法是把一个单片机粘在门上，单片机上焊接了无线模块和震动传感器，在检测到一个时间周期内一定次数的震动后就用无线的方式发送信息，每个卧室放一个接收端，也是单片机，连接上无线模块、LED灯和蜂鸣器，可以选择闪灯或蜂鸣器报警。还有一个煤气泄漏报警，也是一个传感器和LED灯及蜂鸣器，但是我不确定当煤气达到一定尝试时，闪灯或打开蜂鸣器会不会造成电火花，还不敢用。还有一个准备做的，在北京租的房子里是电热水器，我希望可以在下班时自动把热水器打开，如果只是定时打开是很容易的，只要给单片机加个时钟模块，通过继电器控制强电，定时打开就可以了，可是万一需要加班，那回家的时间就不固定了，我的想法时，单片机通过无线或蓝牙模块连接上位机，上位机可以用Cubieboard或者Raspberry                                                             Pi，由上位机定时访问公网一个特定的地址，发送单片机设备的状态到这个地址，也可以从这个地址获取指定，然后发送控制信号给单片机执行，思路应该是可行的，但是还没开始动手做，希望能折腾出一点东西吧，这些经验积累起来，应该都可以用到我的设计里。</p><blockquote><p>之前不忙的时候，每到下午我就困的不行了，可是自从最近开始玩单片机，我很惊奇的发现，下午竟然不犯困了，我的习惯是上午把工作处理完，下午会做一些其它的事，现在每天下午会有一半的时间写点Java代码，另一半时间就看跟单片机相关的资料，像一些传感器的数据手册或是单片机或是跟电路设计有关的东西。</p></blockquote><blockquote><p>所以，我的体会是<strong>听从内心的声音吧，做自己喜欢的事会让自己的状态更好，做自己真正想做真正喜欢的事才能快乐</strong></p></blockquote><h2 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h2><p>胡乱写了一些东西，算是最近这段时间的体会，这也是我在OSC的处女做了，哈哈哈。</p>]]></content>
      
      
      <categories>
          
          <category> 日常生活 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>在游戏后端开发中我是怎样解决高并发高负载问题的</title>
      <link href="//how-do-i-dispose-the-high-load-in-game-server"/>
      <url>//how-do-i-dispose-the-high-load-in-game-server</url>
      
        <content type="html"><![CDATA[<h2 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h2><p>大概在两个多月前，我们之前的小公司被现在公司收购，从此，我就开始了水深火热的生活。再也不能享受走路五分钟就可以到公司的待遇了，想吃点早餐还要算着时间，不过好在现在这公司在10点前到公司都可以不算迟到。<br>除了生活上的问题，还有就是工作上也遇到了新的挑战。之前，公司在游戏的推广力度上不大，游戏服务也一直运行的非常不错，没出过大问题，更同遇到过负载问题，但是到了这边后就大不一样了。几乎来新公司之后就马上对游戏开始了大力的推广，于是就开始了地狱般的一个月。</p><h2 id="NoSQL"><a href="#NoSQL" class="headerlink" title="NoSQL"></a>NoSQL</h2><p>在游戏开始推广之前我们就已经意识到有可能会出现负载问题，到了新公司第一件事就是把一部分与其它库的关联不是那么密切表迁移到NoSQL数据库中，首批迁移的是建筑数据                                                 ，这是数据量最大记录条数最多的数据，在这里我们使用的是腾讯开放平台提供的CMEM，其实就是Memcached，只不过提供了持久化的能力。<br>由于之前没有尝试过使用NOSQL，出于对这种存储数据方式的不信任和不适应，我们决定保存两份数据，一份在CMEM中，同时再保存一份到数据库中，此处使用的数据库也是腾讯提供的CDB(其实就是MySQL)。我的做法是，在保存数据&gt;到memcached中后，马上把该操作生成sql写入队列，然后再由队列处理程序异步的将数据写入到数据库中，这个做法在刚开始压力没那么大的时候效果非常好，从memcached中读取数据要比从数据库读取的速度快不少。</p><h2 id="404-or-500"><a href="#404-or-500" class="headerlink" title="404 or 500"></a>404 or 500</h2><p>随着用户的增加，新的问题开始暴发出来。表现出来的现象是，一到在线高峰，用户就可以访问不到服务器，提示404错误，检查日志，发现出现404错误是由500错误引发的，由于没有配置500错误页面，500错误时找不到500错误页面，于是Nginx返回了404 Not Found。查看500错误，发现是无法连接fastcgi服务，然后就卡在这里了，当时没想起来可以记慢执行日志。<br>在腾讯开放后台查看统计数据时无意中发现，在每次出现大量404错误时数据库的连接数都暴高，猜测这可能是由于同时连接到数据库的客户端太多，查遍了所有有关连接数据库的位置，加入延迟连接数据库的代码，只在必要的时候&gt;连接数据库。这种做法虽然稍有改观，但是在在线高峰时还是会出现404错误。<br>在纠结于无法解决这个问题时，又检查了GM后台，以及感觉不起眼的队列同步服务，发现队列服务竟然没限制同时连接数，虽然里面加入了限制连接数的代码，但是没启用。果断限制连接数，然后再看，高峰时段平稳度过。</p><span id="more"></span><h2 id="分库"><a href="#分库" class="headerlink" title="分库"></a>分库</h2><p>在感觉游戏运行平稳之后，公司尝试给推广了一波，问题再次暴发出来，相同的问题，500造成404错误，数据库连接数再次超过限制，此时能限制的连接已经基本上全部限制了，还有什么办法哪？<br>既然单数据库的连接数已经到达极限，而且无法再进行连接方面的优化，那么就分库吧，建筑数据已经迁移到memcached中，而且不再直接从数据库中读取这部分数据，第一步就先把这部分数据分到新库中，由于这部分建筑数据已经&gt;大部分都迁移到了memcached中，此处分库之前只需要把队列处理程序停掉，所有对建筑进行的操作都保存进了队列，此时再把建筑数据迁移到新库，然后修改队列处理程序的目的库的配置，然后把队列程序运行起来，成功分库后，&gt;主库的压力一下减掉接近一半，总算可以暂时松一口气了。</p><h2 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h2><p>在系统暂时不出现问题的时候，我总算可以有时间做一下细节优化了，先找到慢查询日志，挨个分析，发现有不少全表扫描，这种情况肯定是不合理的，而且肯定有优化空间。</p><h3 id="找出所有SQL查询日志"><a href="#找出所有SQL查询日志" class="headerlink" title="找出所有SQL查询日志"></a>找出所有SQL查询日志</h3><p>这部分包括从慢查询日志中查找和在程序的数据查询模块记录所有发出的SQL，分析这些查询有否使用到索引、索引使用是否合理。</p><h3 id="确定优化方案"><a href="#确定优化方案" class="headerlink" title="确定优化方案"></a>确定优化方案</h3><p>对SQL的优化主要在合理使用索引和联合查询，尽量少使用或不使用子查询。先说一点索引优化，1、在一起对时间的处理上，把时间转成int型，索引的条件字段不能使用函数，否则不会使用索引。2、合理使用联合索引，联合索引千万不能滥用，否则不仅会挺慢添加新数据的效率，对检索并没有太多好处。另外要特别注意的是，联合索引的先后顺序很重要，当使用联合索引中的一个字段进行查询时，只有使用联合索引中的第一个索引字段才能利用到索引。</p><h2 id="再次分库"><a href="#再次分库" class="headerlink" title="再次分库"></a>再次分库</h2><p>随着在线人数越来越多，服务器压力一再暴涨，由于有了上次的经验，我们再次把修改频繁的资源道具单独使用一个库，同时再把查询压力非常大的交易分成独立的库，此时整个系统的查询是分散到4个库的，刚开始每个数据库的压&gt;力都被控制在30%以下，但是随着时间推移，问题又再一次……</p><h2 id="清除过期数据"><a href="#清除过期数据" class="headerlink" title="清除过期数据"></a>清除过期数据</h2><p>此次问题出现在交易库，数据无法修改，印象中似乎是事务无法提交之类的。据TX的DBA说应该是一个事务内的操作太多，但是检查后没发现有太多的情况，但是每次查询扫描的记录过来确实是存在的问题，最终在无法继续优化的前&gt;提下，把过期数据全都清掉了，过期交易数据清掉之后，交易相关的查询再也没出过问题。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>上一次因为负载过大对系统进行优化已经是一个月年的事了，到现在为止没有再出现过负载和并发问题。<br>在没有使用更先进的技术介入之前，我解决负载和并发问题的方法应该算是一个简单的思路。<br>主要就是适当使用NoSQL、按功能分库、合理使用索引、及时清理过期数据。<br>我现在正在考虑是否需要用C写一个专用服务端为游戏提供RESTful数据服务。</p>]]></content>
      
      
      <categories>
          
          <category> 架构 </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
