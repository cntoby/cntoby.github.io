<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Start to learn Haskell 01 | 老白说</title>
  <meta name="author" content="老白">
  
  <meta name="description" content="惯例闲话
昨天加班到比较晚，回家后基本上就11点多了，洗漱完毕基本上也就十二点了，不过还是坚持了一下，看了几页书，今天再接着写写。这次学的主要内容就是部分列表相关的操作，和区间以及列表推导式。由于每次都是睡觉前看上几页书并测试一下代码第二天才写BLOG，所以可能难免有些错误和遗漏，但是我仍然认为这样做是合理的，经过一段时间的理解和遗忘再加上回忆并记录下来，这可能更有利于掌握吧。
列表函数

null [1,2,3] 检查列表是否为空，返回True或False
take 2 [1,2,3] 获取前n个元素组成的列表，当n为0时返回空列表，当n大于列表长度时返回整个列表
drop 2 [1,2,3] 删除前n个元素，并返回剩余元素组成的列表，当n等于0时返回整个列表，当n大于列表长度时返回空
maximum [1,4,7,3,6] 返回列表中最大的元素
minimum [1,4,7,3,6] 返回列表中最小的元素
sum [3,6,9] 对列表中的元素进行求和
product [3,6,9] 对列表中的元素求积
elem 3 [5,4,3,2,1] 检查给定数据是否为列表中的元素，返回True或False

区间
简单区间
所谓区间，实际上是利用列表元素的规律以简单的方式生成较大列表的一种方法。例如，按之间所学习的，如果要定义一个从1到10所有整数的列表，就需要这样[1,2,3,4,5,6,7,8,9,10]，但是如果使用区间则可以简化成[1..10]，当然了，如果要生成字母A-Z的列表，同样可以使用类似的方法[&#39;A&#39;..&#39;Z&#39;]。">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Start to learn Haskell 01"/>
  <meta property="og:site_name" content="老白说"/>

  
    <meta property="og:image" content=""/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="老白说" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-36519147-1', 'auto');
	ga('send', 'pageview');

</script>


</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">老白说</a></h1>
  <h2><a href="/">讲述老白身边的故事</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-03-26T04:26:33.000Z"><a href="/2015/03/26/Start-to-learn-Haskell-01/">2015-03-26</a></time>
      
      
  
    <h1 class="title">Start to learn Haskell 01</h1>
  

    </header>
    <div class="entry">
      
        <h1>惯例闲话</h1>
<p>昨天加班到比较晚，回家后基本上就11点多了，洗漱完毕基本上也就十二点了，不过还是坚持了一下，看了几页书，今天再接着写写。这次学的主要内容就是部分列表相关的操作，和区间以及列表推导式。由于每次都是睡觉前看上几页书并测试一下代码第二天才写BLOG，所以可能难免有些错误和遗漏，但是我仍然认为这样做是合理的，经过一段时间的理解和遗忘再加上回忆并记录下来，这可能更有利于掌握吧。</p>
<h1>列表函数</h1>
<ul>
<li><code>null [1,2,3]</code> 检查列表是否为空，返回<code>True</code>或<code>False</code></li>
<li><code>take 2 [1,2,3]</code> 获取前n个元素组成的列表，当n为0时返回空列表，当n大于列表长度时返回整个列表</li>
<li><code>drop 2 [1,2,3]</code> 删除前n个元素，并返回剩余元素组成的列表，当n等于0时返回整个列表，当n大于列表长度时返回空</li>
<li><code>maximum [1,4,7,3,6]</code> 返回列表中最大的元素</li>
<li><code>minimum [1,4,7,3,6]</code> 返回列表中最小的元素</li>
<li><code>sum [3,6,9]</code> 对列表中的元素进行求和</li>
<li><code>product [3,6,9]</code> 对列表中的元素求积</li>
<li><code>elem 3 [5,4,3,2,1]</code> 检查给定数据是否为列表中的元素，返回<code>True</code>或<code>False</code></li>
</ul>
<h1>区间</h1>
<h2>简单区间</h2>
<p>所谓区间，实际上是利用列表元素的规律以简单的方式生成较大列表的一种方法。例如，按之间所学习的，如果要定义一个从1到10所有整数的列表，就需要这样<code>[1,2,3,4,5,6,7,8,9,10]</code>，但是如果使用区间则可以简化成<code>[1..10]</code>，当然了，如果要生成字母A-Z的列表，同样可以使用类似的方法<code>['A'..'Z']</code>。</p>
<a id="more"></a>
<h2>自定义步长的区间</h2>
<p>我们当然不可能只使用这种简单的+1+1+1的列表，可能我们还需要+2+2或+3+3这样的列表，那么，这样需要更改步长的区间的需求如何利用Haskell的区间生成哪，其实也很简单，确定列表最前面的两个连续元素，然后在<code>..</code>的后面加上最大值或最小值对列表进行限制，如<code>[2,5..10]</code>，这样就定义了一个<code>[2,5,8]</code>这样的列表，由2和5决定了本列表的步长，由10限制了列表的最大值。</p>
<h2>递减区间</h2>
<p>上面的所有示例都是递增的区间，递减的区间实现方法跟上面的示例非常相似，比如，<code>[10,9..1]</code>，需要特别注意的一点是，递减的区别不能用类似<code>[10..1]</code>这样的方式定义，因为在不没有步长因素的情况下，Haskell会认为这是递增区别，从10开始递增元素并寻找不大于1的元素，这当然是找不到的，所以用<code>[10..1]</code>定义的列表是个空列表。</p>
<h2>无限列表</h2>
<p>关于区间，我学到的最后的部分是关于无限列表的内容，所谓无限列表即是这个列表中的元素是无穷尽的，比如<code>[1,2..]</code>，这就是一个无限列表，它的元素就是从1开始，一直递增，没有终点。当然，无需对这个列表是否会占用太多计算机资源担心，Haskell是惰性语言，表达式就在那里，你不使用的时候它就是一个表达式，而当要使用这个列表时，系统才对其进行计算，比如<code>take 10 [1,5..]</code>，由于此表达式只是从无限列表中取10个元素出来，所以，系统只会计算到第10个元素即终止。</p>
<p>几个常见操作无限列表的方法</p>
<ul>
<li><code>cycle [1,2,3]</code> 无限循环列表</li>
<li><code>repeat 5</code> 生成只有参数组成的无限列表</li>
<li><code>replicate 5 10</code> 本语句生成的不是无限列表，而是由5个10组成的列表，与上一条有点相似，只不过上一条是无限列表，大多数时候可用本语句。</li>
</ul>
<h1>列表推导式</h1>
<p>不管是直接定义简单的列表或是用区间生成列表，现在看来都过于简单，也许还需要更复杂的列表生成规则，于是现在就用到了列表推导式，列表推导式可以由一个简单的列表进行过滤或计算生成一个更适用的列表。<br>
先来个简单的</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[x * <span class="number">2</span> | x &lt;- [<span class="number">1.</span><span class="number">.10</span>]]</span><br></pre></td></tr></table></figure>
<p>其中，<code>|</code>前面是要输出元素，后面是导入的列表，此表达式会将列表<code>[1..10]</code>中的每一个元素赋值给x传递到输出部分进行计算。还可以再给本推导式增加一个谓语，以对输出的元素进行过滤，如：</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[x * <span class="number">2</span> | x &lt;- [<span class="number">1.</span><span class="number">.10</span>], odd x]</span><br></pre></td></tr></table></figure>
<p>其中<code>odd x</code>是对x进行判断，如为奇数返回<code>True</code>，否则返回<code>False</code>，因此，以上推导式只会将奇数传递到输出部分进行计算。在Haskell的列表推导式中是可以增加多个谓语的，所以，还可以有如下的示例：</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[x * <span class="number">2</span> | x &lt;- [<span class="number">1.</span><span class="number">.10</span>], odd x, x &gt;= <span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<p>此示例又在前面的基础上限制了x必须大于等于5，除此之外，还可以在谓语中还可以使用自定义的函数，唯一的要求就是函数需要返回<code>True</code>或<code>False</code>，如：</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">byThree</span> x = <span class="keyword">if</span> x `mod` <span class="number">3</span> == <span class="number">0</span></span><br><span class="line">            <span class="keyword">then</span> <span class="type">True</span></span><br><span class="line">            <span class="keyword">else</span> <span class="type">False</span></span><br><span class="line">[x * <span class="number">2</span> | x &lt;- [<span class="number">1.</span><span class="number">.10</span>], byThree x]</span><br></pre></td></tr></table></figure>
<p>本示例使用了自定义的过滤函数<code>byThree</code>，只使用能被3整除了元素。<br>
除了在增加谓语对元素进行过滤外，还可以在输出中对数据进行整理，如</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ <span class="keyword">if</span> x*<span class="number">2</span> &lt; <span class="number">15</span> <span class="keyword">then</span> <span class="string">"Big"</span> <span class="keyword">else</span> <span class="string">"Bang"</span> | x &lt;- [<span class="number">1.</span><span class="number">.10</span>], byThree x]</span><br></pre></td></tr></table></figure>
<p>另外，推导式还可以支持多个输入，如：</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ x + y | x &lt;- [<span class="number">1.</span><span class="number">.10</span>], y &lt;- [<span class="number">11.</span><span class="number">.20</span>]]</span><br></pre></td></tr></table></figure>
<p>此表达式将输出一个对两个列表中的每个元素分别相加的列表，至于输出结果，因为比较长，写出来太难看，所以就免了。</p>
<p>此外，输入的列表还可以是列表的列表，在这里就不详细说了。</p>
<h1>结尾</h1>
<p>本来感觉昨天只看了不到半个小时的书，可写的内容应该没有多少的，结果万万没想到，竟然也让我罗嗦的那么半天，不过似乎还挺有意思的。<br>
今天下午4点去了一趟医院，看时间也不算早，再加上最近一段时间一直加班，今天就偷懒一下，早点回家休息休息，希望加班的兄弟们不要羡慕。<br>
因为今天回来的比较早，<a href="http://www.hector2.us/" target="_blank" rel="noopener">王爷</a>看到我好开心的样子，哈哈，这一个人在家里学习工作是有多寂寞啊，据王爷说最近一段时间，虽然合租在一套房子里，每天跟我的交流就是听到我打呼噜的节奏，不要误会，我俩不是住在同一个房间里，只不过是房间中间就隔了一堵墙。</p>

      
    </div>
    <footer>
      
        
  
  <div class="categories">
    <a href="/categories/haskell/">haskell</a>
  </div>

        
  
  <div class="tags">
    <a href="/tags/lisp/">lisp</a>, <a href="/tags/functionally/">functionally</a>, <a href="/tags/haskell/">haskell</a>, <a href="/tags/range/">range</a>
  </div>

        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
  <h1 class="title">Comments</h1>

  
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
<script>
 (function() {
     var d = document, s = d.createElement('script');
     s.src = 'https://cntoby.disqus.com/embed.js';
     s.setAttribute('data-timestamp', +new Date());
     (d.head || d.body).appendChild(s);
 })();
</script>
<script id="dsq-count-scr" src="//cntoby.disqus.com/count.js" async></script>
  
</section>

</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:www.tobycn.org">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">Categories</h3>
  <ul class="entry">
  
    <li><a href="/categories/Cocos2D/">Cocos2D</a><small>4</small></li>
  
    <li><a href="/categories/Game/">Game</a><small>1</small></li>
  
    <li><a href="/categories/Git/">Git</a><small>1</small></li>
  
    <li><a href="/categories/Reading/">Reading</a><small>1</small></li>
  
    <li><a href="/categories/Story/">Story</a><small>0</small></li>
  
    <li><a href="/categories/server/archlinux/">archlinux</a><small>1</small></li>
  
    <li><a href="/categories/coffee/">coffee</a><small>1</small></li>
  
    <li><a href="/categories/emacs/">emacs</a><small>1</small></li>
  
    <li><a href="/categories/functionally/emacs/">emacs</a><small>1</small></li>
  
    <li><a href="/categories/functionally/">functionally</a><small>1</small></li>
  
    <li><a href="/categories/haskell/">haskell</a><small>4</small></li>
  
    <li><a href="/categories/mysql/">mysql</a><small>1</small></li>
  
    <li><a href="/categories/mysql/network/">network</a><small>1</small></li>
  
    <li><a href="/categories/server/">server</a><small>1</small></li>
  
    <li><a href="/categories/技术生涯/">技术生涯</a><small>1</small></li>
  
    <li><a href="/categories/日常生活/">日常生活</a><small>4</small></li>
  
    <li><a href="/categories/架构/">架构</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/Story/">Story</a><small>0</small></li>
  
    <li><a href="/tags/TexturePacker/">TexturePacker</a><small>3</small></li>
  
    <li><a href="/tags/boot/">boot</a><small>1</small></li>
  
    <li><a href="/tags/c/">c</a><small>1</small></li>
  
    <li><a href="/tags/cheater/">cheater</a><small>1</small></li>
  
    <li><a href="/tags/cocos2d/">cocos2d</a><small>4</small></li>
  
    <li><a href="/tags/cocos2d-x/">cocos2d-x</a><small>4</small></li>
  
    <li><a href="/tags/coffee/">coffee</a><small>1</small></li>
  
    <li><a href="/tags/elisp/">elisp</a><small>2</small></li>
  
    <li><a href="/tags/emacs/">emacs</a><small>2</small></li>
  
    <li><a href="/tags/faker/">faker</a><small>1</small></li>
  
    <li><a href="/tags/functionally/">functionally</a><small>6</small></li>
  
    <li><a href="/tags/game/">game</a><small>5</small></li>
  
    <li><a href="/tags/gen8/">gen8</a><small>1</small></li>
  
    <li><a href="/tags/git/">git</a><small>1</small></li>
  
    <li><a href="/tags/gitolite/">gitolite</a><small>1</small></li>
  
    <li><a href="/tags/haskell/">haskell</a><small>4</small></li>
  
    <li><a href="/tags/hhkb/">hhkb</a><small>1</small></li>
  
    <li><a href="/tags/linux/">linux</a><small>1</small></li>
  
    <li><a href="/tags/lisp/">lisp</a><small>3</small></li>
  
    <li><a href="/tags/memory/">memory</a><small>0</small></li>
  
    <li><a href="/tags/mysql/">mysql</a><small>1</small></li>
  
    <li><a href="/tags/mysql-packet/">mysql packet</a><small>1</small></li>
  
    <li><a href="/tags/network/">network</a><small>1</small></li>
  
    <li><a href="/tags/programming/">programming</a><small>1</small></li>
  
    <li><a href="/tags/range/">range</a><small>1</small></li>
  
    <li><a href="/tags/sprite-sheet/">sprite sheet</a><small>1</small></li>
  
    <li><a href="/tags/ssh/">ssh</a><small>1</small></li>
  
    <li><a href="/tags/swindlers/">swindlers</a><small>1</small></li>
  
    <li><a href="/tags/tuple/">tuple</a><small>1</small></li>
  
    <li><a href="/tags/web/">web</a><small>2</small></li>
  
    <li><a href="/tags/zwoptex/">zwoptex</a><small>2</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2018 老白
  
</div>
<div class="clearfix"></div></footer>
  <script src="//code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>
